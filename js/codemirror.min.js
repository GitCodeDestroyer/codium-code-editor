function run_tests(){var a=new SanityTest;run_javascript_tests(a,Urlencoded,js_beautify,html_beautify,css_beautify),run_css_tests(a,Urlencoded,js_beautify,html_beautify,css_beautify),run_html_tests(a,Urlencoded,js_beautify,html_beautify,css_beautify),JavascriptObfuscator.run_tests(a),P_A_C_K_E_R.run_tests(a),Urlencoded.run_tests(a),MyObfuscate.run_tests(a);var b=a.results_raw().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\r/g,"·").replace(/\n/g,"<br>");$("#testresults").html(b).show()}function any(d,c){return d||c}function unpacker_filter(f){var d="",g="",c="",e=!1;do{e=!1,/^\s*\/\*/.test(f)?(e=!0,g=f.substr(0,f.indexOf("*/")+2),f=f.substr(g.length).replace(/^\s+/,""),d+=g+"\n"):/^\s*\/\//.test(f)&&(e=!0,g=f.match(/^\s*\/\/.*/)[0],f=f.substr(g.length).replace(/^\s+/,""),d+=g+"\n")}while(e);for(var b=[P_A_C_K_E_R,Urlencoded,MyObfuscate],a=0;a<b.length;a++){b[a].detect(f)&&(c=b[a].unpack(f),c!=f&&(f=unpacker_filter(c)))}return d+f}function beautify(b,d){beautify_in_progress=!0;var a,e=b?b.getValue():d.val(),c={};c.indent_size=$(".size-value").val(),c.indent_with_tabs=true,c.indent_char=1==c.indent_size?"	":" ",c.max_preserve_newlines=5,c.preserve_newlines="-1"!==c.max_preserve_newlines,c.keep_array_indentation=!0,c.break_chained_methods=!0,c.indent_scripts="normal",c.brace_style="end-expand",c.space_before_conditional=!0,c.unescape_strings=!1,c.jslint_happy=!0,c.end_with_newline=!0,c.wrap_line_length=0,1==inDisplayLang?a=html_beautify(e,c):2==inDisplayLang?(e=unpacker_filter(e),a=css_beautify(e,c)):3==inDisplayLang&&(e=unpacker_filter(e),a=js_beautify(e,c)),b?b.setValue(a):d.val(a),beautify_in_progress=!1}function looks_like_html(b){var c=b.replace(/^[ \t\n\r]+/,""),a="<!--";return c&&"<"===c.substring(0,1)&&c.substring(0,4)!==a}!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):b.CodeMirror=a()}(this,function(){function W(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}function ez(hj){for(var i=hj.childNodes.length;i>0;--i){hj.removeChild(hj.firstChild)}return hj}function cb(i,hj){return ez(i).appendChild(hj)}function gZ(hj,hn,hm,hl){var ho=document.createElement(hj);if(hm&&(ho.className=hm),hl&&(ho.style.cssText=hl),"string"==typeof hn){ho.appendChild(document.createTextNode(hn))}else{if(hn){for(var hk=0;hk<hn.length;++hk){ho.appendChild(hn[hk])}}}return ho}function g5(i,hl,hk,hj){var hm=gZ(i,hl,hk,hj);return hm.setAttribute("role","presentation"),hm}function g9(i,hj){if(3==hj.nodeType&&(hj=hj.parentNode),i.contains){return i.contains(hj)}do{if(11==hj.nodeType&&(hj=hj.host),hj==i){return !0}}while(hj=hj.parentNode)}function ei(){var i;try{i=document.activeElement}catch(hj){i=document.body||null}for(;i&&i.shadowRoot&&i.shadowRoot.activeElement;){i=i.shadowRoot.activeElement}return i}function gm(hj,i){var hk=hj.className;W(i).test(hk)||(hj.className+=(hk?" ":"")+i)}function gL(hl,hj){for(var hk=hl.split(" "),hm=0;hm<hk.length;hm++){hk[hm]&&!W(hk[hm]).test(hj)&&(hj+=" "+hk[hm])}return hj}function cU(hj){var i=Array.prototype.slice.call(arguments,1);return function(){return hj.apply(null,i)}}function aX(hk,hj,i){hj||(hj={});for(var hl in hk){!hk.hasOwnProperty(hl)||i===!1&&hj.hasOwnProperty(hl)||(hj[hl]=hk[hl])}return hj}function ca(hm,hk,ho,hp,hl){null==hk&&(hk=hm.search(/[^\s\u00a0]/),-1==hk&&(hk=hm.length));for(var hn=hp||0,hq=hl||0;;){var hj=hm.indexOf("	",hn);if(0>hj||hj>=hk){return hq+(hk-hn)}hq+=hj-hn,hq+=ho-hq%ho,hn=hj+1}}function dN(hl,hj){for(var hk=0;hk<hl.length;++hk){if(hl[hk]==hj){return hk}}return -1}function e1(hm,hl,hn){for(var ho=0,hk=0;;){var hj=hm.indexOf("	",ho);-1==hj&&(hj=hm.length);var i=hj-ho;if(hj==hm.length||hk+i>=hl){return ho+Math.min(i,hl-hk)}if(hk+=hj-ho,hk+=hn-hk%hn,ho=hj+1,hk>=hl){return ho}}}function cO(i){for(;ba.length<=i;){ba.push(gs(ba)+" ")}return ba[i]}function gs(i){return i[i.length-1]}function cc(hm,hl){for(var hj=[],hk=0;hk<hm.length;hk++){hj[hk]=hl(hm[hk],hk)}return hj}function cu(hm,hj,hk){for(var hl=0,i=hk(hj);hl<hm.length&&hk(hm[hl])<=i;){hl++}hm.splice(hl,0,hj)}function gN(){}function cI(hk,i){var hj;return Object.create?hj=Object.create(hk):(gN.prototype=hk,hj=new gN),i&&aX(i,hj),hj}function gp(i){return/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||bm.test(i))}function cZ(i,hj){return hj?hj.source.indexOf("\\w")>-1&&gp(i)?!0:hj.test(i):gp(i)}function fD(i){for(var hj in i){if(i.hasOwnProperty(hj)&&i[hj]){return !1}}return !0}function f8(i){return i.charCodeAt(0)>=768&&fq.test(i)}function eT(hj,hk,i){for(;(0>i?hk>0:hk<hj.length)&&f8(hj.charAt(hk));){hk+=i}return hk}function cL(i,hn,hm){for(var hk=hn>hm?-1:1;;){if(hn==hm){return hn}var hl=(hn+hm)/2,hj=0>hk?Math.ceil(hl):Math.floor(hl);if(hj==hn){return i(hj)?hn:hm}i(hj)?hm=hj:hn=hj+hk}}function fo(hj,hl,hk){var hm=this;this.input=hk,hm.scrollbarFiller=gZ("div",null,"CodeMirror-scrollbar-filler"),hm.scrollbarFiller.setAttribute("cm-not-content","true"),hm.gutterFiller=gZ("div",null,"CodeMirror-gutter-filler"),hm.gutterFiller.setAttribute("cm-not-content","true"),hm.lineDiv=g5("div",null,"CodeMirror-code"),hm.selectionDiv=gZ("div",null,null,"position: relative; z-index: 1"),hm.cursorDiv=gZ("div",null,"CodeMirror-cursors"),hm.measure=gZ("div",null,"CodeMirror-measure"),hm.lineMeasure=gZ("div",null,"CodeMirror-measure"),hm.lineSpace=g5("div",[hm.measure,hm.lineMeasure,hm.selectionDiv,hm.cursorDiv,hm.lineDiv],null,"position: relative; outline: none");var i=g5("div",[hm.lineSpace],"CodeMirror-lines");hm.mover=gZ("div",[i],null,"position: relative"),hm.sizer=gZ("div",[hm.mover],"CodeMirror-sizer"),hm.sizerWidth=null,hm.heightForcer=gZ("div",null,null,"position: absolute; height: "+eb+"px; width: 1px;"),hm.gutters=gZ("div",null,"CodeMirror-gutters"),hm.lineGutter=null,hm.scroller=gZ("div",[hm.sizer,hm.heightForcer,hm.gutters],"CodeMirror-scroll"),hm.scroller.setAttribute("tabIndex","-1"),hm.wrapper=gZ("div",[hm.scrollbarFiller,hm.gutterFiller,hm.scroller],"CodeMirror"),ed&&8>m&&(hm.gutters.style.zIndex=-1,hm.scroller.style.paddingRight=0),dr||cN&&eP||(hm.scroller.draggable=!0),hj&&(hj.appendChild?hj.appendChild(hm.wrapper):hj(hm.wrapper)),hm.viewFrom=hm.viewTo=hl.first,hm.reportedViewFrom=hm.reportedViewTo=hl.first,hm.view=[],hm.renderedView=null,hm.externalMeasured=null,hm.viewOffset=0,hm.lastWrapHeight=hm.lastWrapWidth=0,hm.updateLineNumbers=null,hm.nativeBarWidth=hm.barHeight=hm.barWidth=0,hm.scrollbarsClipped=!1,hm.lineNumWidth=hm.lineNumInnerWidth=hm.lineNumChars=null,hm.alignWidgets=!1,hm.cachedCharWidth=hm.cachedTextHeight=hm.cachedPaddingH=null,hm.maxLine=null,hm.maxLineLength=0,hm.maxLineChanged=!1,hm.wheelDX=hm.wheelDY=hm.wheelStartX=hm.wheelStartY=null,hm.shift=!1,hm.selForContextMenu=null,hm.activeTouch=null,hk.init(hm)}function fZ(hm,ho){if(ho-=hm.first,0>ho||ho>=hm.size){throw new Error("There is no line "+(ho+hm.first)+" in the document.")}for(var hj=hm;!hj.lines;){for(var hk=0;;++hk){var hn=hj.children[hk],hl=hn.chunkSize();if(hl>ho){hj=hn;break}ho-=hl}}return hj.lines[ho]}function g1(hk,hm,i){var hj=[],hl=hm.line;return hk.iter(hm.line,i.line+1,function(hn){var ho=hn.text;hl==i.line&&(ho=ho.slice(0,i.ch)),hl==hm.line&&(ho=ho.slice(hm.ch)),hj.push(ho),++hl}),hj}function bc(hj,hl,hk){var i=[];return hj.iter(hl,hk,function(hm){i.push(hm.text)}),i}function g4(hj,i){var hk=i-hj.height;if(hk){for(var hl=hj;hl;hl=hl.parent){hl.height+=hk}}}function b5(hj){if(null==hj.parent){return null}for(var hn=hj.parent,hm=dN(hn.lines,hj),hk=hn.parent;hk;hn=hk,hk=hk.parent){for(var hl=0;hk.children[hl]!=hn;++hl){hm+=hk.children[hl].chunkSize()}}return hm+hn.first}function bY(hp,ho){var hm=hp.first;outer:do{for(var hl=0;hl<hp.children.length;++hl){var hk=hp.children[hl],hj=hk.height;if(hj>ho){hp=hk;continue outer}ho-=hj,hm+=hk.chunkSize()}return hm}while(!hp.lines);for(var hn=0;hn<hp.lines.length;++hn){var hr=hp.lines[hn],hq=hr.height;if(hq>ho){break}ho-=hq}return hm+hn}function ct(hj,i){return i>=hj.first&&i<hj.first+hj.size}function e4(hj,hk){return String(hj.lineNumberFormatter(hk+hj.firstLineNumber))}function aa(i,hj,hk){return void 0===hk&&(hk=null),this instanceof aa?(this.line=i,this.ch=hj,void (this.sticky=hk)):new aa(i,hj,hk)}function cB(hj,i){return hj.line-i.line||hj.ch-i.ch}function ab(hj,i){return hj.sticky==i.sticky&&0==cB(hj,i)}function cE(i){return aa(i.line,i.ch)}function bO(hj,i){return cB(hj,i)<0?i:hj}function az(hj,i){return cB(hj,i)<0?hj:i}function dw(i,hj){return Math.max(i.first,Math.min(hj,i.first+i.size-1))}function gx(hj,hk){if(hk.line<hj.first){return aa(hj.first,0)}var i=hj.first+hj.size-1;return hk.line>i?aa(i,fZ(hj,i).text.length):gb(hk,fZ(hj,hk.line).text.length)}function gb(hk,hj){var i=hk.ch;return null==i||i>hj?aa(hk.line,hj):0>i?aa(hk.line,0):hk}function ex(hl,hm){for(var hj=[],hk=0;hk<hm.length;hk++){hj[hk]=gx(hl,hm[hk])}return hj}function gk(){hb=!0}function bN(){bh=!0}function eS(i,hk,hj){this.marker=i,this.from=hk,this.to=hj}function fU(hl,hj){if(hl){for(var hk=0;hk<hl.length;++hk){var hm=hl[hk];if(hm.marker==hj){return hm}}}}function fn(hk,hl){for(var hm,hj=0;hj<hk.length;++hj){hk[hj]!=hl&&(hm||(hm=[])).push(hk[hj])}return hm}function cz(i,hj){i.markedSpans=i.markedSpans?i.markedSpans.concat([hj]):[hj],hj.marker.attachLine(i)}function a0(hk,hl,hp){var hq;if(hk){for(var hn=0;hn<hk.length;++hn){var hr=hk[hn],ho=hr.marker,hj=null==hr.from||(ho.inclusiveLeft?hr.from<=hl:hr.from<hl);if(hj||hr.from==hl&&"bookmark"==ho.type&&(!hp||!hr.marker.insertLeft)){var hm=null==hr.to||(ho.inclusiveRight?hr.to>=hl:hr.to>hl);(hq||(hq=[])).push(new eS(ho,hr.from,hm?null:hr.to))}}}return hq}function aJ(hk,hm,hp){var hq;if(hk){for(var hn=0;hn<hk.length;++hn){var hr=hk[hn],ho=hr.marker,hl=null==hr.to||(ho.inclusiveRight?hr.to>=hm:hr.to>hm);if(hl||hr.from==hm&&"bookmark"==ho.type&&(!hp||hr.marker.insertLeft)){var hj=null==hr.from||(ho.inclusiveLeft?hr.from<=hm:hr.from<hm);(hq||(hq=[])).push(new eS(ho,hj?null:hr.from-hm,null==hr.to?null:hr.to-hm))}}}return hq}function eU(hE,hu){if(hu.full){return null}var hl=ct(hE,hu.from.line)&&fZ(hE,hu.from.line).markedSpans,hs=ct(hE,hu.to.line)&&fZ(hE,hu.to.line).markedSpans;if(!hl&&!hs){return null}var hr=hu.from.ch,hz=hu.to.ch,hw=0==cB(hu.from,hu.to),hq=a0(hl,hr,hw),ht=aJ(hs,hz,hw),hx=1==hu.text.length,ho=gs(hu.text).length+(hx?hr:0);if(hq){for(var hC=0;hC<hq.length;++hC){var hB=hq[hC];if(null==hB.to){var hv=fU(ht,hB.marker);hv?hx&&(hB.to=null==hv.to?null:hv.to+ho):hB.to=hr}}}if(ht){for(var hp=0;hp<ht.length;++hp){var hA=ht[hp];if(null!=hA.to&&(hA.to+=ho),null==hA.from){var hk=fU(hq,hA.marker);hk||(hA.from=ho,hx&&(hq||(hq=[])).push(hA))}else{hA.from+=ho,hx&&(hq||(hq=[])).push(hA)}}}hq&&(hq=s(hq)),ht&&ht!=hq&&(ht=s(ht));var hD=[hq];if(!hx){var hj,hy=hu.text.length-2;if(hy>0&&hq){for(var hn=0;hn<hq.length;++hn){null==hq[hn].to&&(hj||(hj=[])).push(new eS(hq[hn].marker,null,null))}}for(var hm=0;hy>hm;++hm){hD.push(hj)}hD.push(ht)}return hD}function s(hk){for(var hj=0;hj<hk.length;++hj){var hl=hk[hj];null!=hl.from&&hl.from==hl.to&&hl.marker.clearWhenEmpty!==!1&&hk.splice(hj--,1)}return hk.length?hk:null}function c8(hv,ht,hu){var hn=null;if(hv.iter(ht.line,hu.line+1,function(hw){if(hw.markedSpans){for(var hx=0;hx<hw.markedSpans.length;++hx){var hy=hw.markedSpans[hx].marker;!hy.readOnly||hn&&-1!=dN(hn,hy)||(hn||(hn=[])).push(hy)}}}),!hn){return null}for(var ho=[{from:ht,to:hu}],hp=0;hp<hn.length;++hp){for(var hq=hn[hp],hl=hq.find(0),hm=0;hm<ho.length;++hm){var hk=ho[hm];if(!(cB(hk.to,hl.from)<0||cB(hk.from,hl.to)>0)){var hs=[hm,1],hj=cB(hk.from,hl.from),hr=cB(hk.to,hl.to);(0>hj||!hq.inclusiveLeft&&!hj)&&hs.push({from:hk.from,to:hl.from}),(hr>0||!hq.inclusiveRight&&!hr)&&hs.push({from:hl.to,to:hk.to}),ho.splice.apply(ho,hs),hm+=hs.length-3}}}return ho}function g7(hj){var hl=hj.markedSpans;if(hl){for(var hk=0;hk<hl.length;++hk){hl[hk].marker.detachLine(hj)}hj.markedSpans=null}}function du(hj,hl){if(hl){for(var hk=0;hk<hl.length;++hk){hl[hk].marker.attachLine(hj)}hj.markedSpans=hl}}function w(i){return i.inclusiveLeft?-1:0}function cf(i){return i.inclusiveRight?1:0}function em(hl,hj){var hn=hl.lines.length-hj.lines.length;if(0!=hn){return hn}var hk=hl.find(),ho=hj.find(),i=cB(hk.from,ho.from)||w(hl)-w(hj);if(i){return -i}var hm=cB(hk.to,ho.to)||cf(hl)-cf(hj);return hm?hm:hj.id-hl.id}function bg(hk,ho){var hn,hj=bh&&hk.markedSpans;if(hj){for(var hm=void 0,hl=0;hl<hj.length;++hl){hm=hj[hl],hm.marker.collapsed&&null==(ho?hm.from:hm.to)&&(!hn||em(hn,hm.marker)<0)&&(hn=hm.marker)}}return hn}function fx(i){return bg(i,!0)}function e8(i){return bg(i,!1)}function A(hr,hl,hp,hq,hn){var hu=fZ(hr,hl),hj=bh&&hu.markedSpans;if(hj){for(var hm=0;hm<hj.length;++hm){var hk=hj[hm];if(hk.marker.collapsed){var ht=hk.marker.find(0),hs=cB(ht.from,hp)||w(hk.marker)-w(hn),ho=cB(ht.to,hq)||cf(hk.marker)-cf(hn);if(!(hs>=0&&0>=ho||0>=hs&&ho>=0)&&(0>=hs&&(hk.marker.inclusiveRight&&hn.inclusiveLeft?cB(ht.to,hp)>=0:cB(ht.to,hp)>0)||hs>=0&&(hk.marker.inclusiveRight&&hn.inclusiveLeft?cB(ht.from,hq)<=0:cB(ht.from,hq)<0))){return !0}}}}}function z(hj){for(var i;i=fx(hj);){hj=i.find(-1,!0).line}return hj}function cH(hj){for(var i;i=e8(hj);){hj=i.find(1,!0).line}return hj}function h(hk){for(var i,hj;i=e8(hk);){hk=i.find(1,!0).line,(hj||(hj=[])).push(hk)}return hj}function a6(hl,hj){var i=fZ(hl,hj),hk=z(i);return i==hk?hj:b5(hk)}function eB(hl,hk){if(hk>hl.lastLine()){return hk}var i,hj=fZ(hl,hk);if(!gf(hl,hj)){return hk}for(;i=e8(hj);){hj=i.find(1,!0).line}return b5(hj)+1}function gf(hn,hk){var hj=bh&&hk.markedSpans;if(hj){for(var hm=void 0,hl=0;hl<hj.length;++hl){if(hm=hj[hl],hm.marker.collapsed){if(null==hm.from){return !0}if(!hm.marker.widgetNode&&0==hm.from&&hm.marker.inclusiveLeft&&X(hn,hk,hm)){return !0}}}}}function X(ho,hk,hm){if(null==hm.to){var hj=hm.marker.find(1,!0);return X(ho,hj.line,fU(hj.line.markedSpans,hm.marker))}if(hm.marker.inclusiveRight&&hm.to==hk.text.length){return !0}for(var hn=void 0,hl=0;hl<hk.markedSpans.length;++hl){if(hn=hk.markedSpans[hl],hn.marker.collapsed&&!hn.marker.widgetNode&&hn.from==hm.to&&(null==hn.to||hn.to!=hm.from)&&(hn.marker.inclusiveLeft||hm.marker.inclusiveRight)&&X(ho,hk,hn)){return !0}}}function b4(hl){hl=z(hl);for(var hn=0,hk=hl.parent,hm=0;hm<hk.lines.length;++hm){var hj=hk.lines[hm];if(hj==hl){break}hn+=hj.height}for(var ho=hk.parent;ho;hk=ho,ho=hk.parent){for(var hq=0;hq<ho.children.length;++hq){var hp=ho.children[hq];if(hp==hk){break}hn+=hp.height}}return hn}function eX(hk){if(0==hk.height){return 0}for(var hj,i=hk.text.length,hn=hk;hj=fx(hn);){var hl=hj.find(0,!0);hn=hl.from.line,i+=hl.from.ch-hl.to.ch}for(hn=hk;hj=e8(hn);){var hm=hj.find(0,!0);i-=hn.text.length-hm.from.ch,hn=hm.to.line,i+=hn.text.length-hm.to.ch}return i}function g(i){var hk=i.display,hj=i.doc;hk.maxLine=fZ(hj,hj.first),hk.maxLineLength=eX(hk.maxLine),hk.maxLineChanged=!0,hj.iter(function(hm){var hl=eX(hm);hl>hk.maxLineLength&&(hk.maxLineLength=hl,hk.maxLine=hm)})}function eC(hj,hp,ho,hn){if(!hj){return hn(hp,ho,"ltr",0)}for(var hm=!1,hl=0;hl<hj.length;++hl){var hk=hj[hl];(hk.from<ho&&hk.to>hp||hp==ho&&hk.to==hp)&&(hn(Math.max(hk.from,hp),Math.min(hk.to,ho),1==hk.level?"rtl":"ltr",hl),hm=!0)}hm||hn(hp,ho,"ltr")}function aQ(hj,hl,hn){var hm;fN=null;for(var hk=0;hk<hj.length;++hk){var ho=hj[hk];if(ho.from<hl&&ho.to>hl){return hk}ho.to==hl&&(ho.from!=ho.to&&"before"==hn?hm=hk:fN=hk),ho.from==hl&&(ho.from!=ho.to&&"before"!=hn?hm=hk:fN=hk)}return null!=hm?hm:fN}function a(hj,hk){var i=hj.order;return null==i&&(i=hj.order=br(hj.text,hk)),i}function eV(hj,i){return hj._handlers&&hj._handlers[i]||fQ}function eN(hm,hk,hl){if(hm.removeEventListener){hm.removeEventListener(hk,hl,!1)}else{if(hm.detachEvent){hm.detachEvent("on"+hk,hl)}else{var hn=hm._handlers,i=hn&&hn[hk];if(i){var hj=dN(i,hl);hj>-1&&(hn[hk]=i.slice(0,hj).concat(i.slice(hj+1)))}}}}function aM(hn,hm){var hj=eV(hn,hm);if(hj.length){for(var hk=Array.prototype.slice.call(arguments,2),hl=0;hl<hj.length;++hl){hj[hl].apply(null,hk)}}}function a2(i,hk,hj){return"string"==typeof hk&&(hk={type:hk,preventDefault:function(){this.defaultPrevented=!0}}),aM(i,hj||hk.type,i,hk),b3(hk)||hk.codemirrorIgnore}function Z(hk){var hj=hk._handlers&&hk._handlers.cursorActivity;if(hj){for(var hm=hk.curOp.cursorActivityHandlers||(hk.curOp.cursorActivityHandlers=[]),hl=0;hl<hj.length;++hl){-1==dN(hm,hj[hl])&&hm.push(hj[hl])}}}function f4(hj,i){return eV(hj,i).length>0}function bQ(i){i.prototype.on=function(hj,hk){cg(this,hj,hk)},i.prototype.off=function(hj,hk){eN(this,hj,hk)}}function c5(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function dV(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function b3(i){return null!=i.defaultPrevented?i.defaultPrevented:0==i.returnValue}function e2(i){c5(i),dV(i)}function P(i){return i.target||i.srcElement}function gD(hj){var i=hj.which;return null==i&&(1&hj.button?i=1:2&hj.button?i=3:4&hj.button&&(i=2)),co&&hj.ctrlKey&&1==i&&(i=3),i}function bC(i){if(null==gB){var hk=gZ("span","");cb(i,gZ("span",[hk,document.createTextNode("x")])),0!=i.firstChild.offsetHeight&&(gB=hk.offsetWidth<=1&&hk.offsetHeight>2&&!(ed&&8>m))}var hj=gB?gZ("span",""):gZ("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return hj.setAttribute("cm-text",""),hj}function b6(hl){if(null!=gA){return gA}var i=cb(hl,document.createTextNode("AخA")),hk=cJ(i,0,1).getBoundingClientRect(),hj=cJ(i,1,2).getBoundingClientRect();return ez(hl),hk&&hk.left!=hk.right?gA=hj.right-hk.right<3:!1}function aU(hj){if(null!=fR){return fR}var hk=cb(hj,gZ("span","x")),hl=hk.getBoundingClientRect(),i=cJ(hk,0,1).getBoundingClientRect();return fR=Math.abs(hl.left-i.left)>1}function e5(i,hj){arguments.length>2&&(hj.dependencies=Array.prototype.slice.call(arguments,2)),dW[i]=hj}function bB(hj,i){a1[hj]=i}function ha(i){if("string"==typeof i&&a1.hasOwnProperty(i)){i=a1[i]}else{if(i&&"string"==typeof i.name&&a1.hasOwnProperty(i.name)){var hj=a1[i.name];"string"==typeof hj&&(hj={name:hj}),i=cI(hj,i),i.name=hj.name}else{if("string"==typeof i&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i)){return ha("application/xml")}if("string"==typeof i&&/^[\w\-]+\/[\w\-]+\+json$/.test(i)){return ha("application/json")}}}return"string"==typeof i?{name:i}:i||{name:"null"}}function gl(hk,hj){hj=ha(hj);var hm=dW[hj.name];if(!hm){return gl(hk,"text/plain")}var hn=hm(hk,hj);if(dU.hasOwnProperty(hj.name)){var hl=dU[hj.name];for(var ho in hl){hl.hasOwnProperty(ho)&&(hn.hasOwnProperty(ho)&&(hn["_"+ho]=hn[ho]),hn[ho]=hl[ho])}}if(hn.name=hj.name,hj.helperType&&(hn.helperType=hj.helperType),hj.modeProps){for(var i in hj.modeProps){hn[i]=hj.modeProps[i]}}return hn}function fi(hk,hj){var i=dU.hasOwnProperty(hk)?dU[hk]:dU[hk]={};aX(hj,i)}function cn(hl,i){if(i===!0){return i}if(hl.copyState){return hl.copyState(i)}var hk={};for(var hm in i){var hj=i[hm];hj instanceof Array&&(hj=hj.concat([])),hk[hm]=hj}return hk}function g6(hk,i){for(var hj;hk.innerMode&&(hj=hk.innerMode(i),hj&&hj.mode!=hk);){i=hj.state,hk=hj.mode}return hj||{mode:hk,state:i}}function ck(hk,hj,i){return hk.startState?hk.startState(hj,i):!0}function gj(ho,hq,hj,hm){var hp=[ho.state.modeGen],hl={};x(ho,hq.text,ho.doc.mode,hj,function(hr,hs){return hp.push(hr,hs)},hl,hm);for(var i=hj.state,hn=function(hu){hj.baseTokens=hp;var hs=ho.state.overlays[hu],ht=1,hr=0;hj.state=!0,x(ho,hq.text,hs.mode,hj,function(hv,hx){for(var hz=ht;hv>hr;){var hw=hp[ht];hw>hv&&hp.splice(ht,1,hv,hp[ht+1],hw),ht+=2,hr=Math.min(hv,hw)}if(hx){if(hs.opaque){hp.splice(hz,ht-hz,hv,"overlay "+hx),ht=hz+2}else{for(;ht>hz;hz+=2){var hy=hp[hz+1];hp[hz+1]=(hy?hy+" ":"")+"overlay "+hx}}}},hl),hj.state=i,hj.baseTokens=null,hj.baseTokenPos=1},hk=0;hk<ho.state.overlays.length;++hk){hn(hk)}return{styles:hp,classes:hl.bgClass||hl.textClass?hl:null}}function dA(hj,hl,hn){if(!hl.styles||hl.styles[0]!=hj.state.modeGen){var hm=fG(hj,b5(hl)),hk=hl.text.length>hj.options.maxHighlightLength&&cn(hj.doc.mode,hm.state),i=gj(hj,hl,hm);hk&&(hm.state=hk),hl.stateAfter=hm.save(!hk),hl.styles=i.styles,i.classes?hl.styleClasses=i.classes:hl.styleClasses&&(hl.styleClasses=null),hn===hj.doc.highlightFrontier&&(hj.doc.modeFrontier=Math.max(hj.doc.modeFrontier,++hj.doc.highlightFrontier))}return hl.styles}function fG(i,hp,hj){var hn=i.doc,hm=i.display;if(!hn.mode.startState){return new ae(hn,!0,hp)}var ho=cX(i,hp,hj),hl=ho>hn.first&&fZ(hn,ho-1).stateAfter,hk=hl?ae.fromSaved(hn,hl,ho):new ae(hn,ck(hn.mode),ho);return hn.iter(ho,hp,function(hq){d2(i,hq.text,hk);var hr=hk.line;hq.stateAfter=hr==hp-1||hr%5==0||hr>=hm.viewFrom&&hr<hm.viewTo?hk.save():null,hk.nextLine()}),hj&&(hn.modeFrontier=hk.line),hk}function d2(i,hn,hk,hj){var hm=i.doc.mode,hl=new fC(hn,i.options.tabSize,hk);for(hl.start=hl.pos=hj||0,""==hn&&f9(hm,hk.state);!hl.eol();){fg(hm,hl,hk.state),hl.start=hl.pos}}function f9(hk,hj){if(hk.blankLine){return hk.blankLine(hj)}if(hk.innerMode){var i=g6(hk,hj);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function fg(ho,hn,hm,hj){for(var hk=0;10>hk;hk++){hj&&(hj[0]=g6(ho,hm).mode);var hl=ho.token(hn,hm);if(hn.pos>hn.start){return hl}}throw new Error("Mode "+ho.name+" failed to advance stream.")}function cP(hq,ho,hl,hk){var i,hp=hq.doc,hm=hp.mode;ho=gx(hp,ho);var hn,hs=fZ(hp,ho.line),hj=fG(hq,ho.line,hl),hr=new fC(hs.text,hq.options.tabSize,hj);for(hk&&(hn=[]);(hk||hr.pos<ho.ch)&&!hr.eol();){hr.start=hr.pos,i=fg(hm,hr,hj.state),hk&&hn.push(new dD(hr,i,cn(hp.mode,hj.state)))}return hk?hn:new dD(hr,i,hj.state)}function dO(hk,hj){if(hk){for(;;){var i=hk.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i){break}hk=hk.slice(0,i.index)+hk.slice(i.index+i[0].length);var hl=i[1]?"bgClass":"textClass";null==hj[hl]?hj[hl]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(hj[hl])||(hj[hl]+=" "+i[2])}}return hk}function x(hs,hu,hn,hk,ho,hl,hm){var hj=hn.flattenSpans;null==hj&&(hj=hs.options.flattenSpans);var i,hq=0,hp=null,ht=new fC(hu,hs.options.tabSize,hk),hw=hs.options.addModeClass&&[null];for(""==hu&&dO(f9(hn,hk.state),hl);!ht.eol();){if(ht.pos>hs.options.maxHighlightLength?(hj=!1,hm&&d2(hs,hu,hk,ht.pos),ht.pos=hu.length,i=null):i=dO(fg(hn,ht,hk.state,hw),hl),hw){var hv=hw[0].name;hv&&(i="m-"+(i?hv+" "+i:hv))}if(!hj||hp!=i){for(;hq<ht.start;){hq=Math.min(ht.start,hq+5000),ho(hq,hp)}hp=i}ht.start=ht.pos}for(;hq<ht.pos;){var hr=Math.min(ht.pos,hq+5000);ho(hr,hp),hq=hr}}function cX(hp,hj,hm){for(var hk,hn,ho=hp.doc,hl=hm?-1:hj-(hp.doc.mode.innerMode?1000:100),hs=hj;hs>hl;--hs){if(hs<=ho.first){return ho.first}var hr=fZ(ho,hs-1),i=hr.stateAfter;if(i&&(!hm||hs+(i instanceof aP?i.lookAhead:0)<=ho.modeFrontier)){return hs}var hq=ca(hr.text,null,hp.options.tabSize);(null==hn||hk>hq)&&(hn=hs-1,hk=hq)}return hn}function hc(hk,hm){if(hk.modeFrontier=Math.min(hk.modeFrontier,hm),!(hk.highlightFrontier<hm-10)){for(var hl=hk.first,i=hm-1;i>hl;i--){var hj=fZ(hk,i).stateAfter;if(hj&&(!(hj instanceof aP)||i+hj.lookAhead<hm)){hl=i+1;break}}hk.highlightFrontier=Math.min(hk.highlightFrontier,hl)}}function eY(hj,hm,hk,i){hj.text=hm,hj.stateAfter&&(hj.stateAfter=null),hj.styles&&(hj.styles=null),null!=hj.order&&(hj.order=null),g7(hj),du(hj,hk);var hl=i?i(hj):1;hl!=hj.height&&g4(hj,hl)}function bS(i){i.parent=null,g7(i)}function fF(hk,hj){if(!hk||/^\s*$/.test(hk)){return null}var i=hj.addModeClass?cl:es;return i[hk]||(i[hk]=hk.replace(/\S+/g,"cm-$&"))}function fA(hp,ho){var hn=g5("span",null,null,dr?"padding-right: .1px":null),hm={pre:g5("pre",[hn],"CodeMirror-line"),content:hn,col:0,pos:0,cm:hp,trailingSpace:!1,splitSpaces:(ed||dr)&&hp.getOption("lineWrapping")};ho.measure={};for(var hl=0;hl<=(ho.rest?ho.rest.length:0);hl++){var hr=hl?ho.rest[hl-1]:ho.line,hk=void 0;hm.pos=0,hm.addToken=u,b6(hp.display.measure)&&(hk=a(hr,hp.doc.direction))&&(hm.addToken=Y(hm.addToken,hk)),hm.map=[];var hj=ho!=hp.display.externalMeasured&&b5(hr);bD(hr,hm,dA(hp,hr,hj)),hr.styleClasses&&(hr.styleClasses.bgClass&&(hm.bgClass=gL(hr.styleClasses.bgClass,hm.bgClass||"")),hr.styleClasses.textClass&&(hm.textClass=gL(hr.styleClasses.textClass,hm.textClass||""))),0==hm.map.length&&hm.map.push(0,0,hm.content.appendChild(bC(hp.display.measure))),0==hl?(ho.measure.map=hm.map,ho.measure.cache={}):((ho.measure.maps||(ho.measure.maps=[])).push(hm.map),(ho.measure.caches||(ho.measure.caches=[])).push({}))}if(dr){var hq=hm.content.lastChild;(/\bcm-tab\b/.test(hq.className)||hq.querySelector&&hq.querySelector(".cm-tab"))&&(hm.content.className="cm-tab-wrap-hack")}return aM(hp,"renderLine",hp,ho.line,hm.pre),hm.pre.className&&(hm.textClass=gL(hm.pre.className,hm.textClass||"")),hm}function fY(hj){var i=gZ("span","•","cm-invalidchar");return i.title="\\u"+hj.charCodeAt(0).toString(16),i.setAttribute("aria-label",i.title),i}function u(ht,ho,hy,hv,hr,hB,hn){if(ho){var hw,hx=ht.splitSpaces?c4(ho,ht.trailingSpace):ho,i=ht.cm.state.specialChars,hj=!1;if(i.test(ho)){hw=document.createDocumentFragment();for(var hl=0;;){i.lastIndex=hl;var hu=i.exec(ho),hA=hu?hu.index-hl:ho.length-hl;if(hA){var hq=document.createTextNode(hx.slice(hl,hl+hA));hw.appendChild(ed&&9>m?gZ("span",[hq]):hq),ht.map.push(ht.pos,ht.pos+hA,hq),ht.col+=hA,ht.pos+=hA}if(!hu){break}hl+=hA+1;var hz=void 0;if("	"==hu[0]){var hs=ht.cm.options.tabSize,hp=hs-ht.col%hs;hz=hw.appendChild(gZ("span",cO(hp),"cm-tab")),hz.setAttribute("role","presentation"),hz.setAttribute("cm-text","	"),ht.col+=hp}else{"\r"==hu[0]||"\n"==hu[0]?(hz=hw.appendChild(gZ("span","\r"==hu[0]?"␍":"␤","cm-invalidchar")),hz.setAttribute("cm-text",hu[0]),ht.col+=1):(hz=ht.cm.options.specialCharPlaceholder(hu[0]),hz.setAttribute("cm-text",hu[0]),hw.appendChild(ed&&9>m?gZ("span",[hz]):hz),ht.col+=1)}ht.map.push(ht.pos,ht.pos+1,hz),ht.pos++}}else{ht.col+=ho.length,hw=document.createTextNode(hx),ht.map.push(ht.pos,ht.pos+ho.length,hw),ed&&9>m&&(hj=!0),ht.pos+=ho.length}if(ht.trailingSpace=32==hx.charCodeAt(ho.length-1),hy||hv||hr||hj||hn){var hk=hy||"";hv&&(hk+=hv),hr&&(hk+=hr);var hm=gZ("span",[hw],hk,hn);return hB&&(hm.title=hB),ht.content.appendChild(hm)}ht.content.appendChild(hw)}}function c4(ho,hn){if(ho.length>1&&!/  /.test(ho)){return ho}for(var hk=hn,hj="",hl=0;hl<ho.length;hl++){var hm=ho.charAt(hl);" "!=hm||!hk||hl!=ho.length-1&&32!=ho.charCodeAt(hl+1)||(hm=" "),hj+=hm,hk=" "==hm}return hj}function Y(hj,i){return function(hr,ht,hk,ho,hu,hs,hq){hk=hk?hk+" cm-force-border":"cm-force-border";for(var hl=hr.pos,hn=hl+ht.length;;){for(var hm=void 0,hp=0;hp<i.length&&(hm=i[hp],!(hm.to>hl&&hm.from<=hl));hp++){}if(hm.to>=hn){return hj(hr,ht,hk,ho,hu,hs,hq)}hj(hr,ht.slice(0,hm.to-hl),hk,ho,null,hs,hq),ho=null,ht=ht.slice(hm.to-hl),hl=hm.to}}}function aj(hj,hl,i,hk){var hm=!hk&&i.widgetNode;hm&&hj.map.push(hj.pos,hj.pos+hl,hm),!hk&&hj.cm.display.input.needsContentAttribute&&(hm||(hm=hj.content.appendChild(document.createElement("span"))),hm.setAttribute("cm-marker",i.id)),hm&&(hj.cm.display.input.setUneditable(hm),hj.content.appendChild(hm)),hj.pos+=hl,hj.trailingSpace=!1}function bD(hu,hB,ht){var hp=hu.markedSpans,hr=hu.text,hz=0;if(hp){for(var hG,hv,hj,hJ,hy,hL,hl,hF=hr.length,ho=0,hE=1,hx="",hK=0;;){if(hK==ho){hj=hJ=hy=hL=hv="",hl=null,hK=1/0;for(var hq=[],hs=void 0,hC=0;hC<hp.length;++hC){var hD=hp[hC],hA=hD.marker;"bookmark"==hA.type&&hD.from==ho&&hA.widgetNode?hq.push(hA):hD.from<=ho&&(null==hD.to||hD.to>ho||hA.collapsed&&hD.to==ho&&hD.from==ho)?(null!=hD.to&&hD.to!=ho&&hK>hD.to&&(hK=hD.to,hJ=""),hA.className&&(hj+=" "+hA.className),hA.css&&(hv=(hv?hv+";":"")+hA.css),hA.startStyle&&hD.from==ho&&(hy+=" "+hA.startStyle),hA.endStyle&&hD.to==hK&&(hs||(hs=[])).push(hA.endStyle,hD.to),hA.title&&!hL&&(hL=hA.title),hA.collapsed&&(!hl||em(hl.marker,hA)<0)&&(hl=hD)):hD.from>ho&&hK>hD.from&&(hK=hD.from)}if(hs){for(var hI=0;hI<hs.length;hI+=2){hs[hI+1]==hK&&(hJ+=" "+hs[hI])}}if(!hl||hl.from==ho){for(var hH=0;hH<hq.length;++hH){aj(hB,0,hq[hH])}}if(hl&&(hl.from||0)==ho){if(aj(hB,(null==hl.to?hF+1:hl.to)-ho,hl.marker,null==hl.from),null==hl.to){return}hl.to==ho&&(hl=!1)}}if(ho>=hF){break}for(var hw=Math.min(hF,hK);;){if(hx){var hk=ho+hx.length;if(!hl){var hm=hk>hw?hx.slice(0,hw-ho):hx;hB.addToken(hB,hm,hG?hG+hj:hj,hy,ho+hm.length==hK?hJ:"",hL,hv)}if(hk>=hw){hx=hx.slice(hw-ho),ho=hw;break}ho=hk,hy=""}hx=hr.slice(hz,hz=ht[hE++]),hG=fF(ht[hE++],hB.cm.options)}}}else{for(var hn=1;hn<ht.length;hn+=2){hB.addToken(hB,hr.slice(hz,hz=ht[hn]),fF(ht[hn+1],hB.cm.options))}}}function bL(hk,i,hj){this.line=i,this.rest=h(i),this.size=this.rest?b5(gs(this.rest))-hj+1:1,this.node=this.text=null,this.hidden=gf(hk,i)}function fE(i,ho,hn){for(var hk,hm=[],hl=ho;hn>hl;hl=hk){var hj=new bL(i.doc,fZ(i.doc,hl),hl);hk=hl+hj.size,hm.push(hj)}return hm}function fb(i){bE?bE.ops.push(i):i.ownsGroup=bE={ops:[i],delayedCallbacks:[]}}function dk(hm){var hl=hm.delayedCallbacks,hk=0;do{for(;hk<hl.length;hk++){hl[hk].call(null)}for(var hj=0;hj<hm.ops.length;hj++){var hn=hm.ops[hj];if(hn.cursorActivityHandlers){for(;hn.cursorActivityCalled<hn.cursorActivityHandlers.length;){hn.cursorActivityHandlers[hn.cursorActivityCalled++].call(null,hn.cm)}}}}while(hk<hl.length)}function ch(hk,hj){var i=hk.ownsGroup;if(i){try{dk(i)}finally{bE=null,hj(i)}}}function ak(hp,hn){var hj=eV(hp,hn);if(hj.length){var ho,hl=Array.prototype.slice.call(arguments,2);bE?ho=bE.delayedCallbacks:bP?ho=bP:(ho=bP=[],setTimeout(aV,0));for(var hk=function(hq){ho.push(function(){return hj[hq].apply(null,hl)})},hm=0;hm<hj.length;++hm){hk(hm)}}}function aV(){var hj=bP;bP=null;for(var hk=0;hk<hj.length;++hk){hj[hk]()}}function ah(i,hk,hm,hn){for(var hj=0;hj<hk.changes.length;hj++){var hl=hk.changes[hj];"text"==hl?f5(i,hk):"gutter"==hl?dK(i,hk,hm,hn):"class"==hl?d9(i,hk):"widget"==hl&&av(i,hk,hn)}hk.changes=null}function gu(i){return i.node==i.text&&(i.node=gZ("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),ed&&8>m&&(i.node.style.zIndex=2)),i.node}function e7(i,hk){var hj=hk.bgClass?hk.bgClass+" "+(hk.line.bgClass||""):hk.line.bgClass;if(hj&&(hj+=" CodeMirror-linebackground"),hk.background){hj?hk.background.className=hj:(hk.background.parentNode.removeChild(hk.background),hk.background=null)}else{if(hj){var hl=gu(hk);hk.background=hl.insertBefore(gZ("div",null,hj),hl.firstChild),i.display.input.setUneditable(hk.background)}}}function er(i,hj){var hk=i.display.externalMeasured;return hk&&hk.line==hj.line?(i.display.externalMeasured=null,hj.measure=hk.measure,hk.built):fA(i,hj)}function f5(i,hl){var hj=hl.text.className,hk=er(i,hl);hl.text==hl.node&&(hl.node=hk.pre),hl.text.parentNode.replaceChild(hk.pre,hl.text),hl.text=hk.pre,hk.bgClass!=hl.bgClass||hk.textClass!=hl.textClass?(hl.bgClass=hk.bgClass,hl.textClass=hk.textClass,d9(i,hl)):hj&&(hl.text.className=hj)}function d9(hj,hk){e7(hj,hk),hk.line.wrapClass?gu(hk).className=hk.line.wrapClass:hk.node!=hk.text&&(hk.node.className="");var i=hk.textClass?hk.textClass+" "+(hk.line.textClass||""):hk.line.textClass;hk.text.className=i||""}function dK(hq,ho,hn,hp){if(ho.gutter&&(ho.node.removeChild(ho.gutter),ho.gutter=null),ho.gutterBackground&&(ho.node.removeChild(ho.gutterBackground),ho.gutterBackground=null),ho.line.gutterClass){var hj=gu(ho);ho.gutterBackground=gZ("div",null,"CodeMirror-gutter-background "+ho.line.gutterClass,"left: "+(hq.options.fixedGutter?hp.fixedPos:-hp.gutterTotalWidth)+"px; width: "+hp.gutterTotalWidth+"px"),hq.display.input.setUneditable(ho.gutterBackground),hj.insertBefore(ho.gutterBackground,ho.text)}var hl=ho.line.gutterMarkers;if(hq.options.lineNumbers||hl){var hr=gu(ho),hm=ho.gutter=gZ("div",null,"CodeMirror-gutter-wrapper","left: "+(hq.options.fixedGutter?hp.fixedPos:-hp.gutterTotalWidth)+"px");if(hq.display.input.setUneditable(hm),hr.insertBefore(hm,ho.text),ho.line.gutterClass&&(hm.className+=" "+ho.line.gutterClass),!hq.options.lineNumbers||hl&&hl["CodeMirror-linenumbers"]||(ho.lineNumber=hm.appendChild(gZ("div",e4(hq.options,hn),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+hp.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+hq.display.lineNumInnerWidth+"px"))),hl){for(var hk=0;hk<hq.options.gutters.length;++hk){var i=hq.options.gutters[hk],hs=hl.hasOwnProperty(i)&&hl[i];hs&&hm.appendChild(gZ("div",[hs],"CodeMirror-gutter-elt","left: "+hp.gutterLeft[i]+"px; width: "+hp.gutterWidth[i]+"px"))}}}}function av(i,hj,hm){hj.alignable&&(hj.alignable=null);for(var hl=hj.node.firstChild,hk=void 0;hl;hl=hk){hk=hl.nextSibling,"CodeMirror-linewidget"==hl.className&&hj.node.removeChild(hl)}gc(i,hj,hm)}function aN(i,hk,hl,hm){var hj=er(i,hk);return hk.text=hk.node=hj.pre,hj.bgClass&&(hk.bgClass=hj.bgClass),hj.textClass&&(hk.textClass=hj.textClass),d9(i,hk),dK(i,hk,hl,hm),gc(i,hk,hm),hk.node}function gc(hj,hl,hm){if(g3(hj,hl.line,hl,hm,!0),hl.rest){for(var hk=0;hk<hl.rest.length;hk++){g3(hj,hl.rest[hk],hl,hm,!1)}}}function g3(hr,hs,ho,hq,hm){if(hs.widgets){for(var hj=gu(ho),hl=0,hp=hs.widgets;hl<hp.length;++hl){var hn=hp[hl],hk=gZ("div",[hn.node],"CodeMirror-linewidget");hn.handleMouseEvents||hk.setAttribute("cm-ignore-events","true"),bW(hn,hk,ho,hq),hr.display.input.setUneditable(hk),hm&&hn.above?hj.insertBefore(hk,ho.gutter||ho.text):hj.appendChild(hk),ak(hn,"redraw")}}}function bW(hl,hk,i,hm){if(hl.noHScroll){(i.alignable||(i.alignable=[])).push(hk);var hj=hm.wrapperWidth;hk.style.left=hm.fixedPos+"px",hl.coverGutter||(hj-=hm.gutterTotalWidth,hk.style.paddingLeft=hm.gutterTotalWidth+"px"),hk.style.width=hj+"px"}hl.coverGutter&&(hk.style.zIndex=5,hk.style.position="relative",hl.noHScroll||(hk.style.marginLeft=-hm.gutterTotalWidth+"px"))}function dp(hk){if(null!=hk.height){return hk.height}var i=hk.doc.cm;if(!i){return 0}if(!g9(document.body,hk.node)){var hj="position: relative;";hk.coverGutter&&(hj+="margin-left: -"+i.display.gutters.offsetWidth+"px;"),hk.noHScroll&&(hj+="width: "+i.display.wrapper.clientWidth+"px;"),cb(i.display.measure,gZ("div",[hk.node],null,hj))}return hk.height=hk.node.parentNode.offsetHeight}function bl(hj,i){for(var hk=P(i);hk!=hj.wrapper;hk=hk.parentNode){if(!hk||1==hk.nodeType&&"true"==hk.getAttribute("cm-ignore-events")||hk.parentNode==hj.sizer&&hk!=hj.mover){return !0}}}function fT(i){return i.lineSpace.offsetTop}function bZ(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function fP(hl){if(hl.cachedPaddingH){return hl.cachedPaddingH}var hk=cb(hl.measure,gZ("pre","x")),i=window.getComputedStyle?window.getComputedStyle(hk):hk.currentStyle,hj={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(hj.left)||isNaN(hj.right)||(hl.cachedPaddingH=hj),hj}function dj(i){return eb-i.display.nativeBarWidth}function dQ(i){return i.display.scroller.clientWidth-dj(i)-i.display.barWidth}function dl(i){return i.display.scroller.clientHeight-dj(i)-i.display.barHeight}function cD(hq,hm,hp){var hl=hq.options.lineWrapping,hn=hl&&dQ(hq);if(!hm.measure.heights||hl&&hm.measure.width!=hn){var ho=hm.measure.heights=[];if(hl){hm.measure.width=hn;for(var hs=hm.text.firstChild.getClientRects(),hj=0;hj<hs.length-1;hj++){var hr=hs[hj],hk=hs[hj+1];Math.abs(hr.bottom-hk.bottom)>2&&ho.push((hr.bottom+hk.top)/2-hp.top)}}ho.push(hp.bottom-hp.top)}}function cS(hl,hj,hm){if(hl.line==hj){return{map:hl.measure.map,cache:hl.measure.cache}}for(var hk=0;hk<hl.rest.length;hk++){if(hl.rest[hk]==hj){return{map:hl.measure.maps[hk],cache:hl.measure.caches[hk]}}}for(var hn=0;hn<hl.rest.length;hn++){if(b5(hl.rest[hn])>hm){return{map:hl.measure.maps[hn],cache:hl.measure.caches[hn],before:!0}}}}function ds(i,hk){hk=z(hk);var hm=b5(hk),hj=i.display.externalMeasured=new bL(i.doc,hk,hm);hj.lineN=hm;var hl=hj.built=fA(i,hj);return hj.text=hl.pre,cb(i.display.lineMeasure,hl.pre),hj}function eQ(i,hj,hl,hk){return F(i,bf(i,hj),hl,hk)}function fW(i,hk){if(hk>=i.display.viewFrom&&hk<i.display.viewTo){return i.display.view[dX(i,hk)]}var hj=i.display.externalMeasured;return hj&&hk>=hj.lineN&&hk<hj.lineN+hj.size?hj:void 0}function bf(i,hk){var hl=b5(hk),hj=fW(i,hl);hj&&!hj.text?hj=null:hj&&hj.changes&&(ah(i,hj,hl,fX(i)),i.curOp.forceUpdate=!0),hj||(hj=ds(i,hk));var hm=cS(hj,hk,hl);return{line:hk,view:hj,rect:null,map:hm.map,cache:hm.cache,before:hm.before,hasHeights:!1}}function F(i,ho,hm,hj,hl){ho.before&&(hm=-1);var hn,hk=hm+(hj||"");return ho.cache.hasOwnProperty(hk)?hn=ho.cache[hk]:(ho.rect||(ho.rect=ho.view.text.getBoundingClientRect()),ho.hasHeights||(cD(i,ho.view,ho.rect),ho.hasHeights=!0),hn=l(i,ho,hm,hj),hn.bogus||(ho.cache[hk]=hn)),{left:hn.left,right:hn.right,top:hl?hn.rtop:hn.top,bottom:hl?hn.rbottom:hn.bottom}}function aT(hk,hj,hq){for(var hm,hl,ho,hr,hn,hs,hp=0;hp<hk.length;hp+=3){if(hn=hk[hp],hs=hk[hp+1],hn>hj?(hl=0,ho=1,hr="left"):hs>hj?(hl=hj-hn,ho=hl+1):(hp==hk.length-3||hj==hs&&hk[hp+3]>hj)&&(ho=hs-hn,hl=ho-1,hj>=hs&&(hr="right")),null!=hl){if(hm=hk[hp+2],hn==hs&&hq==(hm.insertLeft?"left":"right")&&(hr=hq),"left"==hq&&0==hl){for(;hp&&hk[hp-2]==hk[hp-3]&&hk[hp-1].insertLeft;){hm=hk[(hp-=3)+2],hr="left"}}if("right"==hq&&hl==hs-hn){for(;hp<hk.length-3&&hk[hp+3]==hk[hp+4]&&!hk[hp+5].insertLeft;){hm=hk[(hp+=3)+2],hr="right"}}break}}return{node:hm,start:hl,end:ho,collapse:hr,coverStart:hn,coverEnd:hs}}function fB(hk,hj){var hm=fe;if("left"==hj){for(var hl=0;hl<hk.length&&(hm=hk[hl]).left==hm.right;hl++){}}else{for(var hn=hk.length-1;hn>=0&&(hm=hk[hn]).left==hm.right;hn--){}}return hm}function l(hr,hB,hu,ho){var hk,hs=aT(hB.map,hu,ho),hz=hs.node,hn=hs.start,hm=hs.end,hj=hs.collapse;if(3==hz.nodeType){for(var hp=0;4>hp;hp++){for(;hn&&f8(hB.line.text.charAt(hs.coverStart+hn));){--hn}for(;hs.coverStart+hm<hs.coverEnd&&f8(hB.line.text.charAt(hs.coverStart+hm));){++hm}if(hk=ed&&9>m&&0==hn&&hm==hs.coverEnd-hs.coverStart?hz.parentNode.getBoundingClientRect():fB(cJ(hz,hn,hm).getClientRects(),ho),hk.left||hk.right||0==hn){break}hm=hn,hn-=1,hj="right"}ed&&11>m&&(hk=fv(hr.display.measure,hk))}else{hn>0&&(hj=ho="right");var hl;hk=hr.options.lineWrapping&&(hl=hz.getClientRects()).length>1?hl["right"==ho?hl.length-1:0]:hz.getBoundingClientRect()}if(ed&&9>m&&!hn&&(!hk||!hk.left&&!hk.right)){var hq=hz.parentNode.getClientRects()[0];hk=hq?{left:hq.left,right:hq.left+d6(hr.display),top:hq.top,bottom:hq.bottom}:fe}for(var hx=hk.top-hB.rect.top,hv=hk.bottom-hB.rect.top,hD=(hx+hv)/2,hC=hB.view.measure.heights,hA=0;hA<hC.length-1&&!(hD<hC[hA]);hA++){}var hy=hA?hC[hA-1]:0,hw=hC[hA],ht={left:("right"==hj?hk.right:hk.left)-hB.rect.left,right:("left"==hj?hk.left:hk.right)-hB.rect.left,top:hy,bottom:hw};return hk.left||hk.right||(ht.bogus=!0),hr.options.singleCursorHeightPerLine||(ht.rtop=hx,ht.rbottom=hv),ht}function fv(hk,hl){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!aU(hk)){return hl}var hj=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:hl.left*hj,right:hl.right*hj,top:hl.top*i,bottom:hl.bottom*i}}function aC(hk){if(hk.measure&&(hk.measure.cache={},hk.measure.heights=null,hk.rest)){for(var hj=0;hj<hk.rest.length;hj++){hk.measure.caches[hj]={}}}}function aY(hj){hj.display.externalMeasure=null,ez(hj.display.lineMeasure);for(var hk=0;hk<hj.display.view.length;hk++){aC(hj.display.view[hk])}}function ap(i){aY(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function cT(){return dH&&aW?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cR(){return dH&&aW?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ee(hk){var hj=0;if(hk.widgets){for(var hl=0;hl<hk.widgets.length;++hl){hk.widgets[hl].above&&(hj+=dp(hk.widgets[hl]))}}return hj}function fy(ho,hl,hn,hj,hk){if(!hk){var hp=ee(hl);hn.top+=hp,hn.bottom+=hp}if("line"==hj){return hn}hj||(hj="local");var hm=b4(hl);if("local"==hj?hm+=fT(ho.display):hm-=ho.display.viewOffset,"page"==hj||"window"==hj){var i=ho.display.lineSpace.getBoundingClientRect();hm+=i.top+("window"==hj?0:cR());var hq=i.left+("window"==hj?0:cT());hn.left+=hq,hn.right+=hq}return hn.top+=hm,hn.bottom+=hm,hn}function he(hj,hm,hk){if("div"==hk){return hm}var ho=hm.left,hn=hm.top;if("page"==hk){ho-=cT(),hn-=cR()}else{if("local"==hk||!hk){var hl=hj.display.sizer.getBoundingClientRect();ho+=hl.left,hn+=hl.top}}var i=hj.display.lineSpace.getBoundingClientRect();return{left:ho-i.left,top:hn-i.top}}function da(i,hm,hl,hk,hj){return hk||(hk=fZ(i.doc,hm.line)),fy(i,hk,eQ(i,hk,hm.ch,hj),hl)}function eq(ht,hr,hk,ho,hv,hp){function hm(hy,hx){var hw=F(ht,hv,hy,hx?"right":"left",hp);return hx?hw.left=hw.right:hw.right=hw.left,fy(ht,ho,hw,hk)}function hu(hz,hw,hA){var hx=hn[hw],hy=1==hx.level;return hm(hA?hz-1:hz,hy!=hA)}ho=ho||fZ(ht.doc,hr.line),hv||(hv=bf(ht,ho));var hn=a(ho,ht.doc.direction),i=hr.ch,hs=hr.sticky;if(i>=ho.text.length?(i=ho.text.length,hs="before"):0>=i&&(i=0,hs="after"),!hn){return hm("before"==hs?i-1:i,"before"==hs)}var hj=aQ(hn,i,hs),hq=fN,hl=hu(i,hj,"before"==hs);return null!=hq&&(hl.other=hu(i,hq,"before"!=hs)),hl}function ea(i,hm){var hl=0;hm=gx(i.doc,hm),i.options.lineWrapping||(hl=d6(i.display)*hm.ch);var hj=fZ(i.doc,hm.line),hk=b4(hj)+fT(i.display);return{left:hl,right:hl,top:hk,bottom:hk+hj.height}}function gX(i,hj,hl,hk,hn){var hm=aa(i,hj,hl);return hm.xRel=hn,hk&&(hm.outside=!0),hm}function gF(hp,hm,hl){var ho=hp.doc;if(hl+=hp.display.viewOffset,0>hl){return gX(ho.first,0,null,!0,-1)}var hk=bY(ho,hl),hq=ho.first+ho.size-1;if(hk>hq){return gX(ho.first+ho.size-1,fZ(ho,hq).text.length,null,!0,1)}0>hm&&(hm=0);for(var hj=fZ(ho,hk);;){var hr=dq(hp,hj,hk,hm,hl),hn=e8(hj),i=hn&&hn.find(0,!0);if(!hn||!(hr.ch>i.from.ch||hr.ch==i.from.ch&&hr.xRel>0)){return hr}hk=b5(hj=i.to.line)}}function bA(i,hk,hm,hn){hn-=ee(hk);var hj=hk.text.length,hl=cL(function(ho){return F(i,hm,ho-1).bottom<=hn},hj,0);return hj=cL(function(ho){return F(i,hm,ho).top>hn},hl,hj),{begin:hl,end:hj}}function by(i,hj,hl,hm){hl||(hl=bf(i,hj));var hk=fy(i,hj,F(i,hl,hm),"line").top;return bA(i,hj,hl,hk)}function ay(hj,i,hl,hk){return hj.bottom<=hl?!1:hj.top>hl?!0:(hk?hj.left:hj.right)>i}function dq(hl,hj,hp,ho,hn){hn-=b4(hj);var ht=bf(hl,hj),hC=ee(hj),hA=0,hk=hj.text.length,hx=!0,hv=a(hj,hl.doc.direction);if(hv){var hu=(hl.options.lineWrapping?gU:gz)(hl,hj,hp,ht,hv,ho,hn);hx=1!=hu.level,hA=hx?hu.from:hu.to-1,hk=hx?hu.to:hu.from-1}var i,hB,hm=null,hr=null,hs=cL(function(hD){var hE=F(hl,ht,hD);return hE.top+=hC,hE.bottom+=hC,ay(hE,ho,hn,!1)?(hE.top<=hn&&hE.left<=ho&&(hm=hD,hr=hE),!0):!1},hA,hk),hz=!1;if(hr){var hy=ho-hr.left<hr.right-ho,hq=hy==hx;hs=hm+(hq?0:1),hB=hq?"after":"before",i=hy?hr.left:hr.right}else{hx||hs!=hk&&hs!=hA||hs++,hB=0==hs?"after":hs==hj.text.length?"before":F(hl,ht,hs-(hx?1:0)).bottom+hC<=hn==hx?"after":"before";var hw=eq(hl,aa(hp,hs,hB),"line",hj,ht);i=hw.left,hz=hn<hw.top||hn>=hw.bottom}return hs=eT(hj.text,hs,1),gX(hp,hs,hB,hz,ho-i)}function gz(hr,hn,hm,hs,hl,hq,hp){var ho=cL(function(hv){var ht=hl[hv],hu=1!=ht.level;return ay(eq(hr,aa(hm,hu?ht.to:ht.from,hu?"before":"after"),"line",hn,hs),hq,hp,!0)},0,hl.length-1),hk=hl[ho];if(ho>0){var hj=1!=hk.level,i=eq(hr,aa(hm,hj?hk.from:hk.to,hj?"after":"before"),"line",hn,hs);ay(i,hq,hp,!0)&&i.top>hp&&(hk=hl[ho-1])}return hk}function gU(hw,hr,hu,hz,ho,hv,ht){var hn=bA(hw,hr,hz,ht),hm=hn.begin,hp=hn.end;/\s/.test(hr.text.charAt(hp-1))&&hp--;for(var hl=null,hx=null,hq=0;hq<ho.length;hq++){var hj=ho[hq];if(!(hj.from>=hp||hj.to<=hm)){var hk=1!=hj.level,hy=F(hw,hz,hk?Math.min(hp,hj.to)-1:Math.max(hm,hj.from)).right,hs=hv>hy?hv-hy+1000000000:hy-hv;(!hl||hx>hs)&&(hl=hj,hx=hs)}}return hl||(hl=ho[ho.length-1]),hl.from<hm&&(hl={from:hm,to:hl.to,level:hl.level}),hl.to>hp&&(hl={from:hl.from,to:hp,level:hl.level}),hl}function a9(hl){if(null!=hl.cachedTextHeight){return hl.cachedTextHeight}if(null==aO){aO=gZ("pre");for(var hk=0;49>hk;++hk){aO.appendChild(document.createTextNode("x")),aO.appendChild(gZ("br"))}aO.appendChild(document.createTextNode("x"))}cb(hl.measure,aO);var hj=aO.offsetHeight/50;return hj>3&&(hl.cachedTextHeight=hj),ez(hl.measure),hj||1}function d6(hm){if(null!=hm.cachedCharWidth){return hm.cachedCharWidth}var i=gZ("span","xxxxxxxxxx"),hl=gZ("pre",[i]);cb(hm.measure,hl);var hk=i.getBoundingClientRect(),hj=(hk.right-hk.left)/10;return hj>2&&(hm.cachedCharWidth=hj),hj||10}function fX(hj){for(var ho=hj.display,hm={},hl={},hn=ho.gutters.clientLeft,hp=ho.gutters.firstChild,hk=0;hp;hp=hp.nextSibling,++hk){hm[hj.options.gutters[hk]]=hp.offsetLeft+hp.clientLeft+hn,hl[hj.options.gutters[hk]]=hp.clientWidth}return{fixedPos:eu(ho),gutterTotalWidth:ho.gutters.offsetWidth,gutterLeft:hm,gutterWidth:hl,wrapperWidth:ho.wrapper.clientWidth}}function eu(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function bo(i){var hk=a9(i.display),hj=i.options.lineWrapping,hl=hj&&Math.max(5,i.display.scroller.clientWidth/d6(i.display)-3);return function(hn){if(gf(i.doc,hn)){return 0}var hm=0;if(hn.widgets){for(var ho=0;ho<hn.widgets.length;ho++){hn.widgets[ho].height&&(hm+=hn.widgets[ho].height)}}return hj?hm+(Math.ceil(hn.text.length/hl)||1)*hk:hm+hk}}function ad(i){var hk=i.doc,hj=bo(i);hk.iter(function(hl){var hm=hj(hl);hm!=hl.height&&g4(hl,hm)})}function cM(hr,hm,hj,hk){var hn=hr.display;if(!hj&&"true"==P(hm).getAttribute("cm-not-content")){return null}var hq,ho,i=hn.lineSpace.getBoundingClientRect();try{hq=hm.clientX-i.left,ho=hm.clientY-i.top}catch(hm){return null}var hs,hp=gF(hr,hq,ho);if(hk&&1==hp.xRel&&(hs=fZ(hr.doc,hp.line).text).length==hp.ch){var hl=ca(hs,hs.length,hr.options.tabSize)-hs.length;hp=aa(hp.line,Math.max(0,Math.round((hq-fP(hr.display).left)/d6(hr.display))-hl))}return hp}function dX(hj,hm){if(hm>=hj.display.viewTo){return null}if(hm-=hj.display.viewFrom,0>hm){return null}for(var hk=hj.display.view,hl=0;hl<hk.length;hl++){if(hm-=hk[hl].size,0>hm){return hl}}}function bT(i){i.display.input.showSelection(i.display.input.prepareSelection())}function gv(hq,hj){void 0===hj&&(hj=!0);for(var hp=hq.doc,hr={},ho=hr.cursors=document.createDocumentFragment(),hk=hr.selection=document.createDocumentFragment(),hm=0;hm<hp.sel.ranges.length;hm++){if(hj||hm!=hp.sel.primIndex){var hn=hp.sel.ranges[hm];if(!(hn.from().line>=hq.display.viewTo||hn.to().line<hq.display.viewFrom)){var hl=hn.empty();(hl||hq.options.showCursorWhenSelecting)&&C(hq,hn.head,ho),hl||bU(hq,hn,hk)}}}return hr}function C(i,hl,hk){var hn=eq(i,hl,"div",null,null,!i.options.singleCursorHeightPerLine),hm=hk.appendChild(gZ("div"," ","CodeMirror-cursor"));if(hm.style.left=hn.left+"px",hm.style.top=hn.top+"px",hm.style.height=Math.max(0,hn.bottom-hn.top)*i.options.cursorHeight+"px",hn.other){var hj=hk.appendChild(gZ("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));hj.style.display="",hj.style.left=hn.other.left+"px",hj.style.top=hn.other.top+"px",hj.style.height=0.85*(hn.other.bottom-hn.other.top)+"px"}}function gP(hj,i){return hj.top-i.top||hj.left-i.left}function bU(hn,ht,ho){function hu(hE,hD,hC,hB){0>hD&&(hD=0),hD=Math.round(hD),hB=Math.round(hB),i.appendChild(gZ("div",null,"CodeMirror-selected","position: absolute; left: "+hE+"px;\n                             top: "+hD+"px; width: "+(null==hC?hx-hE:hC)+"px;\n                             height: "+(hB-hD)+"px"))}function hj(hK,hC,hJ){function hI(hM,hL){return da(hn,aa(hK,hM),"div",hG,hL)}function hD(hQ,hL,hM){var hO=by(hn,hG,null,hQ),hP="ltr"==hL==("after"==hM)?"left":"right",hN="after"==hM?hO.begin:hO.end-(/\s/.test(hG.text.charAt(hO.end-1))?2:1);return hI(hN,hP)[hP]}var hB,hF,hG=fZ(hA,hK),hH=hG.text.length,hE=a(hG,hA.direction);return eC(hE,hC||0,null==hJ?hH:hJ,function(hW,hL,hR,hZ){var h2="ltr"==hR,hX=hI(hW,h2?"left":"right"),hV=hI(hL-1,h2?"right":"left"),h1=null==hC&&0==hW,hY=null==hJ&&hL==hH,hN=0==hZ,hP=!hE||hZ==hE.length-1;if(hV.top-hX.top<=3){var hO=(hm?h1:hY)&&hN,hQ=(hm?hY:h1)&&hP,hM=hO?hl:(h2?hX:hV).left,h3=hQ?hx:(h2?hV:hX).right;hu(hM,hX.top,h3-hM,hX.bottom)}else{var hT,hS,h0,hU;h2?(hT=hm&&h1&&hN?hl:hX.left,hS=hm?hx:hD(hW,hR,"before"),h0=hm?hl:hD(hL,hR,"after"),hU=hm&&hY&&hP?hx:hV.right):(hT=hm?hD(hW,hR,"before"):hl,hS=!hm&&h1&&hN?hx:hX.right,h0=!hm&&hY&&hP?hl:hV.left,hU=hm?hD(hL,hR,"after"):hx),hu(hT,hX.top,hS-hT,hX.bottom),hX.bottom<hV.top&&hu(hl,hX.bottom,null,hV.top),hu(h0,hV.top,hU-h0,hV.bottom)}(!hB||gP(hX,hB)<0)&&(hB=hX),gP(hV,hB)<0&&(hB=hV),(!hF||gP(hX,hF)<0)&&(hF=hX),gP(hV,hF)<0&&(hF=hV)}),{start:hB,end:hF}}var hw=hn.display,hA=hn.doc,i=document.createDocumentFragment(),hs=fP(hn.display),hl=hs.left,hx=Math.max(hw.sizerWidth,dQ(hn)-hw.sizer.offsetLeft)-hs.right,hm="ltr"==hA.direction,hz=ht.from(),hy=ht.to();if(hz.line==hy.line){hj(hz.line,hz.ch,hy.ch)}else{var hk=fZ(hA,hz.line),hq=fZ(hA,hy.line),hp=z(hk)==z(hq),hr=hj(hz.line,hz.ch,hp?hk.text.length+1:null).end,hv=hj(hy.line,hp?0:null,hy.ch).start;hp&&(hr.top<hv.top-2?(hu(hr.right,hr.top,null,hr.bottom),hu(hl,hv.top,hv.left,hv.bottom)):hu(hr.right,hr.top,hv.left-hr.right,hr.bottom)),hr.bottom<hv.top&&hu(hl,hr.bottom,null,hv.top)}ho.appendChild(i)}function q(i){if(i.state.focused){var hk=i.display;clearInterval(hk.blinker);var hj=!0;hk.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?hk.blinker=setInterval(function(){return hk.cursorDiv.style.visibility=(hj=!hj)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(hk.cursorDiv.style.visibility="hidden")}}function t(i){i.state.focused||(i.display.input.focus(),c0(i))}function aq(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,a5(i))},100)}function c0(i,hj){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1),"nocursor"!=i.options.readOnly&&(i.state.focused||(aM(i,"focus",i,hj),i.state.focused=!0,gm(i.display.wrapper,"CodeMirror-focused"),i.curOp||i.display.selForContextMenu==i.doc.sel||(i.display.input.reset(),dr&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),q(i))}function a5(i,hj){i.state.delayingBlurEvent||(i.state.focused&&(aM(i,"blur",i,hj),i.state.focused=!1,f(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function bj(hq){for(var ho=hq.display,hk=ho.lineDiv.offsetTop,hl=0;hl<ho.view.length;hl++){var hr=ho.view[hl],hs=void 0;if(!hr.hidden){if(ed&&8>m){var hn=hr.node.offsetTop+hr.node.offsetHeight;hs=hn-hk,hk=hn}else{var hm=hr.node.getBoundingClientRect();hs=hm.bottom-hm.top}var hp=hr.line.height-hs;if(2>hs&&(hs=a9(ho)),(hp>0.005||-0.005>hp)&&(g4(hr.line,hs),cw(hr.line),hr.rest)){for(var hj=0;hj<hr.rest.length;hj++){cw(hr.rest[hj])}}}}}function cw(hk){if(hk.widgets){for(var hl=0;hl<hk.widgets.length;++hl){var hj=hk.widgets[hl],hm=hj.node.parentNode;hm&&(hj.height=hm.offsetHeight)}}}function cq(hl,hp,hk){var hm=hk&&null!=hk.top?Math.max(0,hk.top):hl.scroller.scrollTop;hm=Math.floor(hm-fT(hl));var i=hk&&null!=hk.bottom?hk.bottom:hm+hl.wrapper.clientHeight,hn=bY(hp,hm),ho=bY(hp,i);if(hk&&hk.ensure){var hj=hk.ensure.from.line,hq=hk.ensure.to.line;hn>hj?(hn=hj,ho=bY(hp,b4(fZ(hp,hj))+hl.wrapper.clientHeight)):Math.min(hq,hp.lastLine())>=ho&&(hn=bY(hp,b4(fZ(hp,hq))-hl.wrapper.clientHeight),ho=hq)}return{from:hn,to:Math.max(ho,hn+1)}}function fj(hr){var hp=hr.display,hq=hp.view;if(hp.alignWidgets||hp.gutters.firstChild&&hr.options.fixedGutter){for(var hn=eu(hp)-hp.scroller.scrollLeft+hr.doc.scrollLeft,hj=hp.gutters.offsetWidth,hk=hn+"px",hm=0;hm<hq.length;hm++){if(!hq[hm].hidden){hr.options.fixedGutter&&(hq[hm].gutter&&(hq[hm].gutter.style.left=hk),hq[hm].gutterBackground&&(hq[hm].gutterBackground.style.left=hk));var ho=hq[hm].alignable;if(ho){for(var hl=0;hl<ho.length;hl++){ho[hl].style.left=hk}}}}hr.options.fixedGutter&&(hp.gutters.style.left=hn+hj+"px")}}function eD(i){if(!i.options.lineNumbers){return !1}var hn=i.doc,hj=e4(i.options,hn.first+hn.size-1),hm=i.display;if(hj.length!=hm.lineNumChars){var ho=hm.measure.appendChild(gZ("div",[gZ("div",hj)],"CodeMirror-linenumber CodeMirror-gutter-elt")),hk=ho.firstChild.offsetWidth,hl=ho.offsetWidth-hk;return hm.lineGutter.style.width="",hm.lineNumInnerWidth=Math.max(hk,hm.lineGutter.offsetWidth-hl)+1,hm.lineNumWidth=hm.lineNumInnerWidth+hl,hm.lineNumChars=hm.lineNumInnerWidth?hj.length:-1,hm.lineGutter.style.width=hm.lineNumWidth+"px",dv(i),!0}return !1}function eE(hj,hl){if(!a2(hj,"scrollCursorIntoView")){var hn=hj.display,hk=hn.sizer.getBoundingClientRect(),i=null;if(hl.top+hk.top<0?i=!0:hl.bottom+hk.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!gd){var hm=gZ("div","",null,"position: absolute;\n                         top: "+(hl.top-hn.viewOffset-fT(hj.display))+"px;\n                         height: "+(hl.bottom-hl.top+dj(hj)+hn.barHeight)+"px;\n                         left: "+hl.left+"px; width: "+Math.max(2,hl.right-hl.left)+"px;");hj.display.lineSpace.appendChild(hm),hm.scrollIntoView(i),hj.display.lineSpace.removeChild(hm)}}}function G(ht,hq,hm,hl){null==hl&&(hl=0);var hr;ht.options.lineWrapping||hq!=hm||(hq=hq.ch?aa(hq.line,"before"==hq.sticky?hq.ch-1:hq.ch,"after"):hq,hm="before"==hq.sticky?aa(hq.line,hq.ch+1,"before"):hq);for(var hn=0;5>hn;hn++){var ho=!1,hs=eq(ht,hq),i=hm&&hm!=hq?eq(ht,hm):hs;hr={left:Math.min(hs.left,i.left),top:Math.min(hs.top,i.top)-hl,right:Math.max(hs.left,i.left),bottom:Math.max(hs.bottom,i.bottom)+hl};var hk=L(ht,hr),hp=ht.doc.scrollTop,hj=ht.doc.scrollLeft;if(null!=hk.scrollTop&&(B(ht,hk.scrollTop),Math.abs(ht.doc.scrollTop-hp)>1&&(ho=!0)),null!=hk.scrollLeft&&(bV(ht,hk.scrollLeft),Math.abs(ht.doc.scrollLeft-hj)>1&&(ho=!0)),!ho){break}}return hr}function H(i,hj){var hk=L(i,hj);null!=hk.scrollTop&&B(i,hk.scrollTop),null!=hk.scrollLeft&&bV(i,hk.scrollLeft)}function L(hr,hq){var ho=hr.display,hm=a9(hr.display);hq.top<0&&(hq.top=0);var hk=hr.curOp&&null!=hr.curOp.scrollTop?hr.curOp.scrollTop:ho.scroller.scrollTop,ht=dl(hr),hv={};hq.bottom-hq.top>ht&&(hq.bottom=hq.top+ht);var hj=hr.doc.height+bZ(ho),i=hq.top<hm,hn=hq.bottom>hj-hm;if(hq.top<hk){hv.scrollTop=i?0:hq.top}else{if(hq.bottom>hk+ht){var hp=Math.min(hq.top,(hn?hj:hq.bottom)-ht);hp!=hk&&(hv.scrollTop=hp)}}var hu=hr.curOp&&null!=hr.curOp.scrollLeft?hr.curOp.scrollLeft:ho.scroller.scrollLeft,hs=dQ(hr)-(hr.options.fixedGutter?ho.gutters.offsetWidth:0),hl=hq.right-hq.left>hs;return hl&&(hq.right=hq.left+hs),hq.left<10?hv.scrollLeft=0:hq.left<hu?hv.scrollLeft=Math.max(0,hq.left-(hl?0:10)):hq.right>hs+hu-3&&(hv.scrollLeft=hq.right+(hl?0:10)-hs),hv}function c7(i,hj){null!=hj&&(go(i),i.curOp.scrollTop=(null==i.curOp.scrollTop?i.doc.scrollTop:i.curOp.scrollTop)+hj)}function gr(i){go(i);var hj=i.getCursor();i.curOp.scrollToPos={from:hj,to:hj,margin:i.options.cursorScrollMargin}}function ft(hj,i,hk){(null!=i||null!=hk)&&go(hj),null!=i&&(hj.curOp.scrollLeft=i),null!=hk&&(hj.curOp.scrollTop=hk)}function cy(i,hj){go(i),i.curOp.scrollToPos=hj}function go(i){var hj=i.curOp.scrollToPos;if(hj){i.curOp.scrollToPos=null;var hl=ea(i,hj.from),hk=ea(i,hj.to);b8(i,hl,hk,hj.margin)}}function b8(i,hm,hl,hk){var hj=L(i,{left:Math.min(hm.left,hl.left),top:Math.min(hm.top,hl.top)-hk,right:Math.max(hm.right,hl.right),bottom:Math.max(hm.bottom,hl.bottom)+hk});ft(i,hj.scrollLeft,hj.scrollTop)}function B(i,hj){Math.abs(i.doc.scrollTop-hj)<2||(cN||ep(i,{top:hj}),S(i,hj,!0),cN&&ep(i),eO(i,100))}function S(i,hk,hj){hk=Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,hk),(i.display.scroller.scrollTop!=hk||hj)&&(i.doc.scrollTop=hk,i.display.scrollbars.setScrollTop(hk),i.display.scroller.scrollTop!=hk&&(i.display.scroller.scrollTop=hk))}function bV(i,hl,hk,hj){hl=Math.min(hl,i.display.scroller.scrollWidth-i.display.scroller.clientWidth),(!(hk?hl==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-hl)<2)||hj)&&(i.doc.scrollLeft=hl,fj(i),i.display.scroller.scrollLeft!=hl&&(i.display.scroller.scrollLeft=hl),i.display.scrollbars.setScrollLeft(hl))}function d4(i){var hl=i.display,hk=hl.gutters.offsetWidth,hj=Math.round(i.doc.height+bZ(i.display));return{clientHeight:hl.scroller.clientHeight,viewHeight:hl.wrapper.clientHeight,scrollWidth:hl.scroller.scrollWidth,clientWidth:hl.scroller.clientWidth,viewWidth:hl.wrapper.clientWidth,barLeft:i.options.fixedGutter?hk:0,docHeight:hj,scrollHeight:hj+dj(i)+hl.barHeight,nativeBarWidth:hl.nativeBarWidth,gutterWidth:hk}}function fI(hl,hn){hn||(hn=d4(hl));var hk=hl.display.barWidth,hj=hl.display.barHeight;a4(hl,hn);for(var hm=0;4>hm&&hk!=hl.display.barWidth||hj!=hl.display.barHeight;hm++){hk!=hl.display.barWidth&&hl.options.lineWrapping&&bj(hl),a4(hl,d4(hl)),hk=hl.display.barWidth,hj=hl.display.barHeight}}function a4(i,hj){var hl=i.display,hk=hl.scrollbars.update(hj);hl.sizer.style.paddingRight=(hl.barWidth=hk.right)+"px",hl.sizer.style.paddingBottom=(hl.barHeight=hk.bottom)+"px",hl.heightForcer.style.borderBottom=hk.bottom+"px solid transparent",hk.right&&hk.bottom?(hl.scrollbarFiller.style.display="block",hl.scrollbarFiller.style.height=hk.bottom+"px",hl.scrollbarFiller.style.width=hk.right+"px"):hl.scrollbarFiller.style.display="",hk.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(hl.gutterFiller.style.display="block",hl.gutterFiller.style.height=hk.bottom+"px",hl.gutterFiller.style.width=hj.gutterWidth+"px"):hl.gutterFiller.style.display=""}function aL(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&f(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new bx[i.options.scrollbarStyle](function(hj){i.display.wrapper.insertBefore(hj,i.display.scrollbarFiller),cg(hj,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),hj.setAttribute("cm-not-content","true")},function(hk,hj){"horizontal"==hj?bV(i,hk):B(i,hk)},i),i.display.scrollbars.addClass&&gm(i.display.wrapper,i.display.scrollbars.addClass)}function c9(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++eG},fb(i.curOp)}function au(i){var hj=i.curOp;ch(hj,function(hl){for(var hk=0;hk<hl.ops.length;hk++){hl.ops[hk].cm.curOp=null}dc(hl)})}function dc(ho){for(var hk=ho.ops,hj=0;hj<hk.length;hj++){cp(hk[hj])}for(var hp=0;hp<hk.length;hp++){ax(hk[hp])}for(var hn=0;hn<hk.length;hn++){cm(hk[hn])}for(var hm=0;hm<hk.length;hm++){aw(hk[hm])}for(var hl=0;hl<hk.length;hl++){fK(hk[hl])}}function cp(hk){var i=hk.cm,hj=i.display;N(i),hk.updateMaxLine&&g(i),hk.mustUpdate=hk.viewChanged||hk.forceUpdate||null!=hk.scrollTop||hk.scrollToPos&&(hk.scrollToPos.from.line<hj.viewFrom||hk.scrollToPos.to.line>=hj.viewTo)||hj.maxLineChanged&&i.options.lineWrapping,hk.update=hk.mustUpdate&&new aR(i,hk.mustUpdate&&{top:hk.scrollTop,ensure:hk.scrollToPos},hk.forceUpdate)}function ax(i){i.updatedDisplay=i.mustUpdate&&E(i.cm,i.update)}function cm(hk){var i=hk.cm,hj=i.display;hk.updatedDisplay&&bj(i),hk.barMeasure=d4(i),hj.maxLineChanged&&!i.options.lineWrapping&&(hk.adjustWidthTo=eQ(i,hj.maxLine,hj.maxLine.text.length).left+3,i.display.sizerWidth=hk.adjustWidthTo,hk.barMeasure.scrollWidth=Math.max(hj.scroller.clientWidth,hj.sizer.offsetLeft+hk.adjustWidthTo+dj(i)+i.display.barWidth),hk.maxScrollLeft=Math.max(0,hj.sizer.offsetLeft+hk.adjustWidthTo-dQ(i))),(hk.updatedDisplay||hk.selectionChanged)&&(hk.preparedSelection=hj.input.prepareSelection())}function aw(hk){var i=hk.cm;null!=hk.adjustWidthTo&&(i.display.sizer.style.minWidth=hk.adjustWidthTo+"px",hk.maxScrollLeft<i.doc.scrollLeft&&bV(i,Math.min(i.display.scroller.scrollLeft,hk.maxScrollLeft),!0),i.display.maxLineChanged=!1);var hj=hk.focus&&hk.focus==ei();hk.preparedSelection&&i.display.input.showSelection(hk.preparedSelection,hj),(hk.updatedDisplay||hk.startHeight!=i.doc.height)&&fI(i,hk.barMeasure),hk.updatedDisplay&&d3(i,hk.barMeasure),hk.selectionChanged&&q(i),i.state.focused&&hk.updateInput&&i.display.input.reset(hk.typing),hj&&t(hk.cm)}function fK(hm){var hr=hm.cm,ho=hr.display,hq=hr.doc;if(hm.updatedDisplay&&cG(hr,hm.update),null==ho.wheelStartX||null==hm.scrollTop&&null==hm.scrollLeft&&!hm.scrollToPos||(ho.wheelStartX=ho.wheelStartY=null),null!=hm.scrollTop&&S(hr,hm.scrollTop,hm.forceScroll),null!=hm.scrollLeft&&bV(hr,hm.scrollLeft,!0,!0),hm.scrollToPos){var hp=G(hr,gx(hq,hm.scrollToPos.from),gx(hq,hm.scrollToPos.to),hm.scrollToPos.margin);eE(hr,hp)}var hn=hm.maybeHiddenMarkers,hj=hm.maybeUnhiddenMarkers;if(hn){for(var hl=0;hl<hn.length;++hl){hn[hl].lines.length||aM(hn[hl],"hide")}}if(hj){for(var hk=0;hk<hj.length;++hk){hj[hk].lines.length&&aM(hj[hk],"unhide")}}ho.wrapper.offsetHeight&&(hq.scrollTop=hr.display.scroller.scrollTop),hm.changeObjs&&aM(hr,"changes",hr,hm.changeObjs),hm.update&&hm.update.finish()}function dd(i,hj){if(i.curOp){return hj()}c9(i);try{return hj()}finally{au(i)}}function dt(i,hj){return function(){if(i.curOp){return hj.apply(i,arguments)}c9(i);try{return hj.apply(i,arguments)}finally{au(i)}}}function dC(i){return function(){if(this.curOp){return i.apply(this,arguments)}c9(this);try{return i.apply(this,arguments)}finally{au(this)}}}function c3(i){return function(){var hj=this.cm;if(!hj||hj.curOp){return i.apply(this,arguments)}c9(hj);try{return i.apply(this,arguments)}finally{au(hj)}}}function an(hq,ho,hp,hr){null==ho&&(ho=hq.doc.first),null==hp&&(hp=hq.doc.first+hq.doc.size),hr||(hr=0);var hl=hq.display;if(hr&&hp<hl.viewTo&&(null==hl.updateLineNumbers||hl.updateLineNumbers>ho)&&(hl.updateLineNumbers=ho),hq.curOp.viewChanged=!0,ho>=hl.viewTo){bh&&a6(hq.doc,ho)<hl.viewTo&&e9(hq)}else{if(hp<=hl.viewFrom){bh&&eB(hq.doc,hp+hr)>hl.viewFrom?e9(hq):(hl.viewFrom+=hr,hl.viewTo+=hr)}else{if(ho<=hl.viewFrom&&hp>=hl.viewTo){e9(hq)}else{if(ho<=hl.viewFrom){var hn=dJ(hq,hp,hp+hr,1);hn?(hl.view=hl.view.slice(hn.index),hl.viewFrom=hn.lineN,hl.viewTo+=hr):e9(hq)}else{if(hp>=hl.viewTo){var hj=dJ(hq,ho,ho,-1);hj?(hl.view=hl.view.slice(0,hj.index),hl.viewTo=hj.lineN):e9(hq)}else{var hm=dJ(hq,ho,ho,-1),hk=dJ(hq,hp,hp+hr,1);hm&&hk?(hl.view=hl.view.slice(0,hm.index).concat(fE(hq,hm.lineN,hk.lineN)).concat(hl.view.slice(hk.index)),hl.viewTo+=hr):e9(hq)}}}}}var i=hl.externalMeasured;i&&(hp<i.lineN?i.lineN+=hr:ho<i.lineN+i.size&&(hl.externalMeasured=null))}function V(hj,hk,hn){hj.curOp.viewChanged=!0;var ho=hj.display,hm=hj.display.externalMeasured;if(hm&&hk>=hm.lineN&&hk<hm.lineN+hm.size&&(ho.externalMeasured=null),!(hk<ho.viewFrom||hk>=ho.viewTo)){var hl=ho.view[dX(hj,hk)];if(null!=hl.node){var i=hl.changes||(hl.changes=[]);-1==dN(i,hn)&&i.push(hn)}}}function e9(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function dJ(hr,hl,hn,hk){var hq,ho=dX(hr,hl),hp=hr.display.view;if(!bh||hn==hr.doc.first+hr.doc.size){return{index:ho,lineN:hn}}for(var hj=hr.display.viewFrom,hm=0;ho>hm;hm++){hj+=hp[hm].size}if(hj!=hl){if(hk>0){if(ho==hp.length-1){return null}hq=hj+hp[ho].size-hl,ho++}else{hq=hj-hl}hl+=hq,hn+=hq}for(;a6(hr.doc,hn)!=hn;){if(ho==(0>hk?0:hp.length-1)){return null}hn+=hk*hp[ho-(0>hk?1:0)].size,ho+=hk}return{index:ho,lineN:hn}}function di(i,hm,hl){var hk=i.display,hj=hk.view;0==hj.length||hm>=hk.viewTo||hl<=hk.viewFrom?(hk.view=fE(i,hm,hl),hk.viewFrom=hm):(hk.viewFrom>hm?hk.view=fE(i,hm,hk.viewFrom).concat(hk.view):hk.viewFrom<hm&&(hk.view=hk.view.slice(dX(i,hm))),hk.viewFrom=hm,hk.viewTo<hl?hk.view=hk.view.concat(fE(i,hk.viewTo,hl)):hk.viewTo>hl&&(hk.view=hk.view.slice(0,dX(i,hl)))),hk.viewTo=hl}function dG(hj){for(var hk=hj.display.view,hn=0,hm=0;hm<hk.length;hm++){var hl=hk[hm];hl.hidden||hl.node&&!hl.changes||++hn}return hn}function eO(i,hj){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(hj,cU(dg,i))}function dg(i){var hm=i.doc;if(!(hm.highlightFrontier>=i.display.viewTo)){var hk=+new Date+i.options.workTime,hl=fG(i,hm.highlightFrontier),hj=[];hm.iter(hl.line,Math.min(hm.first+hm.size,i.display.viewTo+500),function(ho){if(hl.line>=i.display.viewFrom){var hr=ho.styles,hn=ho.text.length>i.options.maxHighlightLength?cn(hm.mode,hl.state):null,ht=gj(i,ho,hl,!0);hn&&(hl.state=hn),ho.styles=ht.styles;var hq=ho.styleClasses,hs=ht.classes;hs?ho.styleClasses=hs:hq&&(ho.styleClasses=null);for(var hu=!hr||hr.length!=ho.styles.length||hq!=hs&&(!hq||!hs||hq.bgClass!=hs.bgClass||hq.textClass!=hs.textClass),hp=0;!hu&&hp<hr.length;++hp){hu=hr[hp]!=ho.styles[hp]}hu&&hj.push(hl.line),ho.stateAfter=hl.save(),hl.nextLine()}else{ho.text.length<=i.options.maxHighlightLength&&d2(i,ho.text,hl),ho.stateAfter=hl.line%5==0?hl.save():null,hl.nextLine()}return +new Date>hk?(eO(i,i.options.workDelay),!0):void 0}),hm.highlightFrontier=hl.line,hm.modeFrontier=Math.max(hm.modeFrontier,hl.line),hj.length&&dd(i,function(){for(var hn=0;hn<hj.length;hn++){V(i,hj[hn],"text")}})}}function N(i){var hj=i.display;!hj.scrollbarsClipped&&hj.scroller.offsetWidth&&(hj.nativeBarWidth=hj.scroller.offsetWidth-hj.scroller.clientWidth,hj.heightForcer.style.height=dj(i)+"px",hj.sizer.style.marginBottom=-hj.nativeBarWidth+"px",hj.sizer.style.borderRightWidth=dj(i)+"px",hj.scrollbarsClipped=!0)}function bz(hj){if(hj.hasFocus()){return null}var hl=ei();if(!hl||!g9(hj.display.lineDiv,hl)){return null}var i={activeElt:hl};if(window.getSelection){var hk=window.getSelection();hk.anchorNode&&hk.extend&&g9(hj.display.lineDiv,hk.anchorNode)&&(i.anchorNode=hk.anchorNode,i.anchorOffset=hk.anchorOffset,i.focusNode=hk.focusNode,i.focusOffset=hk.focusOffset)}return i}function j(hj){if(hj&&hj.activeElt&&hj.activeElt!=ei()&&(hj.activeElt.focus(),hj.anchorNode&&g9(document.body,hj.anchorNode)&&g9(document.body,hj.focusNode))){var hk=window.getSelection(),i=document.createRange();i.setEnd(hj.anchorNode,hj.anchorOffset),i.collapse(!1),hk.removeAllRanges(),hk.addRange(i),hk.extend(hj.focusNode,hj.focusOffset)}}function E(hr,hl){var hm=hr.display,hq=hr.doc;if(hl.editorIsHidden){return e9(hr),!1}if(!hl.force&&hl.visible.from>=hm.viewFrom&&hl.visible.to<=hm.viewTo&&(null==hm.updateLineNumbers||hm.updateLineNumbers>=hm.viewTo)&&hm.renderedView==hm.view&&0==dG(hr)){return !1}eD(hr)&&(e9(hr),hl.dims=fX(hr));var hk=hq.first+hq.size,ho=Math.max(hl.visible.from-hr.options.viewportMargin,hq.first),hp=Math.min(hk,hl.visible.to+hr.options.viewportMargin);hm.viewFrom<ho&&ho-hm.viewFrom<20&&(ho=Math.max(hq.first,hm.viewFrom)),hm.viewTo>hp&&hm.viewTo-hp<20&&(hp=Math.min(hk,hm.viewTo)),bh&&(ho=a6(hr.doc,ho),hp=eB(hr.doc,hp));var hj=ho!=hm.viewFrom||hp!=hm.viewTo||hm.lastWrapHeight!=hl.wrapperHeight||hm.lastWrapWidth!=hl.wrapperWidth;di(hr,ho,hp),hm.viewOffset=b4(fZ(hr.doc,hm.viewFrom)),hr.display.mover.style.top=hm.viewOffset+"px";var i=dG(hr);if(!hj&&0==i&&!hl.force&&hm.renderedView==hm.view&&(null==hm.updateLineNumbers||hm.updateLineNumbers>=hm.viewTo)){return !1}var hn=bz(hr);return i>4&&(hm.lineDiv.style.display="none"),cK(hr,hm.updateLineNumbers,hl.dims),i>4&&(hm.lineDiv.style.display=""),hm.renderedView=hm.view,j(hn),ez(hm.cursorDiv),ez(hm.selectionDiv),hm.gutters.style.height=hm.sizer.style.minHeight=0,hj&&(hm.lastWrapHeight=hl.wrapperHeight,hm.lastWrapWidth=hl.wrapperWidth,eO(hr,400)),hm.updateLineNumbers=null,!0}function cG(hj,hm){for(var i=hm.viewport,hl=!0;(hl&&hj.options.lineWrapping&&hm.oldDisplayWidth!=dQ(hj)||(i&&null!=i.top&&(i={top:Math.min(hj.doc.height+bZ(hj.display)-dl(hj),i.top)}),hm.visible=cq(hj.display,hj.doc,i),!(hm.visible.from>=hj.display.viewFrom&&hm.visible.to<=hj.display.viewTo)))&&E(hj,hm);hl=!1){bj(hj);var hk=d4(hj);bT(hj),fI(hj,hk),d3(hj,hk),hm.force=!1}hm.signal(hj,"update",hj),(hj.display.viewFrom!=hj.display.reportedViewFrom||hj.display.viewTo!=hj.display.reportedViewTo)&&(hm.signal(hj,"viewportChange",hj,hj.display.viewFrom,hj.display.viewTo),hj.display.reportedViewFrom=hj.display.viewFrom,hj.display.reportedViewTo=hj.display.viewTo)}function ep(hj,i){var hl=new aR(hj,i);if(E(hj,hl)){bj(hj),cG(hj,hl);var hk=d4(hj);bT(hj),fI(hj,hk),d3(hj,hk),hl.finish()}}function cK(hu,hl,ht){function hp(hx){var i=hx.nextSibling;return dr&&co&&hu.display.currentWheelTarget==hx?hx.style.display="none":hx.parentNode.removeChild(hx),i}for(var hq=hu.display,hw=hu.options.lineNumbers,hj=hq.lineDiv,hv=hj.firstChild,hr=hq.view,ho=hq.viewFrom,hm=0;hm<hr.length;hm++){var hn=hr[hm];if(hn.hidden){}else{if(hn.node&&hn.node.parentNode==hj){for(;hv!=hn.node;){hv=hp(hv)}var hs=hw&&null!=hl&&ho>=hl&&hn.lineNumber;hn.changes&&(dN(hn.changes,"gutter")>-1&&(hs=!1),ah(hu,hn,ho,ht)),hs&&(ez(hn.lineNumber),hn.lineNumber.appendChild(document.createTextNode(e4(hu.options,ho)))),hv=hn.node.nextSibling}else{var hk=aN(hu,hn,ho,ht);hj.insertBefore(hk,hv)}}ho+=hn.size}for(;hv;){hv=hp(hv)}}function dv(i){var hj=i.display.gutters.offsetWidth;i.display.sizer.style.marginLeft=hj+"px"}function d3(i,hj){i.display.sizer.style.minHeight=hj.docHeight+"px",i.display.heightForcer.style.top=hj.docHeight+"px",i.display.gutters.style.height=hj.docHeight+i.display.barHeight+dj(i)+"px"}function eL(hj){var hk=hj.display.gutters,ho=hj.options.gutters;ez(hk);for(var hl=0;hl<ho.length;++hl){var hm=ho[hl],hn=hk.appendChild(gZ("div",null,"CodeMirror-gutter "+hm));"CodeMirror-linenumbers"==hm&&(hj.display.lineGutter=hn,hn.style.width=(hj.display.lineNumWidth||1)+"px")}hk.style.display=hl?"":"none",dv(hj)}function cA(i){var hj=dN(i.gutters,"CodeMirror-linenumbers");-1==hj&&i.lineNumbers?i.gutters=i.gutters.concat(["CodeMirror-linenumbers"]):hj>-1&&!i.lineNumbers&&(i.gutters=i.gutters.slice(0),i.gutters.splice(hj,1))}function dh(hk){var hj=hk.wheelDeltaX,i=hk.wheelDeltaY;return null==hj&&hk.detail&&hk.axis==hk.HORIZONTAL_AXIS&&(hj=hk.detail),null==i&&hk.detail&&hk.axis==hk.VERTICAL_AXIS?i=hk.detail:null==i&&(i=hk.wheelDelta),{x:hj,y:i}}function aH(i){var hj=dh(i);return hj.x*=cC,hj.y*=cC,hj}function c(ht,hn){var hv=dh(hn),hx=hv.x,hw=hv.y,hp=ht.display,hs=hp.scroller,hm=hs.scrollWidth>hs.clientWidth,hl=hs.scrollHeight>hs.clientHeight;if(hx&&hm||hw&&hl){if(hw&&co&&dr){outer:for(var hu=hn.target,hr=hp.view;hu!=hs;hu=hu.parentNode){for(var hk=0;hk<hr.length;hk++){if(hr[hk].node==hu){ht.display.currentWheelTarget=hu;break outer}}}}if(hx&&!cN&&!eA&&null!=cC){return hw&&hl&&B(ht,Math.max(0,hs.scrollTop+hw*cC)),bV(ht,Math.max(0,hs.scrollLeft+hx*cC)),(!hw||hw&&hl)&&c5(hn),void (hp.wheelStartX=null)}if(hw&&null!=cC){var hj=hw*cC,hq=ht.doc.scrollTop,ho=hq+hp.wrapper.clientHeight;0>hj?hq=Math.max(0,hq+hj-50):ho=Math.min(ht.doc.height,ho+hj+50),ep(ht,{top:hq,bottom:ho})}20>f6&&(null==hp.wheelStartX?(hp.wheelStartX=hs.scrollLeft,hp.wheelStartY=hs.scrollTop,hp.wheelDX=hx,hp.wheelDY=hw,setTimeout(function(){if(null!=hp.wheelStartX){var i=hs.scrollLeft-hp.wheelStartX,hz=hs.scrollTop-hp.wheelStartY,hy=hz&&hp.wheelDY&&hz/hp.wheelDY||i&&hp.wheelDX&&i/hp.wheelDX;hp.wheelStartX=hp.wheelStartY=null,hy&&(cC=(cC*f6+hy)/(f6+1),++f6)}},200)):(hp.wheelDX+=hx,hp.wheelDY+=hw))}}function cV(hj,hq){var hl=hj[hq];hj.sort(function(hs,i){return cB(hs.from(),i.from())}),hq=dN(hj,hl);for(var hn=1;hn<hj.length;hn++){var hr=hj[hn],hk=hj[hn-1];if(cB(hk.to(),hr.from())>=0){var ho=az(hk.from(),hr.from()),hp=bO(hk.to(),hr.to()),hm=hk.empty()?hr.from()==hr.head:hk.from()==hk.head;hq>=hn&&--hq,hj.splice(--hn,2,new et(hm?hp:ho,hm?ho:hp))}}return new gY(hj,hq)}function fz(i,hj){return new gY([new et(i,hj||i)],0)}function dn(i){return i.text?aa(i.from.line+i.text.length-1,gs(i.text).length+(1==i.text.length?i.from.ch:0)):i.to}function ci(hl,hk){if(cB(hl,hk.from)<0){return hl}if(cB(hl,hk.to)<=0){return dn(hk)}var i=hl.line+hk.text.length-(hk.to.line-hk.from.line)-1,hj=hl.ch;return hl.line==hk.to.line&&(hj+=dn(hk).ch-hk.to.ch),aa(i,hj)}function f3(hm,hn){for(var hk=[],hl=0;hl<hm.sel.ranges.length;hl++){var hj=hm.sel.ranges[hl];hk.push(new et(ci(hj.anchor,hn),ci(hj.head,hn)))}return cV(hk,hm.sel.primIndex)}function bK(hk,hj,i){return hk.line==hj.line?aa(i.line,hk.ch-hj.ch+i.ch):aa(i.line+(hk.line-hj.line),hk.ch)}function al(ht,hq,hk){for(var hl=[],hj=aa(ht.first,0),hu=hj,hn=0;hn<hq.length;hn++){var hp=hq[hn],hs=bK(hp.from,hj,hu),hr=bK(dn(hp),hj,hu);if(hj=hp.to,hu=hr,"around"==hk){var ho=ht.sel.ranges[hn],hm=cB(ho.head,ho.anchor)<0;hl[hn]=new et(hm?hr:hs,hm?hs:hr)}else{hl[hn]=new et(hs,hs)}}return new gY(hl,ht.sel.primIndex)}function bH(i){i.doc.mode=gl(i.options,i.doc.modeOption),eW(i)}function eW(i){i.doc.iter(function(hj){hj.stateAfter&&(hj.stateAfter=null),hj.styles&&(hj.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,eO(i,100),i.state.modeGen++,i.curOp&&an(i)}function en(i,hj){return 0==hj.from.ch&&0==hj.to.ch&&""==gs(hj.text)&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function gi(hz,hs,hm,hq){function hl(hA){return hm?hm[hA]:null}function hr(hA,hC,hB){eY(hA,hC,hB,hq),ak(hA,"change",hA,hs)}function hw(hD,hB){for(var hA=[],hC=hD;hB>hC;++hC){hA.push(new g2(hu[hC],hl(hC),hq))}return hA}var hx=hs.from,hj=hs.to,hu=hs.text,ht=fZ(hz,hx.line),i=fZ(hz,hj.line),hk=gs(hu),hy=hl(hu.length-1),hv=hj.line-hx.line;if(hs.full){hz.insert(0,hw(0,hu.length)),hz.remove(hu.length,hz.size-hu.length)}else{if(en(hz,hs)){var hp=hw(0,hu.length-1);hr(i,i.text,hy),hv&&hz.remove(hx.line,hv),hp.length&&hz.insert(hx.line,hp)}else{if(ht==i){if(1==hu.length){hr(ht,ht.text.slice(0,hx.ch)+hk+ht.text.slice(hj.ch),hy)}else{var ho=hw(1,hu.length-1);ho.push(new g2(hk+ht.text.slice(hj.ch),hy,hq)),hr(ht,ht.text.slice(0,hx.ch)+hu[0],hl(0)),hz.insert(hx.line+1,ho)}}else{if(1==hu.length){hr(ht,ht.text.slice(0,hx.ch)+hu[0]+i.text.slice(hj.ch),hl(0)),hz.remove(hx.line+1,hv)}else{hr(ht,ht.text.slice(0,hx.ch)+hu[0],hl(0)),hr(i,hk+i.text.slice(hj.ch),hy);var hn=hw(1,hu.length-1);hv>1&&hz.remove(hx.line+1,hv-1),hz.insert(hx.line+1,hn)}}}}ak(hz,"change",hz,hs)}function eF(hl,hk,hj){function i(hr,hp,hn){if(hr.linked){for(var ho=0;ho<hr.linked.length;++ho){var hm=hr.linked[ho];if(hm.doc!=hp){var hq=hn&&hm.sharedHist;(!hj||hq)&&(hk(hm.doc,hq),i(hm.doc,hr,hq))}}}}i(hl,null,!0)}function eK(i,hj){if(hj.cm){throw new Error("This document is already in use.")}i.doc=hj,hj.cm=i,ad(i),bH(i),D(i),i.options.lineWrapping||g(i),i.options.mode=hj.modeOption,an(i)}function D(i){("rtl"==i.doc.direction?gm:f)(i.display.lineDiv,"CodeMirror-rtl")}function ey(i){dd(i,function(){D(i),an(i)})}function gM(i){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i||1}function d0(i,hk){var hj={from:cE(hk.from),to:dn(hk),text:g1(i,hk.from,hk.to)};return cj(i,hj,hk.from.line,hk.to.line+1),eF(i,function(hl){return cj(hl,hj,hk.from.line,hk.to.line+1)},!0),hj}function gn(hj){for(;hj.length;){var i=gs(hj);if(!i.ranges){break}hj.pop()}}function fu(hj,i){return i?(gn(hj.done),gs(hj.done)):hj.done.length&&!gs(hj.done).ranges?gs(hj.done):hj.done.length>1&&!hj.done[hj.done.length-2].ranges?(hj.done.pop(),gs(hj.done)):void 0}function gC(ho,hm,i,hl){var hk=ho.history;hk.undone.length=0;var hp,hq,hj=+new Date;if((hk.lastOp==hl||hk.lastOrigin==hm.origin&&hm.origin&&("+"==hm.origin.charAt(0)&&ho.cm&&hk.lastModTime>hj-ho.cm.options.historyEventDelay||"*"==hm.origin.charAt(0)))&&(hp=fu(hk,hk.lastOp==hl))){hq=gs(hp.changes),0==cB(hm.from,hm.to)&&0==cB(hm.from,hq.to)?hq.to=dn(hm):hp.changes.push(d0(ho,hm))}else{var hn=gs(hk.done);for(hn&&hn.ranges||df(ho.sel,hk.done),hp={changes:[d0(ho,hm)],generation:hk.generation},hk.done.push(hp);hk.done.length>hk.undoDepth;){hk.done.shift(),hk.done[0].ranges||hk.done.shift()}}hk.done.push(i),hk.generation=++hk.maxGeneration,hk.lastModTime=hk.lastSelTime=hj,hk.lastOp=hk.lastSelOp=hl,hk.lastOrigin=hk.lastSelOrigin=hm.origin,hq||aM(ho,"historyAdded")}function bR(hm,i,hk,hl){var hj=i.charAt(0);return"*"==hj||"+"==hj&&hk.ranges.length==hl.ranges.length&&hk.somethingSelected()==hl.somethingSelected()&&new Date-hm.history.lastSelTime<=(hm.cm?hm.cm.options.historyEventDelay:500)}function hd(hn,hl,i,hk){var hm=hn.history,hj=hk&&hk.origin;i==hm.lastSelOp||hj&&hm.lastSelOrigin==hj&&(hm.lastModTime==hm.lastSelTime&&hm.lastOrigin==hj||bR(hn,hj,gs(hm.done),hl))?hm.done[hm.done.length-1]=hl:df(hl,hm.done),hm.lastSelTime=+new Date,hm.lastSelOrigin=hj,hm.lastSelOp=i,hk&&hk.clearRedo!==!1&&gn(hm.undone)}function df(hj,i){var hk=gs(i);hk&&hk.ranges&&hk.equals(hj)||i.push(hj)}function cj(hj,hn,hm,hl){var i=hn["spans_"+hj.id],hk=0;hj.iter(Math.max(hj.first,hm),Math.min(hj.first+hj.size,hl),function(ho){ho.markedSpans&&((i||(i=hn["spans_"+hj.id]={}))[hk]=ho.markedSpans),++hk})}function bv(hl){if(!hl){return null}for(var hj,hk=0;hk<hl.length;++hk){hl[hk].marker.explicitlyCleared?hj||(hj=hl.slice(0,hk)):hj&&hj.push(hl[hk])}return hj?hj.length?hj:null:hl}function cr(hm,hn){var hl=hn["spans_"+hm.id];if(!hl){return null}for(var hj=[],hk=0;hk<hn.text.length;++hk){hj.push(bv(hl[hk]))}return hj}function eI(hr,hp){var hj=cr(hr,hp),hs=eU(hr,hp);if(!hj){return hs}if(!hs){return hj}for(var hm=0;hm<hj.length;++hm){var hn=hj[hm],ho=hs[hm];if(hn&&ho){spans:for(var hl=0;hl<ho.length;++hl){for(var hq=ho[hl],hk=0;hk<hn.length;++hk){if(hn[hk].marker==hq.marker){continue spans}}hn.push(hq)}}else{ho&&(hj[hm]=ho)}}return hj}function b7(hu,hm,ht){for(var hk=[],hp=0;hp<hu.length;++hp){var hl=hu[hp];if(hl.ranges){hk.push(ht?gY.prototype.deepCopy.call(hl):hl)}else{var hr=hl.changes,hs=[];hk.push({changes:hs});for(var ho=0;ho<hr.length;++ho){var hq=hr[ho],hn=void 0;if(hs.push({from:hq.from,to:hq.to,text:hq.text}),hm){for(var hj in hq){(hn=hj.match(/^spans_(\d+)$/))&&dN(hm,Number(hn[1]))>-1&&(gs(hs)[hj]=hq[hj],delete hq[hj])}}}}}return hk}function ge(hj,hm,i,hn){if(hn){var hl=hj.anchor;if(i){var hk=cB(hm,hl)<0;hk!=cB(i,hl)<0?(hl=hm,hm=i):hk!=cB(hm,i)<0&&(hm=i)}return new et(hl,hm)}return new et(i||hm,hm)}function gR(hl,hk,i,hj,hm){null==hm&&(hm=hl.cm&&(hl.cm.display.shift||hl.extend)),cd(hl,new gY([ge(hl.sel.primary(),hk,i,hm)],0),hj)}function aD(ho,hn,hl){for(var hk=[],hp=ho.cm&&(ho.cm.display.shift||ho.extend),hm=0;hm<ho.sel.ranges.length;hm++){hk[hm]=ge(ho.sel.ranges[hm],hn[hm],null,hp)}var hj=cV(hk,ho.sel.primIndex);cd(ho,hj,hl)}function e(hn,hm,hk,hl){var hj=hn.sel.ranges.slice(0);hj[hm]=hk,cd(hn,cV(hj,hn.sel.primIndex),hl)}function J(hl,hj,hk,i){cd(hl,fz(hj,hk),i)}function b(hl,hj,i){var hk={ranges:hj.ranges,update:function(hm){var ho=this;this.ranges=[];for(var hn=0;hn<hm.length;hn++){ho.ranges[hn]=new et(gx(hl,hm[hn].anchor),gx(hl,hm[hn].head))}},origin:i&&i.origin};return aM(hl,"beforeSelectionChange",hl,hk),hl.cm&&aM(hl.cm,"beforeSelectionChange",hl.cm,hk),hk.ranges!=hj.ranges?cV(hk.ranges,hk.ranges.length-1):hj}function fS(hm,hl,hj){var i=hm.history.done,hk=gs(i);hk&&hk.ranges?(i[i.length-1]=hl,e0(hm,hl,hj)):cd(hm,hl,hj)}function cd(hk,hj,i){e0(hk,hj,i),hd(hk,hk.sel,hk.cm?hk.cm.curOp.id:0/0,i)}function e0(hl,hk,hj){(f4(hl,"beforeSelectionChange")||hl.cm&&f4(hl.cm,"beforeSelectionChange"))&&(hk=b(hl,hk,hj));var i=hj&&hj.bias||(cB(hk.primary().head,hl.sel.primary().head)<0?-1:1);dB(hl,p(hl,hk,i,!0)),hj&&hj.scroll===!1||!hl.cm||gr(hl.cm)}function dB(hj,i){i.equals(hj.sel)||(hj.sel=i,hj.cm&&(hj.cm.curOp.updateInput=hj.cm.curOp.selectionChanged=!0,Z(hj.cm)),ak(hj,"cursorActivity",hj))}function fa(i){dB(i,p(i,i.sel,null,!1))}function p(hs,hj,hp,hq){for(var hm,hn=0;hn<hj.ranges.length;hn++){var ho=hj.ranges[hn],hk=hj.ranges.length==hs.sel.ranges.length&&hs.sel.ranges[hn],hr=ce(hs,ho.anchor,hk&&hk.anchor,hp,hq),hl=ce(hs,ho.head,hk&&hk.head,hp,hq);(hm||hr!=ho.anchor||hl!=ho.head)&&(hm||(hm=hj.ranges.slice(0,hn)),hm[hn]=new et(hr,hl))}return hm?cV(hm,hj.primIndex):hj}function fp(ht,hr,hm,hl,hp){var hu=fZ(ht,hr.line);if(hu.markedSpans){for(var hn=0;hn<hu.markedSpans.length;++hn){var hj=hu.markedSpans[hn],hk=hj.marker;if((null==hj.from||(hk.inclusiveLeft?hj.from<=hr.ch:hj.from<hr.ch))&&(null==hj.to||(hk.inclusiveRight?hj.to>=hr.ch:hj.to>hr.ch))){if(hp&&(aM(hk,"beforeCursorEnter"),hk.explicitlyCleared)){if(hu.markedSpans){--hn;continue}break}if(!hk.atomic){continue}if(hm){var hq=hk.find(0>hl?1:-1),hs=void 0;if((0>hl?hk.inclusiveRight:hk.inclusiveLeft)&&(hq=hf(ht,hq,-hl,hq&&hq.line==hr.line?hu:null)),hq&&hq.line==hr.line&&(hs=cB(hq,hm))&&(0>hl?0>hs:hs>0)){return fp(ht,hq,hr,hl,hp)}}var ho=hk.find(0>hl?-1:1);return(0>hl?hk.inclusiveLeft:hk.inclusiveRight)&&(ho=hf(ht,ho,hl,ho.line==hr.line?hu:null)),ho?fp(ht,ho,hr,hl,hp):null}}}return hr}function ce(hn,ho,hl,hj,i){var hk=hj||1,hm=fp(hn,ho,hl,hk,i)||!i&&fp(hn,ho,hl,hk,!0)||fp(hn,ho,hl,-hk,i)||!i&&fp(hn,ho,hl,-hk,!0);return hm?hm:(hn.cantEdit=!0,aa(hn.first,0))}function hf(hk,hl,hj,i){return 0>hj&&0==hl.ch?hl.line>hk.first?gx(hk,aa(hl.line-1)):null:hj>0&&hl.ch==(i||fZ(hk,hl.line)).text.length?hl.line<hk.first+hk.size-1?aa(hl.line+1,0):null:new aa(hl.line,hl.ch+hj)}function at(i){i.setSelection(aa(i.firstLine(),0),aa(i.lastLine()),af)}function el(hj,hl,hk){var i={canceled:!1,from:hl.from,to:hl.to,text:hl.text,origin:hl.origin,cancel:function(){return i.canceled=!0}};return hk&&(i.update=function(hp,ho,hn,hm){hp&&(i.from=gx(hj,hp)),ho&&(i.to=gx(hj,ho)),hn&&(i.text=hn),void 0!==hm&&(i.origin=hm)}),aM(hj,"beforeChange",hj,i),hj.cm&&aM(hj.cm,"beforeChange",hj.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function bq(hm,hn,hl){if(hm.cm){if(!hm.cm.curOp){return dt(hm.cm,bq)(hm,hn,hl)}if(hm.cm.state.suppressEdits){return}}if(!(f4(hm,"beforeChange")||hm.cm&&f4(hm.cm,"beforeChange"))||(hn=el(hm,hn,!0))){var hk=hb&&!hl&&c8(hm,hn.from,hn.to);if(hk){for(var hj=hk.length-1;hj>=0;--hj){O(hm,{from:hk[hj].from,to:hk[hj].to,text:hj?[""]:hn.text,origin:hn.origin})}}else{O(hm,hn)}}}function O(hk,hl){if(1!=hl.text.length||""!=hl.text[0]||0!=cB(hl.from,hl.to)){var hj=f3(hk,hl);gC(hk,hl,hj,hk.cm?hk.cm.curOp.id:0/0),eM(hk,hl,hj,eU(hk,hl));var i=[];eF(hk,function(hn,hm){hm||-1!=dN(i,hn.history)||(d7(hn.history,hl),i.push(hn.history)),eM(hn,hl,null,eU(hn,hl))})}}function cs(hw,ht,hx){var hu=hw.cm&&hw.cm.state.suppressEdits;if(!hu||hx){for(var hk,hs=hw.history,hm=hw.sel,hj="undo"==ht?hs.done:hs.undone,hv="undo"==ht?hs.undone:hs.done,hp=0;hp<hj.length&&(hk=hj[hp],hx?!hk.ranges||hk.equals(hw.sel):hk.ranges);hp++){}if(hp!=hj.length){for(hs.lastOrigin=hs.lastSelOrigin=null;;){if(hk=hj.pop(),!hk.ranges){if(hu){return void hj.push(hk)}break}if(df(hk,hv),hx&&!hk.equals(hw.sel)){return void cd(hw,hk,{clearRedo:!1})}hm=hk}var hr=[];df(hm,hv),hv.push({changes:hr,generation:hs.generation}),hs.generation=hk.generation||++hs.maxGeneration;for(var hl=f4(hw,"beforeChange")||hw.cm&&f4(hw.cm,"beforeChange"),hq=function(hy){var hB=hk.changes[hy];if(hB.origin=ht,hl&&!el(hw,hB,!1)){return hj.length=0,{}}hr.push(d0(hw,hB));var hA=hy?f3(hw,hB):gs(hj);eM(hw,hB,hA,eI(hw,hB)),!hy&&hw.cm&&hw.cm.scrollIntoView({from:hB.from,to:dn(hB)});var hz=[];eF(hw,function(hC,i){i||-1!=dN(hz,hC.history)||(d7(hC.history,hB),hz.push(hC.history)),eM(hC,hB,null,eI(hC,hB))})},hn=hk.changes.length-1;hn>=0;--hn){var ho=hq(hn);if(ho){return ho.v}}}}}function f7(hj,hl){if(0!=hl&&(hj.first+=hl,hj.sel=new gY(cc(hj.sel.ranges,function(hm){return new et(aa(hm.anchor.line+hl,hm.anchor.ch),aa(hm.head.line+hl,hm.head.ch))}),hj.sel.primIndex),hj.cm)){an(hj.cm,hj.first,hj.first-hl,hl);for(var hk=hj.cm.display,i=hk.viewFrom;i<hk.viewTo;i++){V(hj.cm,i,"gutter")}}}function eM(hm,hn,hl,hj){if(hm.cm&&!hm.cm.curOp){return dt(hm.cm,eM)(hm,hn,hl,hj)}if(hn.to.line<hm.first){return void f7(hm,hn.text.length-1-(hn.to.line-hn.from.line))}if(!(hn.from.line>hm.lastLine())){if(hn.from.line<hm.first){var i=hn.text.length-1-(hm.first-hn.from.line);f7(hm,i),hn={from:aa(hm.first,0),to:aa(hn.to.line+i,hn.to.ch),text:[gs(hn.text)],origin:hn.origin}}var hk=hm.lastLine();hn.to.line>hk&&(hn={from:hn.from,to:aa(hk,fZ(hm,hk).text.length),text:[hn.text[0]],origin:hn.origin}),hn.removed=g1(hm,hn.from,hn.to),hl||(hl=f3(hm,hn)),hm.cm?aS(hm.cm,hn,hj):gi(hm,hn,hj),e0(hm,hl,af)}}function aS(ht,hp,hn){var hs=ht.doc,ho=ht.display,hq=hp.from,hr=hp.to,i=!1,hm=hq.line;ht.options.lineWrapping||(hm=b5(z(fZ(hs,hq.line))),hs.iter(hm,hr.line+1,function(hv){return hv==ho.maxLine?(i=!0,!0):void 0})),hs.sel.contains(hp.from,hp.to)>-1&&Z(ht),gi(hs,hp,hn,bo(ht)),ht.options.lineWrapping||(hs.iter(hm,hq.line+hp.text.length,function(hw){var hv=eX(hw);hv>ho.maxLineLength&&(ho.maxLine=hw,ho.maxLineLength=hv,ho.maxLineChanged=!0,i=!1)}),i&&(ht.curOp.updateMaxLine=!0)),hc(hs,hq.line),eO(ht,400);var hu=hp.text.length-(hr.line-hq.line)-1;hp.full?an(ht):hq.line!=hr.line||1!=hp.text.length||en(ht.doc,hp)?an(ht,hq.line,hr.line+1,hu):V(ht,hq.line,"text");var hk=f4(ht,"changes"),hl=f4(ht,"change");if(hl||hk){var hj={from:hq,to:hr,text:hp.text,removed:hp.removed,origin:hp.origin};hl&&ak(ht,"change",ht,hj),hk&&(ht.curOp.changeObjs||(ht.curOp.changeObjs=[])).push(hj)}ht.display.selForContextMenu=null}function bb(hl,hk,hn,hm,hj){if(hm||(hm=hn),cB(hm,hn)<0){var i;i=[hm,hn],hn=i[0],hm=i[1],i}"string"==typeof hk&&(hk=hl.splitLines(hk)),bq(hl,{from:hn,to:hm,text:hk,origin:hj})}function M(hl,hk,hj,i){hj<hl.line?hl.line+=i:hk<hl.line&&(hl.line=hk,hl.ch=0)}function f1(hn,hp,hq,hr){for(var hm=0;hm<hn.length;++hm){var hj=hn[hm],ho=!0;if(hj.ranges){hj.copied||(hj=hn[hm]=hj.deepCopy(),hj.copied=!0);for(var hl=0;hl<hj.ranges.length;hl++){M(hj.ranges[hl].anchor,hp,hq,hr),M(hj.ranges[hl].head,hp,hq,hr)}}else{for(var hk=0;hk<hj.changes.length;++hk){var hs=hj.changes[hk];if(hq<hs.from.line){hs.from=aa(hs.from.line+hr,hs.from.ch),hs.to=aa(hs.to.line+hr,hs.to.ch)}else{if(hp<=hs.to.line){ho=!1;break}}}ho||(hn.splice(0,hm+1),hm=0)}}}function d7(hj,hm){var hl=hm.from.line,hk=hm.to.line,i=hm.text.length-(hk-hl)-1;f1(hj.done,hl,hk,i),f1(hj.undone,hl,hk,i)}function fd(hl,hk,i,hn){var hm=hk,hj=hk;return"number"==typeof hk?hj=fZ(hl,dw(hl,hk)):hm=b5(hk),null==hm?null:(hn(hj,hm)&&hl.cm&&V(hl.cm,hm,i),hj)}function fJ(hk){var hm=this;this.lines=hk,this.parent=null;for(var hj=0,hl=0;hl<hk.length;++hl){hk[hl].parent=hm,hj+=hk[hl].height}this.height=hj}function gh(hm){var ho=this;this.children=hm;for(var hl=0,hj=0,hk=0;hk<hm.length;++hk){var hn=hm[hk];hl+=hn.chunkSize(),hj+=hn.height,hn.parent=ho}this.size=hl,this.height=hj,this.parent=null}function ew(i,hj,hk){b4(hj)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&c7(i,hk)}function bX(hn,hm,hk,hj){var hl=new d5(hn,hk,hj),i=hn.cm;return i&&hl.noHScroll&&(i.display.alignWidgets=!0),fd(hn,hm,"widget",function(hp){var hq=hp.widgets||(hp.widgets=[]);if(null==hl.insertAt?hq.push(hl):hq.splice(Math.min(hq.length-1,Math.max(0,hl.insertAt)),0,hl),hl.line=hp,i&&!gf(hn,hp)){var ho=b4(hp)<hn.scrollTop;g4(hp,hp.height+dp(hl)),ho&&c7(i,hl.height),i.curOp.forceUpdate=!0}return !0}),i&&ak(i,"lineWidgetAdded",i,hl,"number"==typeof hm?hm:b5(hm)),hl}function fk(hr,hp,hq,ht,hn){if(ht&&ht.shared){return R(hr,hp,hq,ht,hn)}if(hr.cm&&!hr.cm.curOp){return dt(hr.cm,fk)(hr,hp,hq,ht,hn)}var hm=new T(hr,hn),hs=cB(hp,hq);if(ht&&aX(ht,hm,!1),hs>0||0==hs&&hm.clearWhenEmpty!==!1){return hm}if(hm.replacedWith&&(hm.collapsed=!0,hm.widgetNode=g5("span",[hm.replacedWith],"CodeMirror-widget"),ht.handleMouseEvents||hm.widgetNode.setAttribute("cm-ignore-events","true"),ht.insertLeft&&(hm.widgetNode.insertLeft=!0)),hm.collapsed){if(A(hr,hp.line,hp,hq,hm)||hp.line!=hq.line&&A(hr,hq.line,hp,hq,hm)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}bN()}hm.addToHistory&&gC(hr,{from:hp,to:hq,origin:"markText"},hr.sel,0/0);var hk,hj=hp.line,ho=hr.cm;if(hr.iter(hj,hq.line+1,function(i){ho&&hm.collapsed&&!ho.options.lineWrapping&&z(i)==ho.display.maxLine&&(hk=!0),hm.collapsed&&hj!=hp.line&&g4(i,0),cz(i,new eS(hm,hj==hp.line?hp.ch:null,hj==hq.line?hq.ch:null)),++hj}),hm.collapsed&&hr.iter(hp.line,hq.line+1,function(i){gf(hr,i)&&g4(i,0)}),hm.clearOnEnter&&cg(hm,"beforeCursorEnter",function(){return hm.clear()}),hm.readOnly&&(gk(),(hr.history.done.length||hr.history.undone.length)&&hr.clearHistory()),hm.collapsed&&(hm.id=++be,hm.atomic=!0),ho){if(hk&&(ho.curOp.updateMaxLine=!0),hm.collapsed){an(ho,hp.line,hq.line+1)}else{if(hm.className||hm.title||hm.startStyle||hm.endStyle||hm.css){for(var hl=hp.line;hl<=hq.line;hl++){V(ho,hl,"text")}}}hm.atomic&&fa(ho.doc),ak(ho,"markerAdded",ho,hm)}return hm}function R(hm,hp,ho,i,hk){i=aX(i),i.shared=!1;var hn=[fk(hm,hp,ho,i,hk)],hj=hn[0],hl=i.widgetNode;return eF(hm,function(hr){hl&&(i.widgetNode=hl.cloneNode(!0)),hn.push(fk(hr,gx(hr,hp),gx(hr,ho),i,hk));for(var hq=0;hq<hr.linked.length;++hq){if(hr.linked[hq].isParent){return}}hj=gs(hn)}),new y(hn,hj)}function fw(i){return i.findMarks(aa(i.first,0),i.clipPos(aa(i.lastLine())),function(hj){return hj.parent})}function d8(ho,hp){for(var hm=0;hm<hp.length;hm++){var hk=hp[hm],hq=hk.find(),hj=ho.clipPos(hq.from),hn=ho.clipPos(hq.to);if(cB(hj,hn)){var hl=fk(ho,hj,hn,hk.primary,hk.primary.type);hk.markers.push(hl),hl.parent=hk}}}function eZ(hl){for(var hj=function(ho){var hm=hl[ho],hq=[hm.primary.doc];eF(hm.primary.doc,function(i){return hq.push(i)});for(var hn=0;hn<hm.markers.length;hn++){var hp=hm.markers[hn];-1==dN(hq,hp.doc)&&(hp.parent=null,hm.markers.splice(hn--,1))}},hk=0;hk<hl.length;hk++){hj(hk)}}function bu(hr){var ht=this;if(dF(ht),!a2(ht,hr)&&!bl(ht.display,hr)){c5(hr),ed&&(am=+new Date);var hs=cM(ht,hr,!0),hk=hr.dataTransfer.files;if(hs&&!ht.isReadOnly()){if(hk&&hk.length&&window.FileReader&&window.File){for(var hn=hk.length,hu=Array(hn),hl=0,hp=function(hx,hw){if(!ht.options.allowDropFileTypes||-1!=dN(ht.options.allowDropFileTypes,hx.type)){var hv=new FileReader;hv.onload=dt(ht,function(){var i=hv.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(i)&&(i=""),hu[hw]=i,++hl==hn){hs=gx(ht.doc,hs);var hy={from:hs,to:hs,text:ht.doc.splitLines(hu.join(ht.doc.lineSeparator())),origin:"paste"};bq(ht.doc,hy),fS(ht.doc,fz(hs,dn(hy)))}}),hv.readAsText(hx)}},hq=0;hn>hq;++hq){hp(hk[hq],hq)}}else{if(ht.state.draggingText&&ht.doc.sel.contains(hs)>-1){return ht.state.draggingText(hr),void setTimeout(function(){return ht.display.input.focus()},20)}try{var hj=hr.dataTransfer.getData("Text");if(hj){var ho;if(ht.state.draggingText&&!ht.state.draggingText.copy&&(ho=ht.listSelections()),e0(ht.doc,fz(hs,hs)),ho){for(var hm=0;hm<ho.length;++hm){bb(ht.doc,"",ho[hm].anchor,ho[hm].head,"drag")}}ht.replaceSelection(hj,"around","paste"),ht.display.input.focus()}}catch(hr){}}}}}function U(i,hk){if(ed&&(!i.state.draggingText||+new Date-am<100)){return void e2(hk)}if(!a2(i,hk)&&!bl(i.display,hk)&&(hk.dataTransfer.setData("Text",i.getSelection()),hk.dataTransfer.effectAllowed="copyMove",hk.dataTransfer.setDragImage&&!aK)){var hj=gZ("img",null,null,"position: fixed; left: 0; top: 0;");hj.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",eA&&(hj.width=hj.height=1,i.display.wrapper.appendChild(hj),hj._top=hj.offsetTop),hk.dataTransfer.setDragImage(hj,0,0),eA&&hj.parentNode.removeChild(hj)}}function hg(i,hj){var hl=cM(i,hj);if(hl){var hk=document.createDocumentFragment();C(i,hl,hk),i.display.dragCursor||(i.display.dragCursor=gZ("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),cb(i.display.dragCursor,hk)}}function dF(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function aI(hm){if(document.getElementsByClassName){for(var hl=document.getElementsByClassName("CodeMirror"),hk=0;hk<hl.length;hk++){var hj=hl[hk].CodeMirror;hj&&hm(hj)}}}function bt(){c2||(gq(),c2=!0)}function gq(){var i;cg(window,"resize",function(){null==i&&(i=setTimeout(function(){i=null,aI(a3)},100))}),cg(window,"blur",function(){return aI(a5)})}function a3(i){var hj=i.display;(hj.lastWrapHeight!=hj.wrapper.clientHeight||hj.lastWrapWidth!=hj.wrapper.clientWidth)&&(hj.cachedCharWidth=hj.cachedTextHeight=hj.cachedPaddingH=null,hj.scrollbarsClipped=!1,i.setSize())}function dY(hk){var hq=hk.split(/-(?!$)/);hk=hq[hq.length-1];for(var hp,ho,hj,hn,hm=0;hm<hq.length-1;hm++){var hl=hq[hm];if(/^(cmd|meta|m)$/i.test(hl)){hn=!0}else{if(/^a(lt)?$/i.test(hl)){hp=!0}else{if(/^(c|ctrl|control)$/i.test(hl)){ho=!0}else{if(!/^s(hift)?$/i.test(hl)){throw new Error("Unrecognized modifier name: "+hl)}hj=!0}}}}return hp&&(hk="Alt-"+hk),ho&&(hk="Ctrl-"+hk),hn&&(hk="Cmd-"+hk),hj&&(hk="Shift-"+hk),hk}function c6(hq){var hk={};for(var hp in hq){if(hq.hasOwnProperty(hp)){var hr=hq[hp];if(/^(name|fallthrough|(de|at)tach)$/.test(hp)){continue}if("..."==hr){delete hq[hp];continue}for(var hs=cc(hp.split(" "),dY),ho=0;ho<hs.length;ho++){var hm=void 0,hl=void 0;ho==hs.length-1?(hl=hs.join(" "),hm=hr):(hl=hs.slice(0,ho+1).join(" "),hm="...");var hn=hk[hl];if(hn){if(hn!=hm){throw new Error("Inconsistent bindings for "+hl)}}else{hk[hl]=hm}}delete hq[hp]}}for(var hj in hk){hq[hj]=hk[hj]}return hq}function k(hm,hp,ho,hl){hp=gQ(hp);var hn=hp.call?hp.call(hm,hl):hp[hm];if(hn===!1){return"nothing"}if("..."===hn){return"multi"}if(null!=hn&&ho(hn)){return"handled"}if(hp.fallthrough){if("[object Array]"!=Object.prototype.toString.call(hp.fallthrough)){return k(hm,hp.fallthrough,ho,hl)}for(var hk=0;hk<hp.fallthrough.length;hk++){var hj=k(hm,hp.fallthrough[hk],ho,hl);if(hj){return hj}}}}function ff(hj){var i="string"==typeof hj?hj:f0[hj.keyCode];return"Ctrl"==i||"Alt"==i||"Shift"==i||"Mod"==i}function gT(i,hj,hl){var hk=i;return hj.altKey&&"Alt"!=hk&&(i="Alt-"+i),(b9?hj.metaKey:hj.ctrlKey)&&"Ctrl"!=hk&&(i="Ctrl-"+i),(b9?hj.ctrlKey:hj.metaKey)&&"Cmd"!=hk&&(i="Cmd-"+i),!hl&&hj.shiftKey&&"Shift"!=hk&&(i="Shift-"+i),i}function ga(hj,hk){if(eA&&34==hj.keyCode&&hj["char"]){return !1}var i=f0[hj.keyCode];return null==i||hj.altGraphKey?!1:(3==hj.keyCode&&hj.code&&(i=hj.code),gT(i,hj,hk))}function gQ(i){return"string"==typeof i?fV[i]:i}function fH(hj,hp){for(var hk=hj.doc.sel.ranges,hn=[],hm=0;hm<hk.length;hm++){for(var hl=hp(hk[hm]);hn.length&&cB(hl.from,gs(hn).to)<=0;){var ho=hn.pop();if(cB(ho.from,hl.from)<0){hl.from=ho.from;break}}hn.push(hl)}dd(hj,function(){for(var hq=hn.length-1;hq>=0;hq--){bb(hj.doc,"",hn[hq].from,hn[hq].to,"+delete")}gr(hj)})}function bF(i,hk,hj){var hl=eT(i.text,hk+hj,hj);return 0>hl||hl>i.text.length?null:hl}function ao(i,hl,hj){var hk=bF(i,hl.ch,hj);return null==hk?null:new aa(hl.line,hk,0>hj?"after":"before")}function fc(hj,hr,ho,hn,hl){if(hj){var hm=a(ho,hr.doc.direction);if(hm){var i,hk=0>hl?gs(hm):hm[0],ht=0>hl==(1==hk.level),hq=ht?"after":"before";if(hk.level>0||"rtl"==hr.doc.direction){var hp=bf(hr,ho);i=0>hl?ho.text.length-1:0;var hs=F(hr,hp,i).top;i=cL(function(hu){return F(hr,hp,hu).top==hs},0>hl==(1==hk.level)?hk.from:hk.to-1,i),"before"==hq&&(i=bF(ho,i,1))}else{i=0>hl?hk.to:hk.from}return new aa(hn,i,hq)}}return new aa(hn,0>hl?ho.text.length:0,0>hl?"before":"after")}function v(ht,hy,hm,hp){var hv=a(hy,ht.doc.direction);if(!hv){return ao(hy,hm,hp)}hm.ch>=hy.text.length?(hm.ch=hy.text.length,hm.sticky="before"):hm.ch<=0&&(hm.ch=0,hm.sticky="after");var hl=aQ(hv,hm.ch,hm.sticky),hn=hv[hl];if("ltr"==ht.doc.direction&&hn.level%2==0&&(hp>0?hn.to>hm.ch:hn.from<hm.ch)){return ao(hy,hm,hp)}var hq,hw=function(hA,hz){return bF(hy,hA instanceof aa?hA.ch:hA,hz)},hu=function(hz){return ht.options.lineWrapping?(hq=hq||bf(ht,hy),by(ht,hy,hq,hz)):{begin:0,end:hy.text.length}},ho=hu("before"==hm.sticky?hw(hm,-1):hm.ch);if("rtl"==ht.doc.direction||1==hn.level){var hx=1==hn.level==0>hp,hj=hw(hm,hx?1:-1);if(null!=hj&&(hx?hj<=hn.to&&hj<=ho.end:hj>=hn.from&&hj>=ho.begin)){var hs=hx?"before":"after";return new aa(hm.line,hj,hs)}}var hk=function(hz,hC,hF){for(var hB=function(hH,hG){return hG?new aa(hm.line,hw(hH,1),"before"):new aa(hm.line,hH,"after")};hz>=0&&hz<hv.length;hz+=hC){var hA=hv[hz],hD=hC>0==(1!=hA.level),hE=hD?hF.begin:hw(hF.end,-1);if(hA.from<=hE&&hE<hA.to){return hB(hE,hD)}if(hE=hD?hA.from:hw(hA.to,-1),hF.begin<=hE&&hE<hF.end){return hB(hE,hD)}}},hr=hk(hl+hp,hp,ho);if(hr){return hr}var i=hp>0?ho.end:hw(ho.begin,-1);return null==i||hp>0&&i==hy.text.length||!(hr=hk(hp>0?0:hv.length-1,hp,hu(i)))?null:hr}function bJ(i,hk){var hj=fZ(i.doc,hk),hl=z(hj);return hl!=hj&&(hk=b5(hl)),fc(!0,i,hl,hk,1)}function ek(i,hk){var hj=fZ(i.doc,hk),hl=cH(hj);return hl!=hj&&(hk=b5(hl)),fc(!0,i,hj,hk,-1)}function ec(hj,ho){var hn=bJ(hj,ho.line),hk=fZ(hj.doc,hn.line),i=a(hk,hj.doc.direction);if(!i||0==i[0].level){var hm=Math.max(0,hk.text.search(/\S/)),hl=ho.line==hn.line&&ho.ch<=hm&&ho.ch;return aa(hn.line,hl?0:hm,hn.sticky)}return hn}function gH(hj,hm,i){if("string"==typeof hm&&(hm=fh[hm],!hm)){return !1}hj.display.input.ensurePolled();var hl=hj.display.shift,hk=!1;try{hj.isReadOnly()&&(hj.state.suppressEdits=!0),i&&(hj.display.shift=!1),hk=hm(hj)!=cv}finally{hj.display.shift=hl,hj.state.suppressEdits=!1}return hk}function eH(hk,hl,hn){for(var hm=0;hm<hk.state.keyMaps.length;hm++){var hj=k(hl,hk.state.keyMaps[hm],hn,hk);if(hj){return hj}}return hk.options.extraKeys&&k(hl,hk.options.extraKeys,hn,hk)||k(hl,hk.options.keyMap,hn,hk)}function bn(i,hk,hm,hl){var hj=i.state.keySeq;if(hj){if(ff(hk)){return"handled"}if(/\'$/.test(hk)?i.state.keySeq=null:eg.set(50,function(){i.state.keySeq==hj&&(i.state.keySeq=null,i.display.input.reset())}),cF(i,hj+" "+hk,hm,hl)){return !0}}return cF(i,hk,hm,hl)}function cF(hj,hk,hm,hl){var i=eH(hj,hk,hl);return"multi"==i&&(hj.state.keySeq=hk),"handled"==i&&ak(hj,"keyHandled",hj,hk,hm),("handled"==i||"multi"==i)&&(c5(hm),q(hj)),!!i}function f2(i,hk){var hj=ga(hk,!0);return hj?hk.shiftKey&&!i.state.keySeq?bn(i,"Shift-"+hj,hk,function(hl){return gH(i,hl,!0)})||bn(i,hj,hk,function(hl){return("string"==typeof hl?/^go[A-Z]/.test(hl):hl.motion)?gH(i,hl):void 0}):bn(i,hj,hk,function(hl){return gH(i,hl)}):!1}function eR(i,hk,hj){return bn(i,"'"+hj+"'",hk,function(hl){return gH(i,hl,!0)})}function r(hl){var i=this;if(i.curOp.focus=ei(),!a2(i,hl)){ed&&11>m&&27==hl.keyCode&&(hl.returnValue=!1);var hj=hl.keyCode;i.display.shift=16==hj||hl.shiftKey;var hk=f2(i,hl);eA&&(dT=hk?hj:null,!hk&&88==hj&&!dE&&(co?hl.metaKey:hl.ctrlKey)&&i.replaceSelection("",null,"cut")),18!=hj||/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className)||aB(i)}}function aB(hj){function i(hl){18!=hl.keyCode&&hl.altKey||(f(hk,"CodeMirror-crosshair"),eN(document,"keyup",i),eN(document,"mouseover",i))}var hk=hj.display.lineDiv;gm(hk,"CodeMirror-crosshair"),cg(document,"keyup",i),cg(document,"mouseover",i)}function bs(i){16==i.keyCode&&(this.doc.sel.shift=!1),a2(this,i)}function cW(hm){var i=this;if(!(bl(i.display,hm)||a2(i,hm)||hm.ctrlKey&&!hm.altKey||co&&hm.metaKey)){var hl=hm.keyCode,hj=hm.charCode;if(eA&&hl==dT){return dT=null,void c5(hm)}if(!eA||hm.which&&!(hm.which<10)||!f2(i,hm)){var hk=String.fromCharCode(null==hj?hl:hj);"\b"!=hk&&(eR(i,hm,hk)||i.display.input.onKeyPress(hm))}}}function I(hk,hj){var i=+new Date;return dI&&dI.compare(i,hk,hj)?(dS=dI=null,"triple"):dS&&dS.compare(i,hk,hj)?(dI=new dR(i,hk,hj),dS=null,"double"):(dS=new dR(i,hk,hj),dI=null,"single")}function e6(hm){var i=this,hl=i.display;if(!(a2(i,hm)||hl.activeTouch&&hl.input.supportsTouch())){if(hl.input.ensurePolled(),hl.shift=hm.shiftKey,bl(hl,hm)){return void (dr||(hl.scroller.draggable=!1,setTimeout(function(){return hl.scroller.draggable=!0},100)))}if(!n(i,hm)){var hn=cM(i,hm),hj=gD(hm),hk=hn?I(hn,hj):"single";window.focus(),1==hj&&i.state.selectingText&&i.state.selectingText(hm),hn&&db(i,hj,hn,hk,hm)||(1==hj?hn?aE(i,hn,hk,hm):P(hm)==hl.scroller&&c5(hm):2==hj?(hn&&gR(i.doc,hn),setTimeout(function(){return hl.input.focus()},20)):3==hj&&(g8?aF(i,hm):aq(i)))}}}function db(i,hk,hn,hm,hl){var hj="Click";return"double"==hm?hj="Double"+hj:"triple"==hm&&(hj="Triple"+hj),hj=(1==hk?"Left":2==hk?"Middle":"Right")+hj,bn(i,gT(hj,hl),hl,function(hp){if("string"==typeof hp&&(hp=fh[hp]),!hp){return !1}var ho=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),ho=hp(i,hn)!=cv}finally{i.state.suppressEdits=!1}return ho})}function b1(i,hn,hl){var hj=i.getOption("configureMouse"),hm=hj?hj(i,hn,hl):{};if(null==hm.unit){var hk=gw?hl.shiftKey&&hl.metaKey:hl.altKey;hm.unit=hk?"rectangle":"single"==hn?"char":"double"==hn?"word":"line"}return(null==hm.extend||i.doc.extend)&&(hm.extend=i.doc.extend||hl.shiftKey),null==hm.addNew&&(hm.addNew=co?hl.metaKey:hl.ctrlKey),null==hm.moveOnDrag&&(hm.moveOnDrag=!(co?hl.altKey:hl.ctrlKey)),hm}function aE(i,ho,hn,hl){ed?setTimeout(cU(t,i),0):i.curOp.focus=ei();var hj,hk=b1(i,hn,hl),hm=i.doc.sel;i.options.dragDrop&&fs&&!i.isReadOnly()&&"single"==hn&&(hj=hm.contains(ho))>-1&&(cB((hj=hm.ranges[hj]).from(),ho)<0||ho.xRel>0)&&(cB(hj.to(),ho)>0||ho.xRel<0)?bd(i,hl,ho,hk):o(i,hl,ho,hk)}function bd(hp,i,hm,hj){var hl=hp.display,hn=!1,hk=dt(hp,function(hr){dr&&(hl.scroller.draggable=!1),hp.state.draggingText=!1,eN(document,"mouseup",hk),eN(document,"mousemove",hq),eN(hl.scroller,"dragstart",ho),eN(hl.scroller,"drop",hk),hn||(c5(hr),hj.addNew||gR(hp.doc,hm,null,null,hj.extend),dr||ed&&9==m?setTimeout(function(){document.body.focus(),hl.input.focus()},20):hl.input.focus())}),hq=function(hr){hn=hn||Math.abs(i.clientX-hr.clientX)+Math.abs(i.clientY-hr.clientY)>=10},ho=function(){return hn=!0};dr&&(hl.scroller.draggable=!0),hp.state.draggingText=hk,hk.copy=!hj.moveOnDrag,hl.scroller.dragDrop&&hl.scroller.dragDrop(),cg(document,"mouseup",hk),cg(document,"mousemove",hq),cg(hl.scroller,"dragstart",ho),cg(hl.scroller,"drop",hk),aq(hp),setTimeout(function(){return hl.input.focus()},20)}function eo(hj,hl,hk){if("char"==hk){return new et(hl,hl)}if("word"==hk){return hj.findWordAt(hl)}if("line"==hk){return new et(aa(hl.line,0),gx(hj.doc,aa(hl.line+1,0)))}var i=hk(hj,hl);return new et(i.from,i.to)}function o(hl,hx,hk,hp){function hu(hM){if(0!=cB(hv,hM)){if(hv=hM,"rectangle"==hp.unit){for(var hD=[],hJ=hl.options.tabSize,hC=ca(fZ(hA,hk.line).text,hk.ch,hJ),hP=ca(fZ(hA,hM.line).text,hM.ch,hJ),hE=Math.min(hC,hP),hN=Math.max(hC,hP),hQ=Math.min(hk.line,hM.line),hG=Math.min(hl.lastLine(),Math.max(hk.line,hM.line));hG>=hQ;hQ++){var hO=fZ(hA,hQ).text,hF=e1(hO,hE,hJ);hE==hN?hD.push(new et(aa(hQ,hF),aa(hQ,hF))):hO.length>hF&&hD.push(new et(aa(hQ,hF),aa(hQ,e1(hO,hN,hJ))))}hD.length||hD.push(new et(hk,hk)),cd(hA,cV(hm.ranges.slice(0,hz).concat(hD),hz),{origin:"*mouse",scroll:!1}),hl.scrollIntoView(hM)}else{var hL,hK=hj,hI=eo(hl,hM,hp.unit),hH=hK.anchor;cB(hI.anchor,hH)>0?(hL=hI.head,hH=az(hK.from(),hI.anchor)):(hL=hI.anchor,hH=bO(hK.to(),hI.head));var hB=hm.ranges.slice(0);hB[hz]=ar(hl,new et(gx(hA,hH),hL)),cd(hA,cV(hB,hz),Q)}}}function hy(hD){var hB=++hn,hF=cM(hl,hD,!0,"rectangle"==hp.unit);if(hF){if(0!=cB(hF,hv)){hl.curOp.focus=ei(),hu(hF);var hE=cq(hw,hA);(hF.line>=hE.to||hF.line<hE.from)&&setTimeout(dt(hl,function(){hn==hB&&hy(hD)}),150)}else{var hC=hD.clientY<hs.top?-20:hD.clientY>hs.bottom?20:0;hC&&setTimeout(dt(hl,function(){hn==hB&&(hw.scroller.scrollTop+=hC,hy(hD))}),50)}}}function hr(hB){hl.state.selectingText=!1,hn=1/0,c5(hB),hw.input.focus(),eN(document,"mousemove",ht),eN(document,"mouseup",ho),hA.history.lastSelOrigin=null}var hw=hl.display,hA=hl.doc;c5(hx);var hj,hz,hm=hA.sel,i=hm.ranges;if(hp.addNew&&!hp.extend?(hz=hA.sel.contains(hk),hj=hz>-1?i[hz]:new et(hk,hk)):(hj=hA.sel.primary(),hz=hA.sel.primIndex),"rectangle"==hp.unit){hp.addNew||(hj=new et(hk,hk)),hk=cM(hl,hx,!0,!0),hz=-1}else{var hq=eo(hl,hk,hp.unit);hj=hp.extend?ge(hj,hq.anchor,hq.head,hp.extend):hq}hp.addNew?-1==hz?(hz=i.length,cd(hA,cV(i.concat([hj]),hz),{scroll:!1,origin:"*mouse"})):i.length>1&&i[hz].empty()&&"char"==hp.unit&&!hp.extend?(cd(hA,cV(i.slice(0,hz).concat(i.slice(hz+1)),0),{scroll:!1,origin:"*mouse"}),hm=hA.sel):e(hA,hz,hj,Q):(hz=0,cd(hA,new gY([hj],0),Q),hm=hA.sel);var hv=hk,hs=hw.wrapper.getBoundingClientRect(),hn=0,ht=dt(hl,function(hB){gD(hB)?hy(hB):hr(hB)}),ho=dt(hl,hr);hl.state.selectingText=ho,cg(document,"mousemove",ht),cg(document,"mouseup",ho)}function ar(hx,hq){var hp=hq.anchor,hu=hq.head,ht=fZ(hx.doc,hp.line);if(0==cB(hp,hu)&&hp.sticky==hu.sticky){return hq}var hm=a(ht);if(!hm){return hq}var hs=aQ(hm,hp.ch,hp.sticky),hk=hm[hs];if(hk.from!=hp.ch&&hk.to!=hp.ch){return hq}var hj=hs+(hk.from==hp.ch==(1!=hk.level)?0:1);if(0==hj||hj==hm.length){return hq}var hr;if(hu.line!=hp.line){hr=(hu.line-hp.line)*("ltr"==hx.doc.direction?1:-1)>0}else{var ho=aQ(hm,hu.ch,hu.sticky),hl=ho-hs||(hu.ch-hp.ch)*(1==hk.level?-1:1);hr=ho==hj-1||ho==hj?0>hl:hl>0}var hn=hm[hj+(hr?-1:0)],hw=hr==(1==hn.level),i=hw?hn.from:hn.to,hv=hw?"after":"before";return hp.ch==i&&hp.sticky==hv?hq:new et(new aa(hp.line,i,hv),hu)}function hh(ht,hp,hr,hs){var hk,hj;if(hp.touches){hk=hp.touches[0].clientX,hj=hp.touches[0].clientY}else{try{hk=hp.clientX,hj=hp.clientY}catch(hp){return !1}}if(hk>=Math.floor(ht.display.gutters.getBoundingClientRect().right)){return !1}hs&&c5(hp);var hq=ht.display,ho=hq.lineDiv.getBoundingClientRect();if(hj>ho.bottom||!f4(ht,hr)){return b3(hp)}hj-=ho.top-hq.viewOffset;for(var hm=0;hm<ht.options.gutters.length;++hm){var hn=hq.gutters.childNodes[hm];if(hn&&hn.getBoundingClientRect().right>=hk){var hu=bY(ht.doc,hj),hl=ht.options.gutters[hm];return aM(ht,hr,ht,hu,hl,hp),b3(hp)}}}function n(i,hj){return hh(i,hj,"gutterClick",!0)}function aF(i,hj){bl(i.display,hj)||dL(i,hj)||a2(i,hj,"contextmenu")||i.display.input.onContextMenu(hj)}function dL(i,hj){return f4(i,"gutterContextMenu")?hh(i,hj,"gutterContextMenu",!1):!1}function de(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ap(i)}function fm(i){function hk(hl,ho,hn,hm){i.defaults[hl]=ho,hn&&(hj[hl]=hm?function(hp,hr,hq){hq!=cx&&hn(hp,hr,hq)}:hn)}var hj=i.optionHandlers;i.defineOption=hk,i.Init=cx,hk("value","",function(hl,hm){return hl.setValue(hm)},!0),hk("mode",null,function(hl,hm){hl.doc.modeOption=hm,bH(hl)},!0),hk("indentUnit",2,bH,!0),hk("indentWithTabs",!1),hk("smartIndent",!0),hk("tabSize",4,function(hl){eW(hl),ap(hl),an(hl)},!0),hk("lineSeparator",null,function(hl,ho){if(hl.doc.lineSep=ho,ho){var hn=[],hp=hl.doc.first;hl.doc.iter(function(hq){for(var hs=0;;){var hr=hq.text.indexOf(ho,hs);if(-1==hr){break}hs=hr+ho.length,hn.push(aa(hp,hr))}hp++});for(var hm=hn.length-1;hm>=0;hm--){bb(hl.doc,ho,hn[hm],aa(hn[hm].line,hn[hm].ch+ho.length))}}}),hk("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(hl,hn,hm){hl.state.specialChars=new RegExp(hn.source+(hn.test("	")?"":"|	"),"g"),hm!=cx&&hl.refresh()}),hk("specialCharPlaceholder",fY,function(hl){return hl.refresh()},!0),hk("electricChars",!0),hk("inputStyle",eP?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),hk("spellcheck",!1,function(hl,hm){return hl.getInputField().spellcheck=hm},!0),hk("rtlMoveVisually",!aZ),hk("wholeLineUpdateBefore",!0),hk("theme","default",function(hl){de(hl),d1(hl)},!0),hk("keyMap","default",function(hl,hp,hm){var hn=gQ(hp),ho=hm!=cx&&gQ(hm);ho&&ho.detach&&ho.detach(hl,hn),hn.attach&&hn.attach(hl,ho||null)}),hk("extraKeys",null),hk("configureMouse",null),hk("lineWrapping",!1,fl,!0),hk("gutters",[],function(hl){cA(hl.options),d1(hl)},!0),hk("fixedGutter",!0,function(hl,hm){hl.display.gutters.style.left=hm?eu(hl.display)+"px":"0",hl.refresh()},!0),hk("coverGutterNextToScrollbar",!1,function(hl){return fI(hl)},!0),hk("scrollbarStyle","native",function(hl){aL(hl),fI(hl),hl.display.scrollbars.setScrollTop(hl.doc.scrollTop),hl.display.scrollbars.setScrollLeft(hl.doc.scrollLeft)},!0),hk("lineNumbers",!1,function(hl){cA(hl.options),d1(hl)},!0),hk("firstLineNumber",1,d1,!0),hk("lineNumberFormatter",function(hl){return hl},d1,!0),hk("showCursorWhenSelecting",!1,bT,!0),hk("resetSelectionOnContextMenu",!0),hk("lineWiseCopyCut",!0),hk("pasteLinesPerSelection",!0),hk("readOnly",!1,function(hl,hm){"nocursor"==hm&&(a5(hl),hl.display.input.blur()),hl.display.input.readOnlyChanged(hm)}),hk("disableInput",!1,function(hl,hm){hm||hl.display.input.reset()},!0),hk("dragDrop",!0,gW),hk("allowDropFileTypes",null),hk("cursorBlinkRate",530),hk("cursorScrollMargin",0),hk("cursorHeight",1,bT,!0),hk("singleCursorHeightPerLine",!0,bT,!0),hk("workTime",100),hk("workDelay",100),hk("flattenSpans",!0,eW,!0),hk("addModeClass",!1,eW,!0),hk("pollInterval",100),hk("undoDepth",200,function(hl,hm){return hl.doc.history.undoDepth=hm}),hk("historyEventDelay",1250),hk("viewportMargin",10,function(hl){return hl.refresh()},!0),hk("maxHighlightLength",10000,eW,!0),hk("moveInputWithCursor",!0,function(hl,hm){hm||hl.display.input.resetPosition()}),hk("tabindex",null,function(hl,hm){return hl.display.input.getField().tabIndex=hm||""}),hk("autofocus",null),hk("direction","ltr",function(hl,hm){return hl.doc.setDirection(hm)},!0)}function d1(i){eL(i),an(i),fj(i)}function gW(hj,hm,hk){var hn=hk&&hk!=cx;if(!hm!=!hn){var hl=hj.display.dragFunctions,i=hm?cg:eN;i(hj.display.scroller,"dragstart",hl.start),i(hj.display.scroller,"dragenter",hl.enter),i(hj.display.scroller,"dragover",hl.over),i(hj.display.scroller,"dragleave",hl.leave),i(hj.display.scroller,"drop",hl.drop)}}function fl(i){i.options.lineWrapping?(gm(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(f(i.display.wrapper,"CodeMirror-wrap"),g(i)),ad(i),an(i),ap(i),setTimeout(function(){return fI(i)},100)}function K(hj,hl){var hq=this;if(!(this instanceof K)){return new K(hj,hl)}this.options=hl=hl?aX(hl):{},aX(fM,hl,!1),cA(hl);var hp=hl.value;"string"==typeof hp&&(hp=new aA(hp,hl.mode,null,hl.lineSeparator,hl.direction)),this.doc=hp;var hk=new K.inputStyles[hl.inputStyle](this),ho=this.display=new fo(hj,hp,hk);ho.wrapper.CodeMirror=this,eL(this),de(this),hl.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),aL(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new hi,keySeq:null,specialChars:null},hl.autofocus&&!eP&&ho.input.focus(),ed&&11>m&&setTimeout(function(){return hq.display.input.reset(!0)},20),gG(this),bt(),c9(this),this.curOp.forceUpdate=!0,eK(this,hp),hl.autofocus&&!eP||this.hasFocus()?setTimeout(cU(c0,this),20):a5(this);for(var hn in bp){bp.hasOwnProperty(hn)&&bp[hn](hq,hl[hn],cx)}eD(this),hl.finishInit&&hl.finishInit(this);for(var hm=0;hm<bi.length;++hm){bi[hm](hq)}au(this),dr&&hl.lineWrapping&&"optimizelegibility"==getComputedStyle(ho.lineDiv).textRendering&&(ho.lineDiv.style.textRendering="auto")}function gG(hj){function hp(){hn.activeTouch&&(ho=setTimeout(function(){return hn.activeTouch=null},1000),i=hn.activeTouch,i.end=+new Date)}function hl(hq){if(1!=hq.touches.length){return !1}var hr=hq.touches[0];return hr.radiusX<=1&&hr.radiusY<=1}function hk(ht,hq){if(null==hq.left){return !0}var hs=hq.left-ht.left,hr=hq.top-ht.top;return hs*hs+hr*hr>400}var hn=hj.display;cg(hn.scroller,"mousedown",dt(hj,e6)),ed&&11>m?cg(hn.scroller,"dblclick",dt(hj,function(hr){if(!a2(hj,hr)){var hs=cM(hj,hr);if(hs&&!n(hj,hr)&&!bl(hj.display,hr)){c5(hr);var hq=hj.findWordAt(hs);gR(hj.doc,hq.anchor,hq.head)}}})):cg(hn.scroller,"dblclick",function(hq){return a2(hj,hq)||c5(hq)}),g8||cg(hn.scroller,"contextmenu",function(hq){return aF(hj,hq)});var ho,i={end:0};cg(hn.scroller,"touchstart",function(hr){if(!a2(hj,hr)&&!hl(hr)&&!n(hj,hr)){hn.input.ensurePolled(),clearTimeout(ho);var hq=+new Date;hn.activeTouch={start:hq,moved:!1,prev:hq-i.end<=300?i:null},1==hr.touches.length&&(hn.activeTouch.left=hr.touches[0].pageX,hn.activeTouch.top=hr.touches[0].pageY)}}),cg(hn.scroller,"touchmove",function(){hn.activeTouch&&(hn.activeTouch.moved=!0)}),cg(hn.scroller,"touchend",function(hr){var ht=hn.activeTouch;if(ht&&!bl(hn,hr)&&null!=ht.left&&!ht.moved&&new Date-ht.start<300){var hq,hs=hj.coordsChar(hn.activeTouch,"page");hq=!ht.prev||hk(ht,ht.prev)?new et(hs,hs):!ht.prev.prev||hk(ht,ht.prev.prev)?hj.findWordAt(hs):new et(aa(hs.line,0),gx(hj.doc,aa(hs.line+1,0))),hj.setSelection(hq.anchor,hq.head),hj.focus(),c5(hr)}hp()}),cg(hn.scroller,"touchcancel",hp),cg(hn.scroller,"scroll",function(){hn.scroller.clientHeight&&(B(hj,hn.scroller.scrollTop),bV(hj,hn.scroller.scrollLeft,!0),aM(hj,"scroll",hj))}),cg(hn.scroller,"mousewheel",function(hq){return c(hj,hq)}),cg(hn.scroller,"DOMMouseScroll",function(hq){return c(hj,hq)}),cg(hn.wrapper,"scroll",function(){return hn.wrapper.scrollTop=hn.wrapper.scrollLeft=0}),hn.dragFunctions={enter:function(hq){a2(hj,hq)||e2(hq)},over:function(hq){a2(hj,hq)||(hg(hj,hq),e2(hq))},start:function(hq){return U(hj,hq)},drop:dt(hj,bu),leave:function(hq){a2(hj,hq)||dF(hj)}};var hm=hn.input.getField();cg(hm,"keyup",function(hq){return bs.call(hj,hq)}),cg(hm,"keydown",dt(hj,r)),cg(hm,"keypress",dt(hj,cW)),cg(hm,"focus",function(hq){return c0(hj,hq)}),cg(hm,"blur",function(hq){return a5(hj,hq)})}function ai(hy,hn,hx,hl){var hk,hw=hy.doc;null==hx&&(hx="add"),"smart"==hx&&(hw.mode.indent?hk=fG(hy,hn).state:hx="prev");var hr=hy.options.tabSize,hz=fZ(hw,hn),hq=ca(hz.text,null,hr);hz.stateAfter&&(hz.stateAfter=null);var hu,hj=hz.text.match(/^\s*/)[0];if(hl||/\S/.test(hz.text)){if("smart"==hx&&(hu=hw.mode.indent(hk,hz.text.slice(hj.length),hz.text),hu==cv||hu>150)){if(!hl){return}hx="prev"}}else{hu=0,hx="not"}"prev"==hx?hu=hn>hw.first?ca(fZ(hw,hn-1).text,null,hr):0:"add"==hx?hu=hq+hy.options.indentUnit:"subtract"==hx?hu=hq-hy.options.indentUnit:"number"==typeof hx&&(hu=hq+hx),hu=Math.max(0,hu);var hv="",ht=0;if(hy.options.indentWithTabs){for(var ho=Math.floor(hu/hr);ho;--ho){ht+=hr,hv+="	"}}if(hu>ht&&(hv+=cO(hu-ht)),hv!=hj){return bb(hw,hv,aa(hn,0),aa(hn,hj.length),"+input"),hz.stateAfter=null,!0}for(var hm=0;hm<hw.sel.ranges.length;hm++){var hp=hw.sel.ranges[hm];if(hp.head.line==hn&&hp.head.ch<hj.length){var hs=aa(hn,hj.length);e(hw,hm,new et(hs,hs));break}}}function dy(i){bw=i}function gS(hy,ho,hm,hl,hx){var hw=hy.doc;hy.display.shift=!1,hl||(hl=hw.sel);var hn=hy.state.pasteIncoming||"paste"==hx,hr=gI(ho),hj=null;if(hn&&hl.ranges.length>1){if(bw&&bw.text.join("\n")==ho){if(hl.ranges.length%bw.text.length==0){hj=[];for(var hp=0;hp<bw.text.length;hp++){hj.push(hw.splitLines(bw.text[hp]))}}}else{hr.length==hl.ranges.length&&hy.options.pasteLinesPerSelection&&(hj=cc(hr,function(i){return[i]}))}}for(var hs,hk=hl.ranges.length-1;hk>=0;hk--){var hq=hl.ranges[hk],hv=hq.from(),hu=hq.to();hq.empty()&&(hm&&hm>0?hv=aa(hv.line,hv.ch-hm):hy.state.overwrite&&!hn?hu=aa(hu.line,Math.min(fZ(hw,hu.line).text.length,hu.ch+gs(hr).length)):bw&&bw.lineWise&&bw.text.join("\n")==ho&&(hv=hu=aa(hv.line,0))),hs=hy.curOp.updateInput;var ht={from:hv,to:hu,text:hj?hj[hk%hj.length]:hr,origin:hx||(hn?"paste":hy.state.cutIncoming?"cut":"+input")};bq(hy.doc,ht),ak(hy,"inputRead",hy,ht)}ho&&!hn&&gO(hy,ho),gr(hy),hy.curOp.updateInput=hs,hy.curOp.typing=!0,hy.state.pasteIncoming=hy.state.cutIncoming=!1}function bk(hk,i){var hj=hk.clipboardData&&hk.clipboardData.getData("Text");return hj?(hk.preventDefault(),i.isReadOnly()||i.options.disableInput||dd(i,function(){return gS(i,hj,0,null,"paste")}),!0):void 0}function gO(hj,hn){if(hj.options.electricChars&&hj.options.smartIndent){for(var ho=hj.doc.sel,hm=ho.ranges.length-1;hm>=0;hm--){var hk=ho.ranges[hm];if(!(hk.head.ch>100||hm&&ho.ranges[hm-1].head.line==hk.head.line)){var hp=hj.getModeAt(hk.head),hq=!1;if(hp.electricChars){for(var hl=0;hl<hp.electricChars.length;hl++){if(hn.indexOf(hp.electricChars.charAt(hl))>-1){hq=ai(hj,hk.head.line,"smart");break}}}else{hp.electricInput&&hp.electricInput.test(fZ(hj.doc,hk.head.line).text.slice(0,hk.head.ch))&&(hq=ai(hj,hk.head.line,"smart"))}hq&&ak(hj,"electricInput",hj,hk.head.line)}}}}function dM(hj){for(var ho=[],hl=[],hm=0;hm<hj.doc.sel.ranges.length;hm++){var hk=hj.doc.sel.ranges[hm].head.line,hn={anchor:aa(hk,0),head:aa(hk+1,0)};hl.push(hn),ho.push(hj.getRange(hn.anchor,hn.head))}return{text:ho,ranges:hl}}function gE(hj,i){hj.setAttribute("autocorrect","off"),hj.setAttribute("autocapitalize","off"),hj.setAttribute("spellcheck",!!i)}function a8(){var i=gZ("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),hj=gZ("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return dr?i.style.width="1000px":i.setAttribute("wrap","off"),fL&&(i.style.border="1px solid black"),gE(i),hj}function ej(i){var hj=i.optionHandlers,hk=i.helpers={};i.prototype={constructor:i,focus:function(){window.focus(),this.display.input.focus()},setOption:function(hn,ho){var hm=this.options,hl=hm[hn];(hm[hn]!=ho||"mode"==hn)&&(hm[hn]=ho,hj.hasOwnProperty(hn)&&dt(this,hj[hn])(this,ho,hl),aM(this,"optionChange",this,hn))},getOption:function(hl){return this.options[hl]},getDoc:function(){return this.doc},addKeyMap:function(hm,hl){this.state.keyMaps[hl?"push":"unshift"](gQ(hm))},removeKeyMap:function(hm){for(var hn=this.state.keyMaps,hl=0;hl<hn.length;++hl){if(hn[hl]==hm||hn[hl].name==hm){return hn.splice(hl,1),!0}}},addOverlay:dC(function(hl,hm){var hn=hl.token?hl:i.getMode(this.options,hl);if(hn.startState){throw new Error("Overlays may not be stateful.")}cu(this.state.overlays,{mode:hn,modeSpec:hl,opaque:hm&&hm.opaque,priority:hm&&hm.priority||0},function(ho){return ho.priority}),this.state.modeGen++,an(this)}),removeOverlay:dC(function(hl){for(var hp=this,hn=this.state.overlays,hm=0;hm<hn.length;++hm){var ho=hn[hm].modeSpec;if(ho==hl||"string"==typeof hl&&ho.name==hl){return hn.splice(hm,1),hp.state.modeGen++,void an(hp)}}}),indentLine:dC(function(hn,hl,hm){"string"!=typeof hl&&"number"!=typeof hl&&(hl=null==hl?this.options.smartIndent?"smart":"prev":hl?"add":"subtract"),ct(this.doc,hn)&&ai(this,hn,hl,hm)}),indentSelection:dC(function(hv){for(var hr=this,hl=this.doc.sel.ranges,ho=-1,hq=0;hq<hl.length;hq++){var hs=hl[hq];if(hs.empty()){hs.head.line>ho&&(ai(hr,hs.head.line,hv,!0),ho=hs.head.line,hq==hr.doc.sel.primIndex&&gr(hr))}else{var ht=hs.from(),hu=hs.to(),hm=Math.max(ho,ht.line);ho=Math.min(hr.lastLine(),hu.line-(hu.ch?0:1))+1;for(var hp=hm;ho>hp;++hp){ai(hr,hp,hv)}var hn=hr.doc.sel.ranges;0==ht.ch&&hl.length==hn.length&&hn[hq].from().ch>0&&e(hr.doc,hq,new et(ht,hn[hq].to()),af)}}}),getTokenAt:function(hm,hl){return cP(this,hm,hl)},getLineTokens:function(hm,hl){return cP(this,aa(hm),hl,!0)},getTokenTypeAt:function(hs){hs=gx(this.doc,hs);var hn,ho=dA(this,fZ(this.doc,hs.line)),hq=0,hr=(ho.length-1)/2,hm=hs.ch;if(0==hm){hn=ho[2]}else{for(;;){var hl=hq+hr>>1;if((hl?ho[2*hl-1]:0)>=hm){hr=hl}else{if(!(ho[2*hl+1]<hm)){hn=ho[2*hl+2];break}hq=hl+1}}}var hp=hn?hn.indexOf("overlay "):-1;return 0>hp?hn:0==hp?null:hn.slice(0,hp-1)},getModeAt:function(hm){var hl=this.doc.mode;return hl.innerMode?i.innerMode(hl,this.getTokenAt(hm).state).mode:hl},getHelper:function(hm,hl){return this.getHelpers(hm,hl)[0]},getHelpers:function(hs,hr){var hp=this,hu=[];if(!hk.hasOwnProperty(hr)){return hu}var hn=hk[hr],hq=this.getModeAt(hs);if("string"==typeof hq[hr]){hn[hq[hr]]&&hu.push(hn[hq[hr]])}else{if(hq[hr]){for(var ho=0;ho<hq[hr].length;ho++){var hm=hn[hq[hr][ho]];hm&&hu.push(hm)}}else{hq.helperType&&hn[hq.helperType]?hu.push(hn[hq.helperType]):hn[hq.name]&&hu.push(hn[hq.name])}}for(var hl=0;hl<hn._global.length;hl++){var ht=hn._global[hl];ht.pred(hq,hp)&&-1==dN(hu,ht.val)&&hu.push(ht.val)}return hu},getStateAfter:function(hm,hl){var hn=this.doc;return hm=dw(hn,null==hm?hn.first+hn.size-1:hm),fG(this,hm+1,hl).state},cursorCoords:function(ho,hm){var hn,hl=this.doc.sel.primary();return hn=null==ho?hl.head:"object"==typeof ho?gx(this.doc,ho):ho?hl.from():hl.to(),eq(this,hn,hm||"page")},charCoords:function(hm,hl){return da(this,gx(this.doc,hm),hl||"page")},coordsChar:function(hl,hm){return hl=he(this,hl,hm||"page"),gF(this,hl.left,hl.top)},lineAtHeight:function(hl,hm){return hl=he(this,{top:hl,left:0},hm||"page").top,bY(this.doc,hl+this.display.viewOffset)},heightAtLine:function(hm,hq,hp){var hn,hl=!1;if("number"==typeof hm){var ho=this.doc.first+this.doc.size-1;hm<this.doc.first?hm=this.doc.first:hm>ho&&(hm=ho,hl=!0),hn=fZ(this.doc,hm)}else{hn=hm}return fy(this,hn,{top:0,left:0},hq||"page",hp||hl).top+(hl?this.doc.height-b4(hn):0)},defaultTextHeight:function(){return a9(this.display)},defaultCharWidth:function(){return d6(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(hq,hn,hs,ho,hu){var hp=this.display;hq=eq(this,gx(this.doc,hq));var hr=hq.bottom,hm=hq.left;if(hn.style.position="absolute",hn.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(hn),hp.sizer.appendChild(hn),"over"==ho){hr=hq.top}else{if("above"==ho||"near"==ho){var hl=Math.max(hp.wrapper.clientHeight,this.doc.height),ht=Math.max(hp.sizer.clientWidth,hp.lineSpace.clientWidth);("above"==ho||hq.bottom+hn.offsetHeight>hl)&&hq.top>hn.offsetHeight?hr=hq.top-hn.offsetHeight:hq.bottom+hn.offsetHeight<=hl&&(hr=hq.bottom),hm+hn.offsetWidth>ht&&(hm=ht-hn.offsetWidth)}}hn.style.top=hr+"px",hn.style.left=hn.style.right="","right"==hu?(hm=hp.sizer.clientWidth-hn.offsetWidth,hn.style.right="0px"):("left"==hu?hm=0:"middle"==hu&&(hm=(hp.sizer.clientWidth-hn.offsetWidth)/2),hn.style.left=hm+"px"),hs&&H(this,{left:hm,top:hr,right:hm+hn.offsetWidth,bottom:hr+hn.offsetHeight})},triggerOnKeyDown:dC(r),triggerOnKeyPress:dC(cW),triggerOnKeyUp:bs,triggerOnMouseDown:dC(e6),execCommand:function(hl){return fh.hasOwnProperty(hl)?fh[hl].call(null,this):void 0},triggerElectric:dC(function(hl){gO(this,hl)}),findPosH:function(hs,ho,hp,hm){var hr=this,hl=1;0>ho&&(hl=-1,ho=-ho);for(var hq=gx(this.doc,hs),hn=0;ho>hn&&(hq=bM(hr.doc,hq,hl,hp,hm),!hq.hitSide);++hn){}return hq},moveH:dC(function(hl,hm){var hn=this;this.extendSelectionsBy(function(ho){return hn.display.shift||hn.doc.extend||ho.empty()?bM(hn.doc,ho.head,hl,hm,hn.options.rtlMoveVisually):0>hl?ho.from():ho.to()},dm)}),deleteH:dC(function(hl,hm){var hn=this.doc.sel,ho=this.doc;hn.somethingSelected()?ho.replaceSelection("",null,"+delete"):fH(this,function(hq){var hp=bM(ho,hq.head,hl,hm,!1);return 0>hl?{from:hp,to:hq.head}:{from:hq.head,to:hp}})}),findPosV:function(hr,ho,hs,hu){var hn=this,hl=1,hq=hu;0>ho&&(hl=-1,ho=-ho);for(var ht=gx(this.doc,hr),hm=0;ho>hm;++hm){var hp=eq(hn,ht,"div");if(null==hq?hq=hp.left:hp.left=hq,ht=bG(hn,hp,hl,hs),ht.hitSide){break}}return ht},moveV:dC(function(hl,hn){var hr=this,hp=this.doc,ho=[],hq=!this.display.shift&&!hp.extend&&hp.sel.somethingSelected();if(hp.extendSelectionsBy(function(hs){if(hq){return 0>hl?hs.from():hs.to()}var hu=eq(hr,hs.head,"div");null!=hs.goalColumn&&(hu.left=hs.goalColumn),ho.push(hu.left);var ht=bG(hr,hu,hl,hn);return"page"==hn&&hs==hp.sel.primary()&&c7(hr,da(hr,ht,"div").top-hu.top),ht},dm),ho.length){for(var hm=0;hm<hp.sel.ranges.length;hm++){hp.sel.ranges[hm].goalColumn=ho[hm]}}}),findWordAt:function(hs){var hq=this.doc,ho=fZ(hq,hs.line).text,hr=hs.ch,hn=hs.ch;if(ho){var hp=this.getHelper(hs,"wordChars");"before"!=hs.sticky&&hn!=ho.length||!hr?++hn:--hr;for(var hm=ho.charAt(hr),hl=cZ(hm,hp)?function(ht){return cZ(ht,hp)}:/\s/.test(hm)?function(ht){return/\s/.test(ht)}:function(ht){return !/\s/.test(ht)&&!cZ(ht)};hr>0&&hl(ho.charAt(hr-1));){--hr}for(;hn<ho.length&&hl(ho.charAt(hn));){++hn}}return new et(aa(hs.line,hr),aa(hs.line,hn))},toggleOverwrite:function(hl){(null==hl||hl!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?gm(this.display.cursorDiv,"CodeMirror-overwrite"):f(this.display.cursorDiv,"CodeMirror-overwrite"),aM(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ei()},isReadOnly:function(){return !(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:dC(function(hl,hm){ft(this,hl,hm)}),getScrollInfo:function(){var hl=this.display.scroller;return{left:hl.scrollLeft,top:hl.scrollTop,height:hl.scrollHeight-dj(this)-this.display.barHeight,width:hl.scrollWidth-dj(this)-this.display.barWidth,clientHeight:dl(this),clientWidth:dQ(this)}},scrollIntoView:dC(function(hl,hm){null==hl?(hl={from:this.doc.sel.primary().head,to:null},null==hm&&(hm=this.options.cursorScrollMargin)):"number"==typeof hl?hl={from:aa(hl,0),to:null}:null==hl.from&&(hl={from:hl,to:null}),hl.to||(hl.to=hl.from),hl.margin=hm||0,null!=hl.from.line?cy(this,hl):b8(this,hl.from,hl.to,hl.margin)}),setSize:dC(function(hn,hl){var hp=this,hm=function(hq){return"number"==typeof hq||/^\d+$/.test(String(hq))?hq+"px":hq};null!=hn&&(this.display.wrapper.style.width=hm(hn)),null!=hl&&(this.display.wrapper.style.height=hm(hl)),this.options.lineWrapping&&aY(this);var ho=this.display.viewFrom;this.doc.iter(ho,this.display.viewTo,function(hq){if(hq.widgets){for(var hr=0;hr<hq.widgets.length;hr++){if(hq.widgets[hr].noHScroll){V(hp,ho,"widget");break}}}++ho}),this.curOp.forceUpdate=!0,aM(this,"refresh",this)}),operation:function(hl){return dd(this,hl)},startOperation:function(){return c9(this)},endOperation:function(){return au(this)},refresh:dC(function(){var hl=this.display.cachedTextHeight;an(this),this.curOp.forceUpdate=!0,ap(this),ft(this,this.doc.scrollLeft,this.doc.scrollTop),dv(this),(null==hl||Math.abs(hl-a9(this.display))>0.5)&&ad(this),aM(this,"refresh",this)}),swapDoc:dC(function(hm){var hl=this.doc;return hl.cm=null,eK(this,hm),ap(this),this.display.input.reset(),ft(this,hm.scrollLeft,hm.scrollTop),this.curOp.forceScroll=!0,ak(this,"swapDoc",this,hl),hl}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bQ(i),i.registerHelper=function(hm,hl,hn){hk.hasOwnProperty(hm)||(hk[hm]=i[hm]={_global:[]}),hk[hm][hl]=hn},i.registerGlobalHelper=function(hn,hm,hl,ho){i.registerHelper(hn,hm,ho),hk[hn]._global.push({pred:hl,val:ho})}}function bM(hu,ht,hl,hv,hj){function i(){var hz=ht.line+hl;return hz<hu.first||hz>=hu.first+hu.size?!1:(ht=new aa(hz,ht.ch,ht.sticky),hp=fZ(hu,hz))}function hn(hA){var hz;if(hz=hj?v(hu.cm,hp,ht,hl):ao(hp,ht,hl),null==hz){if(hA||!i()){return !1}ht=fc(hj,hu.cm,hp,ht.line,hl)}else{ht=hz}return !0}var hm=ht,hq=hl,hp=fZ(hu,ht.line);if("char"==hv){hn()}else{if("column"==hv){hn(!0)}else{if("word"==hv||"group"==hv){for(var hs=null,hx="group"==hv,hk=hu.cm&&hu.cm.getHelper(ht,"wordChars"),ho=!0;!(0>hl)||hn(!ho);ho=!1){var hw=hp.text.charAt(ht.ch)||"\n",hr=cZ(hw,hk)?"w":hx&&"\n"==hw?"n":!hx||/\s/.test(hw)?null:"p";if(!hx||ho||hr||(hr="s"),hs&&hs!=hr){0>hl&&(hl=1,hn(),ht.sticky="after");break}if(hr&&(hs=hr),hl>0&&!hn(!ho)){break}}}}}var hy=ce(hu,ht,hm,hq,!0);return ab(hm,hy)&&(hy.hitSide=!0),hy}function bG(hr,hm,hj,hq){var hn,hp=hr.doc,ho=hm.left;if("page"==hq){var hl=Math.min(hr.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),i=Math.max(hl-0.5*a9(hr.display),3);hn=(hj>0?hm.bottom:hm.top)+hj*i}else{"line"==hq&&(hn=hj>0?hm.bottom+3:hm.top-3)}for(var hk;hk=gF(hr,ho,hn),hk.outside;){if(0>hj?0>=hn:hn>=hp.height){hk.hitSide=!0;break}hn+=5*hj}return hk}function cY(ho,hm){var hn=fW(ho,hm.line);if(!hn||hn.hidden){return null}var hq=fZ(ho.doc,hm.line),hj=cS(hn,hq,hm.line),hk=a(hq,ho.doc.direction),hl="left";if(hk){var i=aQ(hk,hm.ch);hl=i%2?"right":"left"}var hp=aT(hj.map,hm.ch,hl);return hp.offset="right"==hp.collapse?hp.end:hp.start,hp}function g0(hj){for(var i=hj;i;i=i.parentNode){if(/CodeMirror-gutter-wrapper/.test(i.className)){return !0}}return !1}function e3(hj,i){return i&&(hj.bad=!0),hj}function gV(hq,ho,hp,hl,hj){function hm(hu){return function(hv){return hv.id==hu}}function ht(){hk&&(hs+=i,hk=!1)}function hr(hu){hu&&(ht(),hs+=hu)}function hn(hz){if(1==hz.nodeType){var hw=hz.getAttribute("cm-text");if(null!=hw){return void hr(hw||hz.textContent.replace(/\u200b/g,""))}var hv,hy=hz.getAttribute("cm-marker");if(hy){var hA=hq.findMarks(aa(hl,0),aa(hj+1,0),hm(+hy));return void (hA.length&&(hv=hA[0].find(0))&&hr(g1(hq.doc,hv.from,hv.to).join(i)))}if("false"==hz.getAttribute("contenteditable")){return}var hu=/^(pre|div|p)$/i.test(hz.nodeName);hu&&ht();for(var hx=0;hx<hz.childNodes.length;hx++){hn(hz.childNodes[hx])}hu&&(hk=!0)}else{3==hz.nodeType&&hr(hz.nodeValue)}}for(var hs="",hk=!1,i=hq.doc.lineSeparator();hn(ho),ho!=hp;){ho=ho.nextSibling}return hs}function aG(hj,hm,ho){var hn;if(hm==hj.display.lineDiv){if(hn=hj.display.lineDiv.childNodes[ho],!hn){return e3(hj.clipPos(aa(hj.display.viewTo-1)),!0)}hm=null,ho=0}else{for(hn=hm;;hn=hn.parentNode){if(!hn||hn==hj.display.lineDiv){return null}if(hn.parentNode&&hn.parentNode==hj.display.lineDiv){break}}}for(var hl=0;hl<hj.display.view.length;hl++){var hk=hj.display.view[hl];if(hk.node==hn){return ag(hk,hm,ho)}}}function ag(hr,hn,hp){function hq(hA,hF,hC){for(var hE=-1;hE<(ht?ht.length:0);hE++){for(var hz=0>hE?hj.map:ht[hE],hD=0;hD<hz.length;hD+=3){var hB=hz[hD+2];if(hB==hA||hB==hF){var hG=b5(0>hE?hr.line:hr.rest[hE]),hy=hz[hD]+hC;return(0>hC||hB!=hA)&&(hy=hz[hD+(hC?1:0)]),aa(hG,hy)}}}}var hk=hr.text.firstChild,hm=!1;if(!hn||!g9(hk,hn)){return e3(aa(b5(hr.line),0),!0)}if(hn==hk&&(hm=!0,hn=hk.childNodes[hp],hp=0,!hn)){var hx=hr.rest?gs(hr.rest):hr.line;return e3(aa(b5(hx),hx.text.length),hm)}var ho=3==hn.nodeType?hn:null,hv=hn;for(ho||1!=hn.childNodes.length||3!=hn.firstChild.nodeType||(ho=hn.firstChild,hp&&(hp=ho.nodeValue.length));hv.parentNode!=hk;){hv=hv.parentNode}var hj=hr.measure,ht=hj.maps,hw=hq(ho,hv,hp);if(hw){return e3(hw,hm)}for(var i=hv.nextSibling,hs=ho?ho.nodeValue.length-hp:0;i;i=i.nextSibling){if(hw=hq(i,i.firstChild,0)){return e3(aa(hw.line,hw.ch-hs),hm)}hs+=i.textContent.length}for(var hu=hv.previousSibling,hl=hp;hu;hu=hu.previousSibling){if(hw=hq(hu,hu.firstChild,-1)){return e3(aa(hw.line,hw.ch+hl),hm)}hl+=hu.textContent.length}}function gt(hp,hq){function hm(){hp.value=ho.getValue()}if(hq=hq?aX(hq):{},hq.value=hp.value,!hq.tabindex&&hp.tabIndex&&(hq.tabindex=hp.tabIndex),!hq.placeholder&&hp.placeholder&&(hq.placeholder=hp.placeholder),null==hq.autofocus){var i=ei();hq.autofocus=i==hp||null!=hp.getAttribute("autofocus")&&i==document.body}var hn;if(hp.form&&(cg(hp.form,"submit",hm),!hq.leaveSubmitMethodAlone)){var hj=hp.form;hn=hj.submit;try{var hl=hj.submit=function(){hm(),hj.submit=hn,hj.submit(),hj.submit=hl}}catch(hk){}}hq.finishInit=function(hr){hr.save=hm,hr.getTextArea=function(){return hp},hr.toTextArea=function(){hr.toTextArea=isNaN,hm(),hp.parentNode.removeChild(hr.getWrapperElement()),hp.style.display="",hp.form&&(eN(hp.form,"submit",hm),"function"==typeof hp.form.submit&&(hp.form.submit=hn))}},hp.style.display="none";var ho=K(function(hr){return hp.parentNode.insertBefore(hr,hp.nextSibling)},hq);return ho}function gy(i){i.off=eN,i.on=cg,i.wheelEventPixels=aH,i.Doc=aA,i.splitLines=gI,i.countColumn=ca,i.findColumn=e1,i.isWordChar=gp,i.Pass=cv,i.signal=aM,i.Line=g2,i.changeEnd=dn,i.scrollbarModel=bx,i.Pos=aa,i.cmpPos=cB,i.modes=dW,i.mimeModes=a1,i.resolveMode=ha,i.getMode=gl,i.modeExtensions=dU,i.extendMode=fi,i.copyState=cn,i.startState=ck,i.innerMode=g6,i.commands=fh,i.keyMap=fV,i.keyName=ga,i.isModifierKey=ff,i.lookupKey=k,i.normalizeKeyMap=c6,i.StringStream=fC,i.SharedTextMarker=y,i.TextMarker=T,i.LineWidget=d5,i.e_preventDefault=c5,i.e_stopPropagation=dV,i.e_stop=e2,i.addClass=gm,i.contains=g9,i.rmClass=f,i.keyNames=f0}var ev=navigator.userAgent,eJ=navigator.platform,cN=/gecko\/\d/i.test(ev),fr=/MSIE \d/.test(ev),b0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ev),c1=/Edge\/(\d+)/.exec(ev),ed=fr||b0||c1,m=ed&&(fr?document.documentMode||6:+(c1||b0)[1]),dr=!c1&&/WebKit\//.test(ev),eh=dr&&/Qt\/\d+\.\d+/.test(ev),dH=!c1&&/Chrome\//.test(ev),eA=/Opera\//.test(ev),aK=/Apple Computer/.test(navigator.vendor),dz=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ev),gd=/PhantomJS/.test(ev),fL=!c1&&/AppleWebKit/.test(ev)&&/Mobile\/\w+/.test(ev),aW=/Android/.test(ev),eP=fL||aW||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ev),co=fL||/Mac/.test(eJ),gw=/\bCrOS\b/.test(ev),aZ=/win/i.test(eJ),a7=eA&&ev.match(/Version\/(\d*\.\d*)/);a7&&(a7=Number(a7[1])),a7&&a7>=15&&(eA=!1,dr=!0);var cJ,b9=co&&(eh||eA&&(null==a7||12.11>a7)),g8=cN||ed&&m>=9,f=function(hk,i){var hl=hk.className,hj=W(i).exec(hl);if(hj){var hm=hl.slice(hj.index+hj[0].length);hk.className=hl.slice(0,hj.index)+(hm?hj[1]+hm:"")}};cJ=document.createRange?function(hl,hm,hj,i){var hk=document.createRange();return hk.setEnd(i||hl,hj),hk.setStart(hl,hm),hk}:function(hk,hm,i){var hj=document.body.createTextRange();try{hj.moveToElementText(hk.parentNode)}catch(hl){return hj}return hj.collapse(!0),hj.moveEnd("character",i),hj.moveStart("character",hm),hj};var ef=function(i){i.select()};fL?ef=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:ed&&(ef=function(hj){try{hj.select()}catch(i){}});var hi=function(){this.id=null};hi.prototype.set=function(i,hj){clearTimeout(this.id),this.id=setTimeout(hj,i)};var gB,gA,eb=30,cv={toString:function(){return"CodeMirror.Pass"}},af={scroll:!1},Q={origin:"*mouse"},dm={origin:"+move"},ba=[""],bm=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,fq=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,hb=!1,bh=!1,fN=null,br=function(){function hl(hr){return 247>=hr?ho.charAt(hr):hr>=1424&&1524>=hr?"R":hr>=1536&&1785>=hr?hm.charAt(hr-1536):hr>=1774&&2220>=hr?"r":hr>=8192&&8203>=hr?"w":8204==hr?"b":"L"}function hp(ht,hs,hr){this.level=ht,this.from=hs,this.to=hr}var ho="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",hm="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,hq=/[stwN]/,hk=/[LRr]/,hj=/[Lb1n]/,hn=/[1n]/;return function(hO,hu){var hD="ltr"==hu?"L":"R";if(0==hO.length||"ltr"==hu&&!i.test(hO)){return !1}for(var hx=hO.length,hX=[],h0=0;hx>h0;++h0){hX.push(hl(hO.charCodeAt(h0)))}for(var hL=0,hK=hD;hx>hL;++hL){var h1=hX[hL];"m"==h1?hX[hL]=hK:hK=h1}for(var hJ=0,ht=hD;hx>hJ;++hJ){var hW=hX[hJ];"1"==hW&&"r"==ht?hX[hJ]="n":hk.test(hW)&&(ht=hW,"r"==hW&&(hX[hJ]="R"))}for(var hI=1,hs=hX[0];hx-1>hI;++hI){var hV=hX[hI];"+"==hV&&"1"==hs&&"1"==hX[hI+1]?hX[hI]="1":","!=hV||hs!=hX[hI+1]||"1"!=hs&&"n"!=hs||(hX[hI]=hs),hs=hV}for(var hH=0;hx>hH;++hH){var hU=hX[hH];if(","==hU){hX[hH]="N"}else{if("%"==hU){var hw=void 0;for(hw=hH+1;hx>hw&&"%"==hX[hw];++hw){}for(var hB=hH&&"!"==hX[hH-1]||hx>hw&&"1"==hX[hw]?"1":"N",hZ=hH;hw>hZ;++hZ){hX[hZ]=hB}hH=hw-1}}}for(var hG=0,hA=hD;hx>hG;++hG){var hS=hX[hG];"L"==hA&&"1"==hS?hX[hG]="L":hk.test(hS)&&(hA=hS)}for(var hF=0;hx>hF;++hF){if(hq.test(hX[hF])){var hP=void 0;for(hP=hF+1;hx>hP&&hq.test(hX[hP]);++hP){}for(var hR="L"==(hF?hX[hF-1]:hD),hT="L"==(hx>hP?hX[hP]:hD),hN=hR==hT?hR?"L":"R":hD,hz=hF;hP>hz;++hz){hX[hz]=hN}hF=hP-1}}for(var hY,hQ=[],hE=0;hx>hE;){if(hj.test(hX[hE])){var hC=hE;for(++hE;hx>hE&&hj.test(hX[hE]);++hE){}hQ.push(new hp(0,hC,hE))}else{var hM=hE,hr=hQ.length;for(++hE;hx>hE&&"L"!=hX[hE];++hE){}for(var hy=hM;hE>hy;){if(hn.test(hX[hy])){hy>hM&&hQ.splice(hr,0,new hp(1,hM,hy));var hv=hy;for(++hy;hE>hy&&hn.test(hX[hy]);++hy){}hQ.splice(hr,0,new hp(2,hv,hy)),hM=hy}else{++hy}}hE>hM&&hQ.splice(hr,0,new hp(1,hM,hE))}}return"ltr"==hu&&(1==hQ[0].level&&(hY=hO.match(/^\s+/))&&(hQ[0].from=hY[0].length,hQ.unshift(new hp(0,0,hY[0].length))),1==gs(hQ).level&&(hY=hO.match(/\s+$/))&&(gs(hQ).to-=hY[0].length,hQ.push(new hp(0,hx-hY[0].length,hx)))),"rtl"==hu?hQ.reverse():hQ}}(),fQ=[],cg=function(hk,i,hj){if(hk.addEventListener){hk.addEventListener(i,hj,!1)}else{if(hk.attachEvent){hk.attachEvent("on"+i,hj)}else{var hl=hk._handlers||(hk._handlers={});hl[i]=(hl[i]||fQ).concat(hj)}}},fs=function(){if(ed&&9>m){return !1}var i=gZ("div");return"draggable" in i||"dragDrop" in i}(),gI=3!="\n\nb".split(/\n/).length?function(hn){for(var ho=0,i=[],hm=hn.length;hm>=ho;){var hl=hn.indexOf("\n",ho);-1==hl&&(hl=hn.length);var hk=hn.slice(ho,"\r"==hn.charAt(hl-1)?hl-1:hl),hj=hk.indexOf("\r");-1!=hj?(i.push(hk.slice(0,hj)),ho+=hj+1):(i.push(hk),ho=hl+1)}return i}:function(i){return i.split(/\r\n?|\n/)},bI=window.getSelection?function(hj){try{return hj.selectionStart!=hj.selectionEnd}catch(i){return !1}}:function(hk){var i;try{i=hk.ownerDocument.selection.createRange()}catch(hj){}return i&&i.parentElement()==hk?0!=i.compareEndPoints("StartToEnd",i):!1},dE=function(){var i=gZ("div");return"oncopy" in i?!0:(i.setAttribute("oncopy","return;"),"function"==typeof i.oncopy)}(),fR=null,dW={},a1={},dU={},fC=function(i,hk,hj){this.pos=this.start=0,this.string=i,this.tabSize=hk||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=hj};fC.prototype.eol=function(){return this.pos>=this.string.length},fC.prototype.sol=function(){return this.pos==this.lineStart},fC.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},fC.prototype.next=function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},fC.prototype.eat=function(i){var hj,hk=this.string.charAt(this.pos);return hj="string"==typeof i?hk==i:hk&&(i.test?i.test(hk):i(hk)),hj?(++this.pos,hk):void 0},fC.prototype.eatWhile=function(i){for(var hj=this.pos;this.eat(i);){}return this.pos>hj},fC.prototype.eatSpace=function(){for(var hj=this,i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));){++hj.pos}return this.pos>i},fC.prototype.skipToEnd=function(){this.pos=this.string.length},fC.prototype.skipTo=function(i){var hj=this.string.indexOf(i,this.pos);return hj>-1?(this.pos=hj,!0):void 0},fC.prototype.backUp=function(i){this.pos-=i},fC.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ca(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ca(this.string,this.lineStart,this.tabSize):0)},fC.prototype.indentation=function(){return ca(this.string,null,this.tabSize)-(this.lineStart?ca(this.string,this.lineStart,this.tabSize):0)},fC.prototype.match=function(hm,hj,i){if("string"!=typeof hm){var hk=this.string.slice(this.pos).match(hm);return hk&&hk.index>0?null:(hk&&hj!==!1&&(this.pos+=hk[0].length),hk)}var hn=function(ho){return i?ho.toLowerCase():ho},hl=this.string.substr(this.pos,hm.length);return hn(hl)==hn(hm)?(hj!==!1&&(this.pos+=hm.length),!0):void 0},fC.prototype.current=function(){return this.string.slice(this.start,this.pos)},fC.prototype.hideFirstChars=function(hj,i){this.lineStart+=hj;try{return i()}finally{this.lineStart-=hj}},fC.prototype.lookAhead=function(hj){var i=this.lineOracle;return i&&i.lookAhead(hj)},fC.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};var aP=function(hj,i){this.state=hj,this.lookAhead=i},ae=function(hl,hk,i,hj){this.state=hk,this.doc=hl,this.line=i,this.maxLookAhead=hj||0,this.baseTokens=null,this.baseTokenPos=1};ae.prototype.lookAhead=function(hj){var i=this.doc.getLine(this.line+hj);return null!=i&&hj>this.maxLookAhead&&(this.maxLookAhead=hj),i},ae.prototype.baseToken=function(hk){var hj=this;if(!this.baseTokens){return null}for(;this.baseTokens[this.baseTokenPos]<=hk;){hj.baseTokenPos+=2}var i=this.baseTokens[this.baseTokenPos+1];return{type:i&&i.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-hk}},ae.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ae.fromSaved=function(hk,hj,i){return hj instanceof aP?new ae(hk,cn(hk.mode,hj.state),i,hj.lookAhead):new ae(hk,cn(hk.mode,hj),i)},ae.prototype.save=function(hj){var i=hj!==!1?cn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new aP(i,this.maxLookAhead):i};var dD=function(hk,i,hj){this.start=hk.start,this.end=hk.pos,this.string=hk.current(),this.type=i||null,this.state=hj},g2=function(hk,hj,i){this.text=hk,du(this,hj),this.height=i?i(this):1};g2.prototype.lineNo=function(){return b5(this)},bQ(g2);var aO,es={},cl={},bE=null,bP=null,fe={left:0,right:0,top:0,bottom:0},dP=function(hk,hj,i){this.cm=i;var hl=this.vert=gZ("div",[gZ("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),hm=this.horiz=gZ("div",[gZ("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");hk(hl),hk(hm),cg(hl,"scroll",function(){hl.clientHeight&&hj(hl.scrollTop,"vertical")}),cg(hm,"scroll",function(){hm.clientWidth&&hj(hm.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ed&&8>m&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};dP.prototype.update=function(hl){var hm=hl.scrollWidth>hl.clientWidth+1,hk=hl.scrollHeight>hl.clientHeight+1,hn=hl.nativeBarWidth;if(hk){this.vert.style.display="block",this.vert.style.bottom=hm?hn+"px":"0";var hj=hl.viewHeight-(hm?hn:0);this.vert.firstChild.style.height=Math.max(0,hl.scrollHeight-hl.clientHeight+hj)+"px"}else{this.vert.style.display="",this.vert.firstChild.style.height="0"}if(hm){this.horiz.style.display="block",this.horiz.style.right=hk?hn+"px":"0",this.horiz.style.left=hl.barLeft+"px";var i=hl.viewWidth-hl.barLeft-(hk?hn:0);this.horiz.firstChild.style.width=Math.max(0,hl.scrollWidth-hl.clientWidth+i)+"px"}else{this.horiz.style.display="",this.horiz.firstChild.style.width="0"}return !this.checkedZeroWidth&&hl.clientHeight>0&&(0==hn&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:hk?hn:0,bottom:hm?hn:0}},dP.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},dP.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},dP.prototype.zeroWidthHack=function(){var i=co&&!dz?"12px":"18px";this.horiz.style.height=this.vert.style.width=i,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new hi,this.disableVert=new hi},dP.prototype.enableZeroWidthBar=function(hk,i,hj){function hl(){var hn=hk.getBoundingClientRect(),hm="vert"==hj?document.elementFromPoint(hn.right-1,(hn.top+hn.bottom)/2):document.elementFromPoint((hn.right+hn.left)/2,hn.bottom-1);hm!=hk?hk.style.pointerEvents="none":i.set(1000,hl)}hk.style.pointerEvents="auto",i.set(1000,hl)},dP.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var fO=function(){};fO.prototype.update=function(){return{bottom:0,right:0}},fO.prototype.setScrollLeft=function(){},fO.prototype.setScrollTop=function(){},fO.prototype.clear=function(){};var bx={"native":dP,"null":fO},eG=0,aR=function(hj,i,hk){var hl=hj.display;this.viewport=i,this.visible=cq(hl,hj.doc,i),this.editorIsHidden=!hl.wrapper.offsetWidth,this.wrapperHeight=hl.wrapper.clientHeight,this.wrapperWidth=hl.wrapper.clientWidth,this.oldDisplayWidth=dQ(hj),this.force=hk,this.dims=fX(hj),this.events=[]};aR.prototype.signal=function(hj,i){f4(hj,i)&&this.events.push(arguments)},aR.prototype.finish=function(){for(var hk=this,hj=0;hj<this.events.length;hj++){aM.apply(null,hk.events[hj])}};var f6=0,cC=null;ed?cC=-0.53:cN?cC=15:dH?cC=-0.7:aK&&(cC=-1/3);var gY=function(i,hj){this.ranges=i,this.primIndex=hj};gY.prototype.primary=function(){return this.ranges[this.primIndex]},gY.prototype.equals=function(hj){var hn=this;if(hj==this){return !0}if(hj.primIndex!=this.primIndex||hj.ranges.length!=this.ranges.length){return !1}for(var hl=0;hl<this.ranges.length;hl++){var hk=hn.ranges[hl],hm=hj.ranges[hl];if(!ab(hk.anchor,hm.anchor)||!ab(hk.head,hm.head)){return !1}}return !0},gY.prototype.deepCopy=function(){for(var hl=this,hj=[],hk=0;hk<this.ranges.length;hk++){hj[hk]=new et(cE(hl.ranges[hk].anchor),cE(hl.ranges[hk].head))}return new gY(hj,this.primIndex)},gY.prototype.somethingSelected=function(){for(var hk=this,hj=0;hj<this.ranges.length;hj++){if(!hk.ranges[hj].empty()){return !0}}return !1},gY.prototype.contains=function(hn,hj){var hm=this;hj||(hj=hn);for(var hl=0;hl<this.ranges.length;hl++){var hk=hm.ranges[hl];if(cB(hj,hk.from())>=0&&cB(hn,hk.to())<=0){return hl}}return -1};var et=function(i,hj){this.anchor=i,this.head=hj};et.prototype.from=function(){return az(this.anchor,this.head)},et.prototype.to=function(){return bO(this.anchor,this.head)},et.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},fJ.prototype={chunkSize:function(){return this.lines.length},removeInner:function(hj,ho){for(var hn=this,hl=hj,hm=hj+ho;hm>hl;++hl){var hk=hn.lines[hl];hn.height-=hk.height,bS(hk),ak(hk,"delete")}this.lines.splice(hj,ho)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(hk,hl,hj){var hn=this;this.height+=hj,this.lines=this.lines.slice(0,hk).concat(hl).concat(this.lines.slice(hk));for(var hm=0;hm<hl.length;++hm){hl[hm].parent=hn}},iterN:function(i,hm,hl){for(var hk=this,hj=i+hm;hj>i;++i){if(hl(hk.lines[i])){return !0}}}},gh.prototype={chunkSize:function(){return this.size},removeInner:function(hl,hk){var hn=this;this.size-=hk;for(var hm=0;hm<this.children.length;++hm){var hj=hn.children[hm],hp=hj.chunkSize();if(hp>hl){var ho=Math.min(hk,hp-hl),hq=hj.height;if(hj.removeInner(hl,ho),hn.height-=hq-hj.height,hp==ho&&(hn.children.splice(hm--,1),hj.parent=null),0==(hk-=ho)){break}hl=0}else{hl-=hp}}if(this.size-hk<25&&(this.children.length>1||!(this.children[0] instanceof fJ))){var hr=[];this.collapse(hr),this.children=[new fJ(hr)],this.children[0].parent=this}},collapse:function(hj){for(var hl=this,hk=0;hk<this.children.length;++hk){hl.children[hk].collapse(hj)}},insertInner:function(hk,hs,hr){var hn=this;this.size+=hs.length,this.height+=hr;for(var hm=0;hm<this.children.length;++hm){var hj=hn.children[hm],hp=hj.chunkSize();if(hp>=hk){if(hj.insertInner(hk,hs,hr),hj.lines&&hj.lines.length>50){for(var hl=hj.lines.length%25+25,hq=hl;hq<hj.lines.length;){var ho=new fJ(hj.lines.slice(hq,hq+=25));hj.height-=ho.height,hn.children.splice(++hm,0,ho),ho.parent=hn}hj.lines=hj.lines.slice(0,hl),hn.maybeSpill()}break}hk-=hp}},maybeSpill:function(){if(!(this.children.length<=10)){var hl=this;do{var hj=hl.children.splice(hl.children.length-5,5),hk=new gh(hj);if(hl.parent){hl.size-=hk.size,hl.height-=hk.height;var i=dN(hl.parent.children,hl);hl.parent.children.splice(i+1,0,hk)}else{var hm=new gh(hl.children);hm.parent=hl,hl.children=[hm,hk],hl=hm}hk.parent=hl.parent}while(hl.children.length>10);hl.parent.maybeSpill()}},iterN:function(hj,hq,hp){for(var ho=this,hk=0;hk<this.children.length;++hk){var hn=ho.children[hk],hm=hn.chunkSize();if(hm>hj){var hl=Math.min(hq,hm-hj);if(hn.iterN(hj,hl,hp)){return !0}if(0==(hq-=hl)){break}hj=0}else{hj-=hm}}}};var d5=function(hl,hk,i){var hm=this;if(i){for(var hj in i){i.hasOwnProperty(hj)&&(hm[hj]=i[hj])}}this.doc=hl,this.node=hk};d5.prototype.clear=function(){var hp=this,hk=this.doc.cm,hm=this.line.widgets,hl=this.line,ho=b5(hl);if(null!=ho&&hm){for(var hn=0;hn<hm.length;++hn){hm[hn]==hp&&hm.splice(hn--,1)}hm.length||(hl.widgets=null);var hj=dp(this);g4(hl,Math.max(0,hl.height-hj)),hk&&(dd(hk,function(){ew(hk,hl,-hj),V(hk,ho,"widget")}),ak(hk,"lineWidgetCleared",hk,this,ho))}},d5.prototype.changed=function(){var hm=this,hj=this.height,i=this.doc.cm,hk=this.line;this.height=null;var hl=dp(this)-hj;hl&&(g4(hk,hk.height+hl),i&&dd(i,function(){i.curOp.forceUpdate=!0,ew(i,hk,hl),ak(i,"lineWidgetChanged",i,hm,b5(hk))}))},bQ(d5);var be=0,T=function(hj,i){this.lines=[],this.type=i,this.doc=hj,this.id=++be};T.prototype.clear=function(){var ho=this;if(!this.explicitlyCleared){var hs=this.doc.cm,hl=hs&&!hs.curOp;if(hl&&c9(hs),f4(this,"clear")){var ht=this.find();ht&&ak(this,"clear",ht.from,ht.to)}for(var hm=null,hq=null,hn=0;hn<this.lines.length;++hn){var hu=ho.lines[hn],hr=fU(hu.markedSpans,ho);hs&&!ho.collapsed?V(hs,b5(hu),"text"):hs&&(null!=hr.to&&(hq=b5(hu)),null!=hr.from&&(hm=b5(hu))),hu.markedSpans=fn(hu.markedSpans,hr),null==hr.from&&ho.collapsed&&!gf(ho.doc,hu)&&hs&&g4(hu,a9(hs.display))}if(hs&&this.collapsed&&!hs.options.lineWrapping){for(var hk=0;hk<this.lines.length;++hk){var hj=z(ho.lines[hk]),hp=eX(hj);hp>hs.display.maxLineLength&&(hs.display.maxLine=hj,hs.display.maxLineLength=hp,hs.display.maxLineChanged=!0)}}null!=hm&&hs&&this.collapsed&&an(hs,hm,hq+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,hs&&fa(hs.doc)),hs&&ak(hs,"markerCleared",hs,this,hm,hq),hl&&au(hs),this.parent&&this.parent.clear()}},T.prototype.find=function(hm,hk){var hq=this;null==hm&&"bookmark"==this.type&&(hm=1);for(var hp,ho,hl=0;hl<this.lines.length;++hl){var hj=hq.lines[hl],hn=fU(hj.markedSpans,hq);if(null!=hn.from&&(hp=aa(hk?hj:b5(hj),hn.from),-1==hm)){return hp}if(null!=hn.to&&(ho=aa(hk?hj:b5(hj),hn.to),1==hm)){return ho}}return hp&&{from:hp,to:ho}},T.prototype.changed=function(){var hl=this,hk=this.find(-1,!0),hj=this,i=this.doc.cm;hk&&i&&dd(i,function(){var hn=hk.line,ho=b5(hk.line),hm=fW(i,ho);if(hm&&(aC(hm),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!gf(hj.doc,hn)&&null!=hj.height){var hq=hj.height;hj.height=null;var hp=dp(hj)-hq;hp&&g4(hn,hn.height+hp)}ak(i,"markerChanged",i,hl)})},T.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var hj=this.doc.cm.curOp;hj.maybeHiddenMarkers&&-1!=dN(hj.maybeHiddenMarkers,this)||(hj.maybeUnhiddenMarkers||(hj.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},T.prototype.detachLine=function(i){if(this.lines.splice(dN(this.lines,i),1),!this.lines.length&&this.doc.cm){var hj=this.doc.cm.curOp;(hj.maybeHiddenMarkers||(hj.maybeHiddenMarkers=[])).push(this)}},bQ(T);var y=function(hl,hk){var hm=this;this.markers=hl,this.primary=hk;for(var hj=0;hj<hl.length;++hj){hl[hj].parent=hm}};y.prototype.clear=function(){var hk=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var hj=0;hj<this.markers.length;++hj){hk.markers[hj].clear()}ak(this,"clear")}},y.prototype.find=function(hj,i){return this.primary.find(hj,i)},bQ(y);var cQ=0,aA=function(hm,hl,i,hk,hj){if(!(this instanceof aA)){return new aA(hm,hl,i,hk,hj)}null==i&&(i=0),gh.call(this,[new fJ([new g2("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var hn=aa(i,0);this.sel=fz(hn),this.history=new gM(null),this.id=++cQ,this.modeOption=hl,this.lineSep=hk,this.direction="rtl"==hj?"rtl":"ltr",this.extend=!1,"string"==typeof hm&&(hm=this.splitLines(hm)),gi(this,{from:hn,to:hn,text:hm}),cd(this,fz(hn),af)};aA.prototype=cI(gh.prototype,{constructor:aA,iter:function(hk,hj,i){i?this.iterN(hk-this.first,hj-hk,i):this.iterN(this.first,this.first+this.size,hk)},insert:function(hk,hl){for(var hj=0,hm=0;hm<hl.length;++hm){hj+=hl[hm].height}this.insertInner(hk-this.first,hl,hj)},remove:function(i,hj){this.removeInner(i-this.first,hj)},getValue:function(hj){var i=bc(this,this.first,this.first+this.size);return hj===!1?i:i.join(hj||this.lineSeparator())},setValue:c3(function(hj){var hk=aa(this.first,0),i=this.first+this.size-1;bq(this,{from:hk,to:aa(i,fZ(this,i).text.length),text:this.splitLines(hj),origin:"setValue",full:!0},!0),this.cm&&ft(this.cm,0,0),cd(this,fz(hk),af)}),replaceRange:function(hj,hl,hk,i){hl=gx(this,hl),hk=hk?gx(this,hk):hl,bb(this,hj,hl,hk,i)},getRange:function(hl,hk,hj){var i=g1(this,gx(this,hl),gx(this,hk));return hj===!1?i:i.join(hj||this.lineSeparator())},getLine:function(hj){var i=this.getLineHandle(hj);return i&&i.text},getLineHandle:function(i){return ct(this,i)?fZ(this,i):void 0},getLineNumber:function(i){return b5(i)},getLineHandleVisualStart:function(i){return"number"==typeof i&&(i=fZ(this,i)),z(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return gx(this,i)},getCursor:function(hk){var hj,i=this.sel.primary();return hj=null==hk||"head"==hk?i.head:"anchor"==hk?i.anchor:"end"==hk||"to"==hk||hk===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:c3(function(i,hk,hj){J(this,gx(this,"number"==typeof i?aa(i,hk||0):i),null,hj)}),setSelection:c3(function(hj,hk,i){J(this,gx(this,hj),gx(this,hk||hj),i)}),extendSelection:c3(function(hk,i,hj){gR(this,gx(this,hk),i&&gx(this,i),hj)}),extendSelections:c3(function(hj,i){aD(this,ex(this,hj),i)}),extendSelectionsBy:c3(function(hk,i){var hj=cc(this.sel.ranges,hk);aD(this,ex(this,hj),i)}),setSelections:c3(function(hj,hn,hl){var ho=this;if(hj.length){for(var hk=[],hm=0;hm<hj.length;hm++){hk[hm]=new et(gx(ho,hj[hm].anchor),gx(ho,hj[hm].head))}null==hn&&(hn=Math.min(hj.length-1,this.sel.primIndex)),cd(this,cV(hk,hn),hl)}}),addSelection:c3(function(hk,hl,hj){var i=this.sel.ranges.slice(0);i.push(new et(gx(this,hk),gx(this,hl||hk))),cd(this,cV(i,i.length-1),hj)}),getSelection:function(hn){for(var hk,ho=this,hj=this.sel.ranges,hl=0;hl<hj.length;hl++){var hm=g1(ho,hj[hl].from(),hj[hl].to());hk=hk?hk.concat(hm):hm}return hn===!1?hk:hk.join(hn||this.lineSeparator())},getSelections:function(hn){for(var ho=this,hm=[],hj=this.sel.ranges,hk=0;hk<hj.length;hk++){var hl=g1(ho,hj[hk].from(),hj[hk].to());hn!==!1&&(hl=hl.join(hn||ho.lineSeparator())),hm[hk]=hl}return hm},replaceSelection:function(hl,hn,hj){for(var hm=[],hk=0;hk<this.sel.ranges.length;hk++){hm[hk]=hl}this.replaceSelections(hm,hn,hj||"+input")},replaceSelections:c3(function(hk,hq,hs){for(var ho=this,hr=[],hm=this.sel,hn=0;hn<hm.ranges.length;hn++){var hp=hm.ranges[hn];hr[hn]={from:hp.from(),to:hp.to(),text:ho.splitLines(hk[hn]),origin:hs}}for(var hj=hq&&"end"!=hq&&al(this,hr,hq),hl=hr.length-1;hl>=0;hl--){bq(ho,hr[hl])}hj?fS(this,hj):this.cm&&gr(this.cm)}),undo:c3(function(){cs(this,"undo")}),redo:c3(function(){cs(this,"redo")}),undoSelection:c3(function(){cs(this,"undo",!0)}),redoSelection:c3(function(){cs(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var hm=this.history,hj=0,hl=0,hk=0;hk<hm.done.length;hk++){hm.done[hk].ranges||++hj}for(var hn=0;hn<hm.undone.length;hn++){hm.undone[hn].ranges||++hl}return{undo:hj,redo:hl}},clearHistory:function(){this.history=new gM(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:b7(this.history.done),undone:b7(this.history.undone)}},setHistory:function(hj){var i=this.history=new gM(this.history.maxGeneration);i.done=b7(hj.done.slice(0),null,!0),i.undone=b7(hj.undone.slice(0),null,!0)},setGutterMarker:c3(function(i,hj,hk){return fd(this,i,"gutter",function(hl){var hm=hl.gutterMarkers||(hl.gutterMarkers={});return hm[hj]=hk,!hk&&fD(hm)&&(hl.gutterMarkers=null),!0})}),clearGutter:c3(function(i){var hj=this;this.iter(function(hk){hk.gutterMarkers&&hk.gutterMarkers[i]&&fd(hj,hk,"gutter",function(){return hk.gutterMarkers[i]=null,fD(hk.gutterMarkers)&&(hk.gutterMarkers=null),!0})})}),lineInfo:function(i){var hj;if("number"==typeof i){if(!ct(this,i)){return null}if(hj=i,i=fZ(this,i),!i){return null}}else{if(hj=b5(i),null==hj){return null}}return{line:hj,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:c3(function(hk,hj,i){return fd(this,hk,"gutter"==hj?"gutter":"class",function(hl){var hm="text"==hj?"textClass":"background"==hj?"bgClass":"gutter"==hj?"gutterClass":"wrapClass";if(hl[hm]){if(W(i).test(hl[hm])){return !1}hl[hm]+=" "+i}else{hl[hm]=i}return !0})}),removeLineClass:c3(function(hk,hj,i){return fd(this,hk,"gutter"==hj?"gutter":"class",function(hm){var hp="text"==hj?"textClass":"background"==hj?"bgClass":"gutter"==hj?"gutterClass":"wrapClass",ho=hm[hp];if(!ho){return !1}if(null==i){hm[hp]=null}else{var hn=ho.match(W(i));if(!hn){return !1}var hl=hn.index+hn[0].length;hm[hp]=ho.slice(0,hn.index)+(hn.index&&hl!=ho.length?" ":"")+ho.slice(hl)||null}return !0})}),addLineWidget:c3(function(hk,hj,i){return bX(this,hk,hj,i)}),removeLineWidget:function(i){i.clear()},markText:function(hk,hj,i){return fk(this,gx(this,hk),gx(this,hj),i,i&&i.type||"range")},setBookmark:function(hk,i){var hj={replacedWith:i&&(null==i.nodeType?i.widget:i),insertLeft:i&&i.insertLeft,clearWhenEmpty:!1,shared:i&&i.shared,handleMouseEvents:i&&i.handleMouseEvents};return hk=gx(this,hk),fk(this,hk,hk,hj,"bookmark")},findMarksAt:function(hn){hn=gx(this,hn);var hm=[],hk=fZ(this,hn.line).markedSpans;if(hk){for(var hj=0;hj<hk.length;++hj){var hl=hk[hj];(null==hl.from||hl.from<=hn.ch)&&(null==hl.to||hl.to>=hn.ch)&&hm.push(hl.marker.parent||hl.marker)}}return hm},findMarks:function(hm,hl,i){hm=gx(this,hm),hl=gx(this,hl);var hj=[],hk=hm.line;return this.iter(hm.line,hl.line+1,function(hn){var hp=hn.markedSpans;if(hp){for(var ho=0;ho<hp.length;ho++){var hq=hp[ho];null!=hq.to&&hk==hm.line&&hm.ch>=hq.to||null==hq.from&&hk!=hm.line||null!=hq.from&&hk==hl.line&&hq.from>=hl.ch||i&&!i(hq.marker)||hj.push(hq.marker.parent||hq.marker)}}++hk}),hj},getAllMarks:function(){var i=[];return this.iter(function(hk){var hj=hk.markedSpans;if(hj){for(var hl=0;hl<hj.length;++hl){null!=hj[hl].from&&i.push(hj[hl].marker)}}}),i},posFromIndex:function(hk){var i,hl=this.first,hj=this.lineSeparator().length;return this.iter(function(hm){var hn=hm.text.length+hj;return hn>hk?(i=hk,!0):(hk-=hn,void ++hl)}),gx(this,aa(hl,i))},indexFromPos:function(hk){hk=gx(this,hk);var i=hk.ch;if(hk.line<this.first||hk.ch<0){return 0}var hj=this.lineSeparator().length;return this.iter(this.first,hk.line,function(hl){i+=hl.text.length+hj}),i},copy:function(i){var hj=new aA(bc(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return hj.scrollTop=this.scrollTop,hj.scrollLeft=this.scrollLeft,hj.sel=this.sel,hj.extend=!1,i&&(hj.history.undoDepth=this.history.undoDepth,hj.setHistory(this.getHistory())),hj},linkedDoc:function(i){i||(i={});var hl=this.first,hk=this.first+this.size;null!=i.from&&i.from>hl&&(hl=i.from),null!=i.to&&i.to<hk&&(hk=i.to);var hj=new aA(bc(this,hl,hk),i.mode||this.modeOption,hl,this.lineSep,this.direction);return i.sharedHist&&(hj.history=this.history),(this.linked||(this.linked=[])).push({doc:hj,sharedHist:i.sharedHist}),hj.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],d8(hj,fw(this)),hj},unlinkDoc:function(hk){var hn=this;if(hk instanceof K&&(hk=hk.doc),this.linked){for(var hl=0;hl<this.linked.length;++hl){var hm=hn.linked[hl];if(hm.doc==hk){hn.linked.splice(hl,1),hk.unlinkDoc(hn),eZ(fw(hn));break}}}if(hk.history==this.history){var hj=[hk.id];eF(hk,function(i){return hj.push(i.id)},!0),hk.history=new gM(null),hk.history.done=b7(this.history.done,hj),hk.history.undone=b7(this.history.undone,hj)}},iterLinkedDocs:function(i){eF(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):gI(i)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:c3(function(i){"rtl"!=i&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(hj){return hj.order=null}),this.cm&&ey(this.cm))})}),aA.prototype.eachLine=aA.prototype.iter;for(var am=0,c2=!1,f0={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},gg=0;10>gg;gg++){f0[gg+48]=f0[gg+96]=String(gg)}for(var gK=65;90>=gK;gK++){f0[gK]=String.fromCharCode(gK)}for(var gJ=1;12>=gJ;gJ++){f0[gJ+111]=f0[gJ+63235]="F"+gJ}var fV={};fV.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fV.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fV.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},fV.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fV["default"]=co?fV.macDefault:fV.pcDefault;var fh={selectAll:at,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),af)},killLine:function(i){return fH(i,function(hk){if(hk.empty()){var hj=fZ(i.doc,hk.head.line).text.length;return hk.head.ch==hj&&hk.head.line<i.lastLine()?{from:hk.head,to:aa(hk.head.line+1,0)}:{from:hk.head,to:aa(hk.head.line,hj)}}return{from:hk.from(),to:hk.to()}})},deleteLine:function(i){return fH(i,function(hj){return{from:aa(hj.from().line,0),to:gx(i.doc,aa(hj.to().line+1,0))}})},delLineLeft:function(i){return fH(i,function(hj){return{from:aa(hj.from().line,0),to:hj.from()}})},delWrappedLineLeft:function(i){return fH(i,function(hj){var hl=i.charCoords(hj.head,"div").top+5,hk=i.coordsChar({left:0,top:hl},"div");return{from:hk,to:hj.from()}})},delWrappedLineRight:function(i){return fH(i,function(hj){var hl=i.charCoords(hj.head,"div").top+5,hk=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:hl},"div");return{from:hj.from(),to:hk}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(aa(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(aa(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(hj){return bJ(i,hj.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(hj){return ec(i,hj.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(hj){return ek(i,hj.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(hj){var hk=i.cursorCoords(hj.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:hk},"div")},dm)},goLineLeft:function(i){return i.extendSelectionsBy(function(hj){var hk=i.cursorCoords(hj.head,"div").top+5;return i.coordsChar({left:0,top:hk},"div")},dm)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(hj){var hk=i.cursorCoords(hj.head,"div").top+5,hl=i.coordsChar({left:0,top:hk},"div");return hl.ch<i.getLine(hl.line).search(/\S/)?ec(i,hj.head):hl},dm)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"char")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("	")},insertSoftTab:function(hj){for(var hl=[],hk=hj.listSelections(),ho=hj.options.tabSize,hn=0;hn<hk.length;hn++){var hp=hk[hn].from(),hm=ca(hj.getLine(hp.line),hp.ch,ho);hl.push(cO(ho-hm%ho))}hj.replaceSelections(hl)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return dd(i,function(){for(var hl=i.listSelections(),hk=[],hm=0;hm<hl.length;hm++){if(hl[hm].empty()){var ho=hl[hm].head,hj=fZ(i.doc,ho.line).text;if(hj){if(ho.ch==hj.length&&(ho=new aa(ho.line,ho.ch-1)),ho.ch>0){ho=new aa(ho.line,ho.ch+1),i.replaceRange(hj.charAt(ho.ch-1)+hj.charAt(ho.ch-2),aa(ho.line,ho.ch-2),ho,"+transpose")}else{if(ho.line>i.doc.first){var hn=fZ(i.doc,ho.line-1).text;hn&&(ho=new aa(ho.line,1),i.replaceRange(hj.charAt(0)+i.doc.lineSeparator()+hn.charAt(hn.length-1),aa(ho.line-1,hn.length-1),ho,"+transpose"))}}}hk.push(new et(ho,ho))}}i.setSelections(hk)})},newlineAndIndent:function(i){return dd(i,function(){for(var hj=i.listSelections(),hk=hj.length-1;hk>=0;hk--){i.replaceRange(i.doc.lineSeparator(),hj[hk].anchor,hj[hk].head,"+input")}hj=i.listSelections();for(var hl=0;hl<hj.length;hl++){i.indentLine(hj[hl].from().line,null,!0)}gr(i)})},openLine:function(i){return i.replaceSelection("\n","start")},toggleOverwrite:function(i){return i.toggleOverwrite()}},eg=new hi,dT=null,dx=400,dR=function(hj,hk,i){this.time=hj,this.pos=hk,this.button=i};dR.prototype.compare=function(hj,hk,i){return this.time+dx>hj&&0==cB(hk,this.pos)&&i==this.button};var dS,dI,cx={toString:function(){return"CodeMirror.Init"}},fM={},bp={};K.defaults=fM,K.optionHandlers=bp;var bi=[];K.defineInitHook=function(i){return bi.push(i)};var bw=null,dZ=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new hi,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};dZ.prototype.init=function(hl){function hj(hs){if(!a2(i,hs)){if(i.somethingSelected()){dy({lineWise:!1,text:i.getSelections()}),"cut"==hs.type&&i.replaceSelection("",null,"cut")}else{if(!i.options.lineWiseCopyCut){return}var hp=dM(i);dy({lineWise:!0,text:hp.text}),"cut"==hs.type&&i.operation(function(){i.setSelections(hp.ranges,0,af),i.replaceSelection("",null,"cut")})}if(hs.clipboardData){hs.clipboardData.clearData();var hr=bw.text.join("\n");if(hs.clipboardData.setData("Text",hr),hs.clipboardData.getData("Text")==hr){return void hs.preventDefault()}}var hq=a8(),ht=hq.firstChild;i.display.lineSpace.insertBefore(hq,i.display.lineSpace.firstChild),ht.value=bw.text.join("\n");var ho=document.activeElement;ef(ht),setTimeout(function(){i.display.lineSpace.removeChild(hq),ho.focus(),ho==hm&&hk.showPrimarySelection()},50)}}var hn=this,hk=this,i=hk.cm,hm=hk.div=hl.lineDiv;gE(hm,i.options.spellcheck),cg(hm,"paste",function(ho){a2(i,ho)||bk(ho,i)||11>=m&&setTimeout(dt(i,function(){return hn.updateFromDOM()}),20)}),cg(hm,"compositionstart",function(ho){hn.composing={data:ho.data,done:!1}}),cg(hm,"compositionupdate",function(ho){hn.composing||(hn.composing={data:ho.data,done:!1})}),cg(hm,"compositionend",function(ho){hn.composing&&(ho.data!=hn.composing.data&&hn.readFromDOMSoon(),hn.composing.done=!0)}),cg(hm,"touchstart",function(){return hk.forceCompositionEnd()}),cg(hm,"input",function(){hn.composing||hn.readFromDOMSoon()}),cg(hm,"copy",hj),cg(hm,"cut",hj)},dZ.prototype.prepareSelection=function(){var i=gv(this.cm,!1);return i.focus=this.cm.state.focused,i},dZ.prototype.showSelection=function(hj,i){hj&&this.cm.display.view.length&&((hj.focus||i)&&this.showPrimarySelection(),this.showMultipleSelections(hj))},dZ.prototype.showPrimarySelection=function(){var hm=window.getSelection(),hw=this.cm,hp=hw.doc.sel.primary(),hu=hp.from(),hv=hp.to();if(hw.display.viewTo==hw.display.viewFrom||hu.line>=hw.display.viewTo||hv.line<hw.display.viewFrom){return void hm.removeAllRanges()}var hn=aG(hw,hm.anchorNode,hm.anchorOffset),hr=aG(hw,hm.focusNode,hm.focusOffset);if(!hn||hn.bad||!hr||hr.bad||0!=cB(az(hn,hr),hu)||0!=cB(bO(hn,hr),hv)){var ht=hw.display.view,hl=hu.line>=hw.display.viewFrom&&cY(hw,hu)||{node:ht[0].measure.map[2],offset:0},hq=hv.line<hw.display.viewTo&&cY(hw,hv);if(!hq){var hk=ht[ht.length-1].measure,hj=hk.maps?hk.maps[hk.maps.length-1]:hk.map;hq={node:hj[hj.length-1],offset:hj[hj.length-2]-hj[hj.length-3]}}if(!hl||!hq){return void hm.removeAllRanges()}var i,ho=hm.rangeCount&&hm.getRangeAt(0);try{i=cJ(hl.node,hl.offset,hq.offset,hq.node)}catch(hs){}i&&(!cN&&hw.state.focused?(hm.collapse(hl.node,hl.offset),i.collapsed||(hm.removeAllRanges(),hm.addRange(i))):(hm.removeAllRanges(),hm.addRange(i)),ho&&null==hm.anchorNode?hm.addRange(ho):cN&&this.startGracePeriod()),this.rememberSelection()}},dZ.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},dZ.prototype.showMultipleSelections=function(i){cb(this.cm.display.cursorDiv,i.cursors),cb(this.cm.display.selectionDiv,i.selection)},dZ.prototype.rememberSelection=function(){var i=window.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},dZ.prototype.selectionInEditor=function(){var hj=window.getSelection();if(!hj.rangeCount){return !1}var i=hj.getRangeAt(0).commonAncestorContainer;return g9(this.div,i)},dZ.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},dZ.prototype.blur=function(){this.div.blur()},dZ.prototype.getField=function(){return this.div},dZ.prototype.supportsTouch=function(){return !0},dZ.prototype.receivedFocus=function(){function hj(){i.cm.state.focused&&(i.pollSelection(),i.polling.set(i.cm.options.pollInterval,hj))}var i=this;this.selectionInEditor()?this.pollSelection():dd(this.cm,function(){return i.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,hj)},dZ.prototype.selectionChanged=function(){var i=window.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},dZ.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var hl=window.getSelection(),i=this.cm;if(aW&&dH&&this.cm.options.gutters.length&&g0(hl.anchorNode)){return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus()}if(!this.composing){this.rememberSelection();var hj=aG(i,hl.anchorNode,hl.anchorOffset),hk=aG(i,hl.focusNode,hl.focusOffset);hj&&hk&&dd(i,function(){cd(i.doc,fz(hj,hk),af),(hj.bad||hk.bad)&&(i.curOp.selectionChanged=!0)})}}},dZ.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var hs=this.cm,hC=hs.display,hA=hs.doc.sel.primary(),hB=hA.from(),hm=hA.to();if(0==hB.ch&&hB.line>hs.firstLine()&&(hB=aa(hB.line-1,fZ(hs.doc,hB.line-1).length)),hm.ch==fZ(hs.doc,hm.line).text.length&&hm.line<hs.lastLine()&&(hm=aa(hm.line+1,0)),hB.line<hC.viewFrom||hm.line>hC.viewTo-1){return !1}var hp,hn,hr;hB.line==hC.viewFrom||0==(hp=dX(hs,hB.line))?(hn=b5(hC.view[0].line),hr=hC.view[0].node):(hn=b5(hC.view[hp].line),hr=hC.view[hp-1].node.nextSibling);var hu,hx,hz=dX(hs,hm.line);if(hz==hC.view.length-1?(hu=hC.viewTo-1,hx=hC.lineDiv.lastChild):(hu=b5(hC.view[hz+1].line)-1,hx=hC.view[hz+1].node.previousSibling),!hr){return !1}for(var hD=hs.doc.splitLines(gV(hs,hr,hx,hn,hu)),hw=g1(hs.doc,aa(hn,0),aa(hu,fZ(hs.doc,hu).text.length));hD.length>1&&hw.length>1;){if(gs(hD)==gs(hw)){hD.pop(),hw.pop(),hu--}else{if(hD[0]!=hw[0]){break}hD.shift(),hw.shift(),hn++}}for(var hy=0,hk=0,ht=hD[0],hj=hw[0],i=Math.min(ht.length,hj.length);i>hy&&ht.charCodeAt(hy)==hj.charCodeAt(hy);){++hy}for(var hq=gs(hD),hE=gs(hw),hl=Math.min(hq.length-(1==hD.length?hy:0),hE.length-(1==hw.length?hy:0));hl>hk&&hq.charCodeAt(hq.length-hk-1)==hE.charCodeAt(hE.length-hk-1);){++hk}if(1==hD.length&&1==hw.length&&hn==hB.line){for(;hy&&hy>hB.ch&&hq.charCodeAt(hq.length-hk-1)==hE.charCodeAt(hE.length-hk-1);){hy--,hk++}}hD[hD.length-1]=hq.slice(0,hq.length-hk).replace(/^\u200b+/,""),hD[0]=hD[0].slice(hy).replace(/\u200b+$/,"");var ho=aa(hn,hy),hv=aa(hu,hw.length?gs(hw).length-hk:0);return hD.length>1||hD[0]||cB(ho,hv)?(bb(hs.doc,hD,ho,hv,"+input"),!0):void 0},dZ.prototype.ensurePolled=function(){this.forceCompositionEnd()},dZ.prototype.reset=function(){this.forceCompositionEnd()},dZ.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},dZ.prototype.readFromDOMSoon=function(){var i=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing){if(!i.composing.done){return}i.composing=null}i.updateFromDOM()},80))},dZ.prototype.updateFromDOM=function(){var i=this;(this.cm.isReadOnly()||!this.pollContent())&&dd(this.cm,function(){return an(i.cm)})},dZ.prototype.setUneditable=function(i){i.contentEditable="false"},dZ.prototype.onKeyPress=function(i){0!=i.charCode&&(i.preventDefault(),this.cm.isReadOnly()||dt(this.cm,gS)(this.cm,String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),0))},dZ.prototype.readOnlyChanged=function(i){this.div.contentEditable=String("nocursor"!=i)},dZ.prototype.onContextMenu=function(){},dZ.prototype.resetPosition=function(){},dZ.prototype.needsContentAttribute=!0;var ac=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new hi,this.hasSelection=!1,this.composing=null};ac.prototype.init=function(hk){function ho(hq){if(!a2(i,hq)){if(i.somethingSelected()){dy({lineWise:!1,text:i.getSelections()})}else{if(!i.options.lineWiseCopyCut){return}var hp=dM(i);dy({lineWise:!0,text:hp.text}),"cut"==hq.type?i.setSelections(hp.ranges,null,af):(hj.prevInput="",hl.value=hp.text.join("\n"),ef(hl))}"cut"==hq.type&&(i.state.cutIncoming=!0)}}var hn=this,hj=this,i=this.cm,hm=this.wrapper=a8(),hl=this.textarea=hm.firstChild;hk.wrapper.insertBefore(hm,hk.wrapper.firstChild),fL&&(hl.style.width="0px"),cg(hl,"input",function(){ed&&m>=9&&hn.hasSelection&&(hn.hasSelection=null),hj.poll()}),cg(hl,"paste",function(hp){a2(i,hp)||bk(hp,i)||(i.state.pasteIncoming=!0,hj.fastPoll())}),cg(hl,"cut",ho),cg(hl,"copy",ho),cg(hk.scroller,"paste",function(hp){bl(hk,hp)||a2(i,hp)||(i.state.pasteIncoming=!0,hj.focus())}),cg(hk.lineSpace,"selectstart",function(hp){bl(hk,hp)||c5(hp)}),cg(hl,"compositionstart",function(){var hp=i.getCursor("from");hj.composing&&hj.composing.range.clear(),hj.composing={start:hp,range:i.markText(hp,i.getCursor("to"),{className:"CodeMirror-composing"})}}),cg(hl,"compositionend",function(){hj.composing&&(hj.poll(),hj.composing.range.clear(),hj.composing=null)})},ac.prototype.prepareSelection=function(){var hj=this.cm,hn=hj.display,hm=hj.doc,i=gv(hj);if(hj.options.moveInputWithCursor){var ho=eq(hj,hm.sel.primary().head,"div"),hk=hn.wrapper.getBoundingClientRect(),hl=hn.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(hn.wrapper.clientHeight-10,ho.top+hl.top-hk.top)),i.teLeft=Math.max(0,Math.min(hn.wrapper.clientWidth-10,ho.left+hl.left-hk.left))}return i},ac.prototype.showSelection=function(hk){var i=this.cm,hj=i.display;cb(hj.cursorDiv,hk.cursors),cb(hj.selectionDiv,hk.selection),null!=hk.teTop&&(this.wrapper.style.top=hk.teTop+"px",this.wrapper.style.left=hk.teLeft+"px")},ac.prototype.reset=function(hj){if(!this.contextMenuPending&&!this.composing){var i=this.cm;if(i.somethingSelected()){this.prevInput="";var hk=i.getSelection();this.textarea.value=hk,i.state.focused&&ef(this.textarea),ed&&m>=9&&(this.hasSelection=hk)}else{hj||(this.prevInput=this.textarea.value="",ed&&m>=9&&(this.hasSelection=null))}}},ac.prototype.getField=function(){return this.textarea},ac.prototype.supportsTouch=function(){return !1},ac.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!eP||ei()!=this.textarea)){try{this.textarea.focus()}catch(i){}}},ac.prototype.blur=function(){this.textarea.blur()},ac.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ac.prototype.receivedFocus=function(){this.slowPoll()},ac.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},ac.prototype.fastPoll=function(){function hk(){var hl=i.poll();hl||hj?(i.pollingFast=!1,i.slowPoll()):(hj=!0,i.polling.set(60,hk))}var hj=!1,i=this;i.pollingFast=!0,i.polling.set(20,hk)},ac.prototype.poll=function(){var hp=this,i=this.cm,hk=this.textarea,hl=this.prevInput;if(this.contextMenuPending||!i.state.focused||bI(hk)&&!hl&&!this.composing||i.isReadOnly()||i.options.disableInput||i.state.keySeq){return !1}var hn=hk.value;if(hn==hl&&!i.somethingSelected()){return !1}if(ed&&m>=9&&this.hasSelection===hn||co&&/[\uf700-\uf7ff]/.test(hn)){return i.display.input.reset(),!1}if(i.doc.sel==i.display.selForContextMenu){var hm=hn.charCodeAt(0);if(8203!=hm||hl||(hl=""),8666==hm){return this.reset(),this.cm.execCommand("undo")}}for(var ho=0,hj=Math.min(hl.length,hn.length);hj>ho&&hl.charCodeAt(ho)==hn.charCodeAt(ho);){++ho}return dd(i,function(){gS(i,hn.slice(ho),hl.length-ho,null,hp.composing?"*compose":null),hn.length>1000||hn.indexOf("\n")>-1?hk.value=hp.prevInput="":hp.prevInput=hn,hp.composing&&(hp.composing.range.clear(),hp.composing.range=i.markText(hp.composing.start,i.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ac.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ac.prototype.onKeyPress=function(){ed&&m>=9&&(this.hasSelection=null),this.fastPoll()},ac.prototype.onContextMenu=function(hn){function hm(){if(null!=hj.selectionStart){var hx=ht.somethingSelected(),hy=""+(hx?hj.value:"");hj.value="⇚",hj.value=hy,hs.prevInput=hx?"":"",hj.selectionStart=1,hj.selectionEnd=hy.length,hp.selForContextMenu=ht.doc.sel}}function hq(){if(hs.contextMenuPending=!1,hs.wrapper.style.cssText=hw,hj.style.cssText=ho,ed&&9>m&&hp.scrollbars.setScrollTop(hp.scroller.scrollTop=i),null!=hj.selectionStart){(!ed||ed&&9>m)&&hm();var hx=0,hy=function(){hp.selForContextMenu==ht.doc.sel&&0==hj.selectionStart&&hj.selectionEnd>0&&""==hs.prevInput?dt(ht,at)(ht):hx++<10?hp.detectingSelectAll=setTimeout(hy,500):(hp.selForContextMenu=null,hp.input.reset())};hp.detectingSelectAll=setTimeout(hy,200)}}var hs=this,ht=hs.cm,hp=ht.display,hj=hs.textarea,hr=cM(ht,hn),i=hp.scroller.scrollTop;if(hr&&!eA){var hl=ht.options.resetSelectionOnContextMenu;hl&&-1==ht.doc.sel.contains(hr)&&dt(ht,cd)(ht.doc,fz(hr),af);var ho=hj.style.cssText,hw=hs.wrapper.style.cssText;hs.wrapper.style.cssText="position: absolute";var hv=hs.wrapper.getBoundingClientRect();hj.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(hn.clientY-hv.top-5)+"px; left: "+(hn.clientX-hv.left-5)+"px;\n      z-index: 1000; background: "+(ed?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var hu;if(dr&&(hu=window.scrollY),hp.input.focus(),dr&&window.scrollTo(null,hu),hp.input.reset(),ht.somethingSelected()||(hj.value=hs.prevInput=" "),hs.contextMenuPending=!0,hp.selForContextMenu=ht.doc.sel,clearTimeout(hp.detectingSelectAll),ed&&m>=9&&hm(),g8){e2(hn);var hk=function(){eN(window,"mouseup",hk),setTimeout(hq,20)};cg(window,"mouseup",hk)}else{setTimeout(hq,50)}}},ac.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled="nocursor"==i},ac.prototype.setUneditable=function(){},ac.prototype.needsContentAttribute=!1,fm(K),ej(K);var d="iter insert remove copy getEditor constructor".split(" ");for(var b2 in aA.prototype){aA.prototype.hasOwnProperty(b2)&&dN(d,b2)<0&&(K.prototype[b2]=function(i){return function(){return i.apply(this.doc,arguments)}}(aA.prototype[b2]))}return bQ(aA),K.inputStyles={textarea:ac,contenteditable:dZ},K.defineMode=function(i){K.defaults.mode||"null"==i||(K.defaults.mode=i),e5.apply(this,arguments)},K.defineMIME=bB,K.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),K.defineMIME("text/plain","null"),K.defineExtension=function(i,hj){K.prototype[i]=hj},K.defineDocExtension=function(i,hj){aA.prototype[i]=hj},K.fromTextArea=gt,gy(K),K.version="5.35.0",K}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){var b={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},c={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};a.defineMode("xml",function(m,y){function p(G,F){function D(H){return F.tokenize=H,H(G,F)}var E=G.next();if("<"==E){return G.eat("!")?G.eat("[")?G.match("CDATA[")?D(x("atom","]]>")):null:G.match("--")?D(x("comment","-->")):G.match("DOCTYPE",!0,!0)?(G.eatWhile(/[\w\._\-]/),D(A(1))):null:G.eat("?")?(G.eatWhile(/[\w\._\-]/),F.tokenize=x("meta","?>"),"meta"):(g=G.eat("/")?"closeTag":"openTag",F.tokenize=o,"tag bracket")}if("&"==E){var C;return C=G.eat("#")?G.eat("x")?G.eatWhile(/[a-fA-F\d]/)&&G.eat(";"):G.eatWhile(/[\d]/)&&G.eat(";"):G.eatWhile(/[\w\.\-:]/)&&G.eat(";"),C?"atom":"error"}return G.eatWhile(/[^&<]/),null}function o(F,E){var D=F.next();if(">"==D||"/"==D&&F.eat(">")){return E.tokenize=p,g=">"==D?"endTag":"selfcloseTag","tag bracket"}if("="==D){return g="equals",null}if("<"==D){E.tokenize=p,E.state=n,E.tagName=E.tagStart=null;var C=E.tokenize(F,E);return C?C+" tag error":"tag error"}return/[\'\"]/.test(D)?(E.tokenize=k(D),E.stringStartCol=F.column(),E.tokenize(F,E)):(F.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function k(C){var D=function(F,E){for(;!F.eol();){if(F.next()==C){E.tokenize=o;break}}return"string"};return D.isInAttribute=!0,D}function x(D,C){return function(F,E){for(;!F.eol();){if(F.match(C)){E.tokenize=p;break}F.next()}return D}}function A(C){return function(F,E){for(var D;null!=(D=F.next());){if("<"==D){return E.tokenize=A(C+1),E.tokenize(F,E)}if(">"==D){if(1==C){E.tokenize=p;break}return E.tokenize=A(C-1),E.tokenize(F,E)}}return"meta"}}function t(D,C,E){this.prev=D.context,this.tagName=C,this.indent=D.indented,this.startOfLine=E,(z.doNotIndent.hasOwnProperty(C)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function w(C){C.context&&(C.context=C.context.prev)}function s(E,D){for(var C;;){if(!E.context){return}if(C=E.context.tagName,!z.contextGrabbers.hasOwnProperty(C)||!z.contextGrabbers[C].hasOwnProperty(D)){return}w(E)}}function n(C,E,D){return"openTag"==C?(D.tagStart=E.column(),d):"closeTag"==C?v:n}function d(C,E,D){return"word"==C?(D.tagName=E.current(),h="tag",e):z.allowMissingTagName&&"endTag"==C?(h="tag bracket",e(C,E,D)):(h="error",d)}function v(D,F,E){if("word"==D){var C=F.current();return E.context&&E.context.tagName!=C&&z.implicitlyClosed.hasOwnProperty(E.context.tagName)&&w(E),E.context&&E.context.tagName==C||z.matchClosing===!1?(h="tag",u):(h="tag error",B)}return z.allowMissingTagName&&"endTag"==D?(h="tag bracket",u(D,F,E)):(h="error",B)}function u(D,C,E){return"endTag"!=D?(h="error",u):(w(E),n)}function B(C,E,D){return h="error",u(C,E,D)}function e(F,D,G){if("word"==F){return h="attribute",j}if("endTag"==F||"selfcloseTag"==F){var E=G.tagName,C=G.tagStart;return G.tagName=G.tagStart=null,"selfcloseTag"==F||z.autoSelfClosers.hasOwnProperty(E)?s(G,E):(s(G,E),G.context=new t(G,E,C==G.indented)),n}return h="error",e}function j(C,E,D){return"equals"==C?q:(z.allowMissing||(h="error"),e(C,E,D))}function q(C,E,D){return"string"==C?i:"word"==C&&z.allowUnquoted?(h="string",e):(h="error",e(C,E,D))}function i(C,E,D){return"string"==C?i:e(C,E,D)}var r=m.indentUnit,z={},l=y.htmlMode?b:c;for(var f in l){z[f]=l[f]}for(var f in y){z[f]=y[f]}var g,h;return p.isInText=!0,{startState:function(C){var D={tokenize:p,state:n,indented:C||0,tagName:null,tagStart:null,context:null};return null!=C&&(D.baseIndent=C),D},token:function(E,D){if(!D.tagName&&E.sol()&&(D.indented=E.indentation()),E.eatSpace()){return null}g=null;var C=D.tokenize(E,D);return(C||g)&&"comment"!=C&&(h=null,D.state=D.state(g||C,E,D),h&&(C="error"==h?C+" error":h)),C},indent:function(H,D,G){var F=H.context;if(H.tokenize.isInAttribute){return H.tagStart==H.indented?H.stringStartCol+1:H.indented+r}if(F&&F.noIndent){return a.Pass}if(H.tokenize!=o&&H.tokenize!=p){return G?G.match(/^(\s*)/)[0].length:0}if(H.tagName){return z.multilineTagIndentPastTag!==!1?H.tagStart+H.tagName.length+2:H.tagStart+r*(z.multilineTagIndentFactor||1)}if(z.alignCDATA&&/<!\[CDATA\[/.test(D)){return 0}var C=D&&/^<(\/)?([\w_:\.-]*)/.exec(D);if(C&&C[1]){for(;F;){if(F.tagName==C[2]){F=F.prev;break}if(!z.implicitlyClosed.hasOwnProperty(F.tagName)){break}F=F.prev}}else{if(C){for(;F;){var E=z.contextGrabbers[F.tagName];if(!E||!E.hasOwnProperty(C[2])){break}F=F.prev}}}for(;F&&F.prev&&!F.startOfLine;){F=F.prev}return F?F.indent+r:H.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:z.htmlMode?"html":"xml",helperType:z.htmlMode?"html":"xml",skipAttribute:function(C){C.state==q&&(C.state=e)}}}),a.defineMIME("text/xml","xml"),a.defineMIME("application/xml","xml"),a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){var b={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},c={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};a.defineMode("xml",function(m,y){function p(G,F){function D(H){return F.tokenize=H,H(G,F)}var E=G.next();if("<"==E){return G.eat("!")?G.eat("[")?G.match("CDATA[")?D(x("atom","]]>")):null:G.match("--")?D(x("comment","-->")):G.match("DOCTYPE",!0,!0)?(G.eatWhile(/[\w\._\-]/),D(A(1))):null:G.eat("?")?(G.eatWhile(/[\w\._\-]/),F.tokenize=x("meta","?>"),"meta"):(g=G.eat("/")?"closeTag":"openTag",F.tokenize=o,"tag bracket")}if("&"==E){var C;return C=G.eat("#")?G.eat("x")?G.eatWhile(/[a-fA-F\d]/)&&G.eat(";"):G.eatWhile(/[\d]/)&&G.eat(";"):G.eatWhile(/[\w\.\-:]/)&&G.eat(";"),C?"atom":"error"}return G.eatWhile(/[^&<]/),null}function o(F,E){var D=F.next();if(">"==D||"/"==D&&F.eat(">")){return E.tokenize=p,g=">"==D?"endTag":"selfcloseTag","tag bracket"}if("="==D){return g="equals",null}if("<"==D){E.tokenize=p,E.state=n,E.tagName=E.tagStart=null;var C=E.tokenize(F,E);return C?C+" tag error":"tag error"}return/[\'\"]/.test(D)?(E.tokenize=k(D),E.stringStartCol=F.column(),E.tokenize(F,E)):(F.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function k(C){var D=function(F,E){for(;!F.eol();){if(F.next()==C){E.tokenize=o;break}}return"string"};return D.isInAttribute=!0,D}function x(D,C){return function(F,E){for(;!F.eol();){if(F.match(C)){E.tokenize=p;break}F.next()}return D}}function A(C){return function(F,E){for(var D;null!=(D=F.next());){if("<"==D){return E.tokenize=A(C+1),E.tokenize(F,E)}if(">"==D){if(1==C){E.tokenize=p;break}return E.tokenize=A(C-1),E.tokenize(F,E)}}return"meta"}}function t(D,C,E){this.prev=D.context,this.tagName=C,this.indent=D.indented,this.startOfLine=E,(z.doNotIndent.hasOwnProperty(C)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function w(C){C.context&&(C.context=C.context.prev)}function s(E,D){for(var C;;){if(!E.context){return}if(C=E.context.tagName,!z.contextGrabbers.hasOwnProperty(C)||!z.contextGrabbers[C].hasOwnProperty(D)){return}w(E)}}function n(C,E,D){return"openTag"==C?(D.tagStart=E.column(),d):"closeTag"==C?v:n}function d(C,E,D){return"word"==C?(D.tagName=E.current(),h="tag",e):z.allowMissingTagName&&"endTag"==C?(h="tag bracket",e(C,E,D)):(h="error",d)}function v(D,F,E){if("word"==D){var C=F.current();return E.context&&E.context.tagName!=C&&z.implicitlyClosed.hasOwnProperty(E.context.tagName)&&w(E),E.context&&E.context.tagName==C||z.matchClosing===!1?(h="tag",u):(h="tag error",B)}return z.allowMissingTagName&&"endTag"==D?(h="tag bracket",u(D,F,E)):(h="error",B)}function u(D,C,E){return"endTag"!=D?(h="error",u):(w(E),n)}function B(C,E,D){return h="error",u(C,E,D)}function e(F,D,G){if("word"==F){return h="attribute",j}if("endTag"==F||"selfcloseTag"==F){var E=G.tagName,C=G.tagStart;return G.tagName=G.tagStart=null,"selfcloseTag"==F||z.autoSelfClosers.hasOwnProperty(E)?s(G,E):(s(G,E),G.context=new t(G,E,C==G.indented)),n}return h="error",e}function j(C,E,D){return"equals"==C?q:(z.allowMissing||(h="error"),e(C,E,D))}function q(C,E,D){return"string"==C?i:"word"==C&&z.allowUnquoted?(h="string",e):(h="error",e(C,E,D))}function i(C,E,D){return"string"==C?i:e(C,E,D)}var r=m.indentUnit,z={},l=y.htmlMode?b:c;for(var f in l){z[f]=l[f]}for(var f in y){z[f]=y[f]}var g,h;return p.isInText=!0,{startState:function(C){var D={tokenize:p,state:n,indented:C||0,tagName:null,tagStart:null,context:null};return null!=C&&(D.baseIndent=C),D},token:function(E,D){if(!D.tagName&&E.sol()&&(D.indented=E.indentation()),E.eatSpace()){return null}g=null;var C=D.tokenize(E,D);return(C||g)&&"comment"!=C&&(h=null,D.state=D.state(g||C,E,D),h&&(C="error"==h?C+" error":h)),C},indent:function(H,D,G){var F=H.context;if(H.tokenize.isInAttribute){return H.tagStart==H.indented?H.stringStartCol+1:H.indented+r}if(F&&F.noIndent){return a.Pass}if(H.tokenize!=o&&H.tokenize!=p){return G?G.match(/^(\s*)/)[0].length:0}if(H.tagName){return z.multilineTagIndentPastTag!==!1?H.tagStart+H.tagName.length+2:H.tagStart+r*(z.multilineTagIndentFactor||1)}if(z.alignCDATA&&/<!\[CDATA\[/.test(D)){return 0}var C=D&&/^<(\/)?([\w_:\.-]*)/.exec(D);if(C&&C[1]){for(;F;){if(F.tagName==C[2]){F=F.prev;break}if(!z.implicitlyClosed.hasOwnProperty(F.tagName)){break}F=F.prev}}else{if(C){for(;F;){var E=z.contextGrabbers[F.tagName];if(!E||!E.hasOwnProperty(C[2])){break}F=F.prev}}}for(;F&&F.prev&&!F.startOfLine;){F=F.prev}return F?F.indent+r:H.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:z.htmlMode?"html":"xml",helperType:z.htmlMode?"html":"xml",skipAttribute:function(C){C.state==q&&(C.state=e)}}}),a.defineMIME("text/xml","xml"),a.defineMIME("application/xml","xml"),a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],a):a(CodeMirror)}(function(e){function f(n,j,k){var m=n.current(),l=m.search(j);return l>-1?n.backUp(m.length-l):m.match(/<\/?$/)&&(n.backUp(m.length),n.match(j,!1)||n.match(m)),k}function c(j){var k=d[j];return k?k:d[j]=new RegExp("\\s+"+j+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function a(l,j){var k=l.match(c(j));return k?/^\s*(.*?)\s*$/.exec(k[2])[1]:""}function i(k,j){return new RegExp((j?"^":"")+"</s*"+k+"s*>","i")}function h(o,n){for(var j in o){for(var k=n[j]||(n[j]=[]),m=o[j],l=m.length-1;l>=0;l--){k.unshift(m[l])}}}function b(l,m){for(var k=0;k<l.length;k++){var j=l[k];if(!j[0]||j[1].test(a(m,j[0]))){return j[2]}}}var g={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},d={};e.defineMode("htmlmixed",function(k,o){function m(z,r){var u,s=q.token(z,r.htmlState),A=/\btag\b/.test(s);if(A&&!/[<>\s\/]/.test(z.current())&&(u=r.htmlState.tagName&&r.htmlState.tagName.toLowerCase())&&j.hasOwnProperty(u)){r.inTag=u+" "}else{if(r.inTag&&A&&/>$/.test(z.current())){var t=/^([\S]+) (.*)/.exec(r.inTag);r.inTag=null;var y=">"==z.current()&&b(j[t[1]],t[2]),x=e.getMode(k,y),w=i(t[1],!0),v=i(t[1],!1);r.token=function(C,B){return C.match(w,!1)?(B.token=m,B.localState=B.localMode=null,null):f(C,v,B.localMode.token(C,B.localState))},r.localMode=x,r.localState=e.startState(x,q.indent(r.htmlState,""))}else{r.inTag&&(r.inTag+=z.current(),z.eol()&&(r.inTag+=" "))}}return s}var q=e.getMode(k,{name:"xml",htmlMode:!0,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag}),j={},p=o&&o.tags,n=o&&o.scriptTypes;if(h(g,j),p&&h(p,j),n){for(var l=n.length-1;l>=0;l--){j.script.unshift(["type",n[l].matches,n[l].mode])}}return{startState:function(){var r=e.startState(q);return{token:m,inTag:null,localMode:null,localState:null,htmlState:r}},copyState:function(s){var r;return s.localState&&(r=e.copyState(s.localMode,s.localState)),{token:s.token,inTag:s.inTag,localMode:s.localMode,localState:r,htmlState:e.copyState(q,s.htmlState)}},token:function(s,r){return r.token(s,r)},indent:function(t,s,r){return !t.localMode||/^\s*<\//.test(s)?q.indent(t.htmlState,s):t.localMode.indent?t.localMode.indent(t.localState,s,r):e.Pass},innerMode:function(r){return{state:r.localState||r.htmlState,mode:r.localMode||q}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.defineMode("javascript",function(ak,aw){function K(a1){for(var aY,aZ=!1,a0=!1;null!=(aY=a1.next());){if(!aZ){if("/"==aY&&!a0){return}"["==aY?a0=!0:a0&&"]"==aY&&(a0=!1)}aZ=!aZ&&"\\"==aY}}function R(a0,aZ,aY){return ab=a0,J=aY,aZ}function ad(a2,a0){var aY=a2.next();if('"'==aY||"'"==aY){return a0.tokenize=aa(aY),a0.tokenize(a2,a0)}if("."==aY&&a2.match(/^\d+(?:[eE][+\-]?\d+)?/)){return R("number","number")}if("."==aY&&a2.match("..")){return R("spread","meta")}if(/[\[\]{}\(\),;\:\.]/.test(aY)){return R(aY)}if("="==aY&&a2.eat(">")){return R("=>","operator")}if("0"==aY&&a2.eat(/x/i)){return a2.eatWhile(/[\da-f]/i),R("number","number")}if("0"==aY&&a2.eat(/o/i)){return a2.eatWhile(/[0-7]/i),R("number","number")}if("0"==aY&&a2.eat(/b/i)){return a2.eatWhile(/[01]/i),R("number","number")}if(/\d/.test(aY)){return a2.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),R("number","number")}if("/"==aY){return a2.eat("*")?(a0.tokenize=aN,aN(a2,a0)):a2.eat("/")?(a2.skipToEnd(),R("comment","comment")):aV(a2,a0,1)?(K(a2),a2.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),R("regexp","string-2")):(a2.eat("="),R("operator","operator",a2.current()))}if("`"==aY){return a0.tokenize=aP,aP(a2,a0)}if("#"==aY){return a2.skipToEnd(),R("error","error")}if(V.test(aY)){return">"==aY&&a0.lexical&&">"==a0.lexical.type||(a2.eat("=")?("!"==aY||"="==aY)&&a2.eat("="):/[<>*+\-]/.test(aY)&&(a2.eat(aY),">"==aY&&a2.eat(aY))),R("operator","operator",a2.current())}if(aG.test(aY)){a2.eatWhile(aG);var a1=a2.current();if("."!=a0.lastType){if(aF.propertyIsEnumerable(a1)){var aZ=aF[a1];return R(aZ.type,aZ.style,a1)}if("async"==a1&&a2.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1)){return R("async","keyword",a1)}}return R("variable","variable",a1)}}function aa(aY){return function(a2,a0){var aZ,a1=!1;if(aO&&"@"==a2.peek()&&a2.match(aD)){return a0.tokenize=ad,R("jsonld-keyword","meta")}for(;null!=(aZ=a2.next())&&(aZ!=aY||a1);){a1=!a1&&"\\"==aZ}return a1||(a0.tokenize=ad),R("string","string")}}function aN(a1,a0){for(var aZ,aY=!1;aZ=a1.next();){if("/"==aZ&&aY){a0.tokenize=ad;break}aY="*"==aZ}return R("comment","comment")}function aP(a1,aZ){for(var aY,a0=!1;null!=(aY=a1.next());){if(!a0&&("`"==aY||"$"==aY&&a1.eat("{"))){aZ.tokenize=ad;break}a0=!a0&&"\\"==aY}return R("quasi","string-2",a1.current())}function aK(a6,a0){a0.fatArrowAt&&(a0.fatArrowAt=null);var a5=a6.string.indexOf("=>",a6.start);if(!(0>a5)){if(f){var a2=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a6.string.slice(a6.start,a5));a2&&(a5=a2.index)}for(var a3=0,a1=!1,a4=a5-1;a4>=0;--a4){var aY=a6.string.charAt(a4),aZ=p.indexOf(aY);if(aZ>=0&&3>aZ){if(!a3){++a4;break}if(0==--a3){"("==aY&&(a1=!0);break}}else{if(aZ>=3&&6>aZ){++a3}else{if(aG.test(aY)){a1=!0}else{if(/["'\/]/.test(aY)){return}if(a1&&!a3){++a4;break}}}}}a1&&!a3&&(a0.fatArrowAt=a4)}}function P(a3,aZ,aY,a2,a0,a1){this.indented=a3,this.column=aZ,this.type=aY,this.prev=a0,this.info=a1,null!=a2&&(this.align=a2)}function w(a1,a0){for(var aZ=a1.localVars;aZ;aZ=aZ.next){if(aZ.name==a0){return !0}}for(var aY=a1.context;aY;aY=aY.prev){for(var aZ=aY.vars;aZ;aZ=aZ.next){if(aZ.name==a0){return !0}}}}function g(a2,aZ,aY,a1,a3){var a4=a2.cc;for(H.state=a2,H.stream=a3,H.marked=null,H.cc=a4,H.style=aZ,a2.lexical.hasOwnProperty("align")||(a2.lexical.align=!0);;){var a0=a4.length?a4.pop():D?aA:aU;if(a0(aY,a1)){for(;a4.length&&a4[a4.length-1].lex;){a4.pop()()}return H.marked?H.marked:"variable"==aY&&w(a2,a1)?"variable-2":aZ}}}function al(){for(var aY=arguments.length-1;aY>=0;aY--){H.cc.push(arguments[aY])}}function ap(){return al.apply(null,arguments),!0}function aJ(aZ){function aY(a2){for(var a1=a2;a1;a1=a1.next){if(a1.name==aZ){return !0}}return !1}var a0=H.state;if(H.marked="def",a0.context){if(aY(a0.localVars)){return}a0.localVars={name:aZ,next:a0.localVars}}else{if(aY(a0.globalVars)){return}aw.globalVars&&(a0.globalVars={name:aZ,next:a0.globalVars})}}function ax(aY){return"public"==aY||"private"==aY||"protected"==aY||"abstract"==aY||"readonly"==aY}function A(){H.state.context={prev:H.state.context,vars:H.state.localVars},H.state.localVars=u}function B(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}function aS(aZ,a0){var aY=function(){var a3=H.state,a1=a3.indented;if("stat"==a3.lexical.type){a1=a3.lexical.indented}else{for(var a2=a3.lexical;a2&&")"==a2.type&&a2.align;a2=a2.prev){a1=a2.indented}}a3.lexical=new P(a1,H.stream.column(),aZ,null,a3.lexical,a0)};return aY.lex=!0,aY}function h(){var aY=H.state;aY.lexical.prev&&(")"==aY.lexical.type&&(aY.indented=aY.lexical.indented),aY.lexical=aY.lexical.prev)}function v(aY){function aZ(a0){return a0==aY?ap():";"==aY?al():ap(aZ)}return aZ}function aU(aY,aZ){return"var"==aY?ap(aS("vardef",aZ.length),c,v(";"),h):"keyword a"==aY?ap(aS("form"),aB,aU,h):"keyword b"==aY?ap(aS("form"),aU,h):"keyword d"==aY?H.stream.match(/^\s*$/,!1)?ap():ap(aS("stat"),av,v(";"),h):"debugger"==aY?ap(v(";")):"{"==aY?ap(aS("}"),C,h):";"==aY?ap():"if"==aY?("else"==H.state.lexical.info&&H.state.cc[H.state.cc.length-1]==h&&H.state.cc.pop()(),ap(aS("form"),aB,aU,h,d)):"function"==aY?ap(S):"for"==aY?ap(aS("form"),y,aU,h):"class"==aY||f&&"interface"==aZ?(H.marked="keyword",ap(aS("form"),ag,h)):"variable"==aY?f&&"declare"==aZ?(H.marked="keyword",ap(aU)):f&&("module"==aZ||"enum"==aZ||"type"==aZ)&&H.stream.match(/^\s*\w/,!1)?(H.marked="keyword","enum"==aZ?ap(aI):"type"==aZ?ap(j,v("operator"),j,v(";")):ap(aS("form"),i,v("{"),aS("}"),C,h,h)):f&&"namespace"==aZ?(H.marked="keyword",ap(aS("form"),aA,C,h)):ap(aS("stat"),aW):"switch"==aY?ap(aS("form"),aB,v("{"),aS("}","switch"),C,h,h):"case"==aY?ap(aA,v(":")):"default"==aY?ap(v(":")):"catch"==aY?ap(aS("form"),A,v("("),aq,v(")"),aU,h,B):"export"==aY?ap(aS("stat"),aT,h):"import"==aY?ap(aS("stat"),ar,h):"async"==aY?ap(aU):"@"==aZ?ap(aA,aU):al(aS("stat"),aA,v(";"),h)}function aA(aY,aZ){return aj(aY,aZ,!1)}function aR(aY,aZ){return aj(aY,aZ,!0)}function aB(aY){return"("!=aY?al():ap(aS(")"),aA,v(")"),h)}function aj(aZ,a0,a2){if(H.state.fatArrowAt==H.stream.start){var aY=a2?T:ah;if("("==aZ){return ap(A,aS(")"),aH(aq,")"),h,v("=>"),aY,B)}if("variable"==aZ){return al(A,i,v("=>"),aY,B)}}var a1=a2?k:am;return b.hasOwnProperty(aZ)?ap(a1):"function"==aZ?ap(S,a1):"class"==aZ||f&&"interface"==a0?(H.marked="keyword",ap(aS("form"),N,h)):"keyword c"==aZ||"async"==aZ?ap(a2?aR:aA):"("==aZ?ap(aS(")"),av,v(")"),h,a1):"operator"==aZ||"spread"==aZ?ap(a2?aR:aA):"["==aZ?ap(aS("]"),q,h,a1):"{"==aZ?aL(x,"}",null,a1):"quasi"==aZ?al(X,a1):"new"==aZ?ap(M(a2)):"import"==aZ?ap(aA):ap()}function av(aY){return aY.match(/[;\}\)\],]/)?al():al(aA)}function am(aY,aZ){return","==aY?ap(aA):k(aY,aZ,!1)}function k(aY,a0,a2){var aZ=0==a2?am:k,a1=0==a2?aA:aR;return"=>"==aY?ap(A,a2?T:ah,B):"operator"==aY?/\+\+|--/.test(a0)||f&&"!"==a0?ap(aZ):f&&"<"==a0&&H.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?ap(aS(">"),aH(j,">"),h,aZ):"?"==a0?ap(aA,v(":"),a1):ap(a1):"quasi"==aY?al(X,aZ):";"!=aY?"("==aY?aL(aR,")","call",aZ):"."==aY?ap(ay,aZ):"["==aY?ap(aS("]"),av,v("]"),h,aZ):f&&"as"==a0?(H.marked="keyword",ap(j,aZ)):"regexp"==aY?(H.state.lastType=H.marked="operator",H.stream.backUp(H.stream.pos-H.stream.start-1),ap(a1)):void 0:void 0}function X(aY,aZ){return"quasi"!=aY?al():"${"!=aZ.slice(aZ.length-2)?ap(X):ap(aA,t)}function t(aY){return"}"==aY?(H.marked="string-2",H.state.tokenize=aP,ap(X)):void 0}function ah(aY){return aK(H.stream,H.state),al("{"==aY?aU:aA)}function T(aY){return aK(H.stream,H.state),al("{"==aY?aU:aR)}function M(aY){return function(aZ){return"."==aZ?ap(aY?r:af):"variable"==aZ&&f?ap(e,aY?k:am):al(aY?aR:aA)}}function af(aY,aZ){return"target"==aZ?(H.marked="keyword",ap(am)):void 0}function r(aY,aZ){return"target"==aZ?(H.marked="keyword",ap(k)):void 0}function aW(aY){return":"==aY?ap(h,aU):al(am,v(";"),h)}function ay(aY){return"variable"==aY?(H.marked="property",ap()):void 0}function x(aZ,a0){if("async"==aZ){return H.marked="property",ap(x)}if("variable"==aZ||"keyword"==H.style){if(H.marked="property","get"==a0||"set"==a0){return ap(O)}var aY;return f&&H.state.fatArrowAt==H.stream.start&&(aY=H.stream.match(/^\s*:\s*/,!1))&&(H.state.fatArrowAt=H.stream.pos+aY[0].length),ap(Q)}return"number"==aZ||"string"==aZ?(H.marked=aO?"property":H.style+" property",ap(Q)):"jsonld-keyword"==aZ?ap(Q):f&&ax(a0)?(H.marked="keyword",ap(x)):"["==aZ?ap(aA,ac,v("]"),Q):"spread"==aZ?ap(aR,Q):"*"==a0?(H.marked="keyword",ap(x)):":"==aZ?al(Q):void 0}function O(aY){return"variable"!=aY?al(Q):(H.marked="property",ap(S))}function Q(aY){return":"==aY?ap(aR):"("==aY?al(S):void 0}function aH(a1,aY,aZ){function a0(a3,a4){if(aZ?aZ.indexOf(a3)>-1:","==a3){var a2=H.state.lexical;return"call"==a2.info&&(a2.pos=(a2.pos||0)+1),ap(function(a5,a6){return a5==aY||a6==aY?al():al(a1)},a0)}return a3==aY||a4==aY?ap():ap(v(aY))}return function(a2,a3){return a2==aY||a3==aY?ap():al(a1,a0)}}function aL(a1,aY,a0){for(var aZ=3;aZ<arguments.length;aZ++){H.cc.push(arguments[aZ])}return ap(aS(aY,a0),aH(a1,aY),h)}function C(aY){return"}"==aY?ap():al(aU,C)}function ac(aY,aZ){if(f){if(":"==aY){return ap(j)}if("?"==aZ){return ap(ac)}}}function U(aY){return f&&":"==aY?H.stream.match(/^\s*\w+\s+is\b/,!1)?ap(aA,Y,j):ap(j):void 0}function Y(aY,aZ){return"is"==aZ?(H.marked="keyword",ap()):void 0}function j(aY,aZ){return"variable"==aY||"void"==aZ?"keyof"==aZ?(H.marked="keyword",ap(j)):(H.marked="type",ap(L)):"string"==aY||"number"==aY||"atom"==aY?ap(L):"["==aY?ap(aS("]"),aH(j,"]",","),h,L):"{"==aY?ap(aS("}"),aH(az,"}",",;"),h,L):"("==aY?ap(aH(an,")"),Z):void 0}function Z(aY){return"=>"==aY?ap(j):void 0}function az(aY,aZ){return"variable"==aY||"keyword"==H.style?(H.marked="property",ap(az)):"?"==aZ?ap(az):":"==aY?ap(j):"["==aY?ap(aA,ac,v("]"),az):void 0}function an(aY){return"variable"==aY?ap(an):":"==aY?ap(j):void 0}function L(aY,aZ){return"<"==aZ?ap(aS(">"),aH(j,">"),h,L):"|"==aZ||"."==aY||"&"==aZ?ap(j):"["==aY?ap(v("]"),L):"extends"==aZ||"implements"==aZ?(H.marked="keyword",ap(j)):void 0}function e(aY,aZ){return"<"==aZ?ap(aS(">"),aH(j,">"),h,L):void 0}function o(){return al(j,ae)}function ae(aY,aZ){return"="==aZ?ap(j):void 0}function c(aY,aZ){return"enum"==aZ?(H.marked="keyword",ap(aI)):al(i,ac,ao,ai)}function i(aY,aZ){return f&&ax(aZ)?(H.marked="keyword",ap(i)):"variable"==aY?(aJ(aZ),ap()):"spread"==aY?ap(i):"["==aY?aL(i,"]"):"{"==aY?aL(aQ,"}"):void 0}function aQ(aY,aZ){return"variable"!=aY||H.stream.match(/^\s*:/,!1)?("variable"==aY&&(H.marked="property"),"spread"==aY?ap(i):"}"==aY?al():ap(v(":"),i,ao)):(aJ(aZ),ap(ao))}function ao(aY,aZ){return"="==aZ?ap(aR):void 0}function ai(aY){return","==aY?ap(c):void 0}function d(aY,aZ){return"keyword b"==aY&&"else"==aZ?ap(aS("form","else"),aU,h):void 0}function y(aY,aZ){return"await"==aZ?ap(y):"("==aY?ap(aS(")"),I,v(")"),h):void 0}function I(aY){return"var"==aY?ap(c,v(";"),G):";"==aY?ap(G):"variable"==aY?ap(z):al(aA,v(";"),G)}function z(aY,aZ){return"in"==aZ||"of"==aZ?(H.marked="keyword",ap(aA)):ap(am,G)}function G(aY,aZ){return";"==aY?ap(F):"in"==aZ||"of"==aZ?(H.marked="keyword",ap(aA)):al(aA,v(";"),F)}function F(aY){")"!=aY&&ap(aA)}function S(aY,aZ){return"*"==aZ?(H.marked="keyword",ap(S)):"variable"==aY?(aJ(aZ),ap(S)):"("==aY?ap(A,aS(")"),aH(aq,")"),h,U,aU,B):f&&"<"==aZ?ap(aS(">"),aH(o,">"),h,S):void 0}function aq(aY,aZ){return"@"==aZ&&ap(aA,aq),"spread"==aY?ap(aq):f&&ax(aZ)?(H.marked="keyword",ap(aq)):al(i,ac,ao)}function N(aY,aZ){return"variable"==aY?ag(aY,aZ):W(aY,aZ)}function ag(aY,aZ){return"variable"==aY?(aJ(aZ),ap(W)):void 0}function W(aY,aZ){return"<"==aZ?ap(aS(">"),aH(o,">"),h,W):"extends"==aZ||"implements"==aZ||f&&","==aY?("implements"==aZ&&(H.marked="keyword"),ap(f?j:aA,W)):"{"==aY?ap(aS("}"),s,h):void 0}function s(aY,aZ){return"async"==aY||"variable"==aY&&("static"==aZ||"get"==aZ||"set"==aZ||f&&ax(aZ))&&H.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(H.marked="keyword",ap(s)):"variable"==aY||"keyword"==H.style?(H.marked="property",ap(f?aX:S,s)):"["==aY?ap(aA,ac,v("]"),f?aX:S,s):"*"==aZ?(H.marked="keyword",ap(s)):";"==aY?ap(s):"}"==aY?ap():"@"==aZ?ap(aA,s):void 0}function aX(aY,aZ){return"?"==aZ?ap(aX):":"==aY?ap(j,ao):"="==aZ?ap(aR):al(S)}function aT(aY,aZ){return"*"==aZ?(H.marked="keyword",ap(au,v(";"))):"default"==aZ?(H.marked="keyword",ap(aA,v(";"))):"{"==aY?ap(aH(at,"}"),au,v(";")):al(aU)}function at(aY,aZ){return"as"==aZ?(H.marked="keyword",ap(v("variable"))):"variable"==aY?al(aR,at):void 0}function ar(aY){return"string"==aY?ap():"("==aY?al(aA):al(aE,m,au)}function aE(aY,aZ){return"{"==aY?aL(aE,"}"):("variable"==aY&&aJ(aZ),"*"==aZ&&(H.marked="keyword"),ap(l))}function m(aY){return","==aY?ap(aE,m):void 0}function l(aY,aZ){return"as"==aZ?(H.marked="keyword",ap(aE)):void 0}function au(aY,aZ){return"from"==aZ?(H.marked="keyword",ap(aA)):void 0}function q(aY){return"]"==aY?ap():al(aH(aR,"]"))}function aI(){return al(aS("form"),i,v("{"),aS("}"),aH(aM,"}"),h,h)}function aM(){return al(i,ao)}function aC(aZ,aY){return"operator"==aZ.lastType||","==aZ.lastType||V.test(aY.charAt(0))||/[,.]/.test(aY.charAt(0))}function aV(a0,aZ,aY){return aZ.tokenize==ad&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(aZ.lastType)||"quasi"==aZ.lastType&&/\{\s*$/.test(a0.string.slice(0,a0.pos-(aY||0)))}var ab,J,n=ak.indentUnit,E=aw.statementIndent,aO=aw.jsonld,D=aw.json||aO,f=aw.typescript,aG=aw.wordCharacters||/[\w$\xa1-\uffff]/,aF=function(){function a1(a5){return{type:a5,style:"keyword"}}var aY=a1("keyword a"),a4=a1("keyword b"),a3=a1("keyword c"),a2=a1("keyword d"),aZ=a1("operator"),a0={type:"atom",style:"atom"};return{"if":a1("if"),"while":aY,"with":aY,"else":a4,"do":a4,"try":a4,"finally":a4,"return":a2,"break":a2,"continue":a2,"new":a1("new"),"delete":a3,"void":a3,"throw":a3,"debugger":a1("debugger"),"var":a1("var"),"const":a1("var"),let:a1("var"),"function":a1("function"),"catch":a1("catch"),"for":a1("for"),"switch":a1("switch"),"case":a1("case"),"default":a1("default"),"in":aZ,"typeof":aZ,"instanceof":aZ,"true":a0,"false":a0,"null":a0,undefined:a0,NaN:a0,Infinity:a0,"this":a1("this"),"class":a1("class"),"super":a1("atom"),yield:a3,"export":a1("export"),"import":a1("import"),"extends":a3,await:a3}}(),V=/[+\-*&%=<>!?|~^@]/,aD=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,p="([{}])",b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},H={state:null,column:null,marked:null,cc:null},u={name:"this",next:{name:"arguments"}};return h.lex=!0,{startState:function(aZ){var aY={tokenize:ad,lastType:"sof",cc:[],lexical:new P((aZ||0)-n,0,"block",!1),localVars:aw.localVars,context:aw.localVars&&{vars:aw.localVars},indented:aZ||0};return aw.globalVars&&"object"==typeof aw.globalVars&&(aY.globalVars=aw.globalVars),aY},token:function(a0,aZ){if(a0.sol()&&(aZ.lexical.hasOwnProperty("align")||(aZ.lexical.align=!1),aZ.indented=a0.indentation(),aK(a0,aZ)),aZ.tokenize!=aN&&a0.eatSpace()){return null}var aY=aZ.tokenize(a0,aZ);return"comment"==ab?aY:(aZ.lastType="operator"!=ab||"++"!=J&&"--"!=J?ab:"incdec",g(aZ,aY,ab,J,a0))},indent:function(aY,a1){if(aY.tokenize==aN){return a.Pass}if(aY.tokenize!=ad){return 0}var a4,a5=a1&&a1.charAt(0),a6=aY.lexical;if(!/^\s*else\b/.test(a1)){for(var a0=aY.cc.length-1;a0>=0;--a0){var a2=aY.cc[a0];if(a2==h){a6=a6.prev}else{if(a2!=d){break}}}}for(;!("stat"!=a6.type&&"form"!=a6.type||"}"!=a5&&(!(a4=aY.cc[aY.cc.length-1])||a4!=am&&a4!=k||/^[,\.=+\-*:?[\(]/.test(a1)));){a6=a6.prev}E&&")"==a6.type&&"stat"==a6.prev.type&&(a6=a6.prev);var a3=a6.type,aZ=a5==a3;return"vardef"==a3?a6.indented+("operator"==aY.lastType||","==aY.lastType?a6.info+1:0):"form"==a3&&"{"==a5?a6.indented:"form"==a3?a6.indented+n:"stat"==a3?a6.indented+(aC(aY,a1)?E||n:0):"switch"!=a6.info||aZ||0==aw.doubleIndentSwitch?a6.align?a6.column+(aZ?0:1):a6.indented+(aZ?0:n):a6.indented+(/^(?:case|default)\b/.test(a1)?n:2*n)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:D?null:"/*",blockCommentEnd:D?null:"*/",blockCommentContinue:D?null:" * ",lineComment:D?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:D?"json":"javascript",jsonldMode:aO,jsonMode:D,expressionAllowed:aV,skipExpression:function(aY){var aZ=aY.cc[aY.cc.length-1];(aZ==aA||aZ==aR)&&aY.cc.pop()}}}),a.registerHelper("wordChars","javascript",/[\w$]/),a.defineMIME("text/javascript","javascript"),a.defineMIME("text/ecmascript","javascript"),a.defineMIME("application/javascript","javascript"),a.defineMIME("application/x-javascript","javascript"),a.defineMIME("application/ecmascript","javascript"),a.defineMIME("application/json",{name:"javascript",json:!0}),a.defineMIME("application/x-json",{name:"javascript",json:!0}),a.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),a.defineMIME("text/typescript",{name:"javascript",typescript:!0}),a.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(r){function g(A){for(var z={},y=0;y<A.length;++y){z[A[y].toLowerCase()]=!0}return z}function w(B,A){for(var z,y=!1;null!=(z=B.next());){if(y&&"/"==z){A.tokenize=null;break}y="*"==z}return["comment","comment"]}r.defineMode("css",function(Z,J){function aa(ad,ae){return C=ae,ad}function ac(ag,af){var ae=ag.next();if(A[ae]){var ad=A[ae](ag,af);if(ad!==!1){return ad}}return"@"==ae?(ag.eatWhile(/[\w\\\-]/),aa("def",ag.current())):"="==ae||("~"==ae||"|"==ae)&&ag.eat("=")?aa(null,"compare"):'"'==ae||"'"==ae?(af.tokenize=L(ae),af.tokenize(ag,af)):"#"==ae?(ag.eatWhile(/[\w\\\-]/),aa("atom","hash")):"!"==ae?(ag.match(/^\s*\w*/),aa("keyword","important")):/\d/.test(ae)||"."==ae&&ag.eat(/\d/)?(ag.eatWhile(/[\w.%]/),aa("number","unit")):"-"!==ae?/[,+>*\/]/.test(ae)?aa(null,"select-op"):"."==ae&&ag.match(/^-?[_a-z][_a-z0-9-]*/i)?aa("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ae)?aa(null,ae):("u"==ae||"U"==ae)&&ag.match(/rl(-prefix)?\(/i)||("d"==ae||"D"==ae)&&ag.match("omain(",!0,!0)||("r"==ae||"R"==ae)&&ag.match("egexp(",!0,!0)?(ag.backUp(1),af.tokenize=ab,aa("property","word")):/[\w\\\-]/.test(ae)?(ag.eatWhile(/[\w\\\-]/),aa("property","word")):aa(null,null):/[\d.]/.test(ag.peek())?(ag.eatWhile(/[\w.%]/),aa("number","unit")):ag.match(/^-[\w\\\-]+/)?(ag.eatWhile(/[\w\\\-]/),ag.match(/^\s*:/,!1)?aa("variable-2","variable-definition"):aa("variable-2","variable")):ag.match(/^\w+-/)?aa("meta","meta"):void 0}function L(ad){return function(ah,af){for(var ae,ag=!1;null!=(ae=ah.next());){if(ae==ad&&!ag){")"==ad&&ah.backUp(1);break}ag=!ag&&"\\"==ae}return(ae==ad||!ag&&")"!=ad)&&(af.tokenize=null),aa("string","string")}}function ab(ae,ad){return ae.next(),ad.tokenize=ae.match(/\s*[\"\')]/,!1)?null:L(")"),aa(null,"(")}function S(ae,ad,af){this.type=ae,this.indent=ad,this.prev=af}function G(af,ag,ae,ad){return af.context=new S(ae,ag.indentation()+(ad===!1?0:Q),af.context),ae}function U(ad){return ad.context.prev&&(ad.context=ad.context.prev),ad.context.type}function z(ad,af,ae){return F[ae.context.type](ad,af,ae)}function X(ae,ag,af,ah){for(var ad=ah||1;ad>0;ad--){af.context=af.context.prev}return z(ae,ag,af)}function I(ae){var ad=ae.current().toLowerCase();N=T.hasOwnProperty(ad)?"atom":O.hasOwnProperty(ad)?"keyword":"variable"}var D=J.inline;J.propertyKeywords||(J=r.resolveMode("text/css"));var C,N,Q=Z.indentUnit,A=J.tokenHooks,y=J.documentTypes||{},Y=J.mediaTypes||{},K=J.mediaFeatures||{},P=J.mediaValueKeywords||{},H=J.propertyKeywords||{},B=J.nonStandardPropertyKeywords||{},E=J.fontProperties||{},W=J.counterDescriptors||{},O=J.colorKeywords||{},T=J.valueKeywords||{},M=J.allowNested,R=J.lineComment,V=J.supportsAtComponent===!0,F={};return F.top=function(ad,af,ae){if("{"==ad){return G(ae,af,"block")}if("}"==ad&&ae.context.prev){return U(ae)}if(V&&/@component/i.test(ad)){return G(ae,af,"atComponentBlock")}if(/^@(-moz-)?document$/i.test(ad)){return G(ae,af,"documentTypes")}if(/^@(media|supports|(-moz-)?document|import)$/i.test(ad)){return G(ae,af,"atBlock")}if(/^@(font-face|counter-style)/i.test(ad)){return ae.stateArg=ad,"restricted_atBlock_before"}if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ad)){return"keyframes"}if(ad&&"@"==ad.charAt(0)){return G(ae,af,"at")}if("hash"==ad){N="builtin"}else{if("word"==ad){N="tag"}else{if("variable-definition"==ad){return"maybeprop"}if("interpolation"==ad){return G(ae,af,"interpolation")}if(":"==ad){return"pseudo"}if(M&&"("==ad){return G(ae,af,"parens")}}}return ae.context.type},F.block=function(ad,ag,ae){if("word"==ad){var af=ag.current().toLowerCase();return H.hasOwnProperty(af)?(N="property","maybeprop"):B.hasOwnProperty(af)?(N="string-2","maybeprop"):M?(N=ag.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(N+=" error","maybeprop")}return"meta"==ad?"block":M||"hash"!=ad&&"qualifier"!=ad?F.top(ad,ag,ae):(N="error","block")},F.maybeprop=function(ad,af,ae){return":"==ad?G(ae,af,"prop"):z(ad,af,ae)},F.prop=function(ad,af,ae){if(";"==ad){return U(ae)}if("{"==ad&&M){return G(ae,af,"propBlock")}if("}"==ad||"{"==ad){return X(ad,af,ae)}if("("==ad){return G(ae,af,"parens")}if("hash"!=ad||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(af.current())){if("word"==ad){I(af)}else{if("interpolation"==ad){return G(ae,af,"interpolation")}}}else{N+=" error"}return"prop"},F.propBlock=function(ae,ad,af){return"}"==ae?U(af):"word"==ae?(N="property","maybeprop"):af.context.type},F.parens=function(ad,af,ae){return"{"==ad||"}"==ad?X(ad,af,ae):")"==ad?U(ae):"("==ad?G(ae,af,"parens"):"interpolation"==ad?G(ae,af,"interpolation"):("word"==ad&&I(af),"parens")},F.pseudo=function(ad,af,ae){return"meta"==ad?"pseudo":"word"==ad?(N="variable-3",ae.context.type):z(ad,af,ae)},F.documentTypes=function(ad,af,ae){return"word"==ad&&y.hasOwnProperty(af.current())?(N="tag",ae.context.type):F.atBlock(ad,af,ae)},F.atBlock=function(ad,ag,ae){if("("==ad){return G(ae,ag,"atBlock_parens")}if("}"==ad||";"==ad){return X(ad,ag,ae)}if("{"==ad){return U(ae)&&G(ae,ag,M?"block":"top")}if("interpolation"==ad){return G(ae,ag,"interpolation")}if("word"==ad){var af=ag.current().toLowerCase();N="only"==af||"not"==af||"and"==af||"or"==af?"keyword":Y.hasOwnProperty(af)?"attribute":K.hasOwnProperty(af)?"property":P.hasOwnProperty(af)?"keyword":H.hasOwnProperty(af)?"property":B.hasOwnProperty(af)?"string-2":T.hasOwnProperty(af)?"atom":O.hasOwnProperty(af)?"keyword":"error"}return ae.context.type},F.atComponentBlock=function(ad,af,ae){return"}"==ad?X(ad,af,ae):"{"==ad?U(ae)&&G(ae,af,M?"block":"top",!1):("word"==ad&&(N="error"),ae.context.type)},F.atBlock_parens=function(ad,af,ae){return")"==ad?U(ae):"{"==ad||"}"==ad?X(ad,af,ae,2):F.atBlock(ad,af,ae)},F.restricted_atBlock_before=function(ad,af,ae){return"{"==ad?G(ae,af,"restricted_atBlock"):"word"==ad&&"@counter-style"==ae.stateArg?(N="variable","restricted_atBlock_before"):z(ad,af,ae)},F.restricted_atBlock=function(ad,af,ae){return"}"==ad?(ae.stateArg=null,U(ae)):"word"==ad?(N="@font-face"==ae.stateArg&&!E.hasOwnProperty(af.current().toLowerCase())||"@counter-style"==ae.stateArg&&!W.hasOwnProperty(af.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},F.keyframes=function(ad,af,ae){return"word"==ad?(N="variable","keyframes"):"{"==ad?G(ae,af,"top"):z(ad,af,ae)},F.at=function(ad,af,ae){return";"==ad?U(ae):"{"==ad||"}"==ad?X(ad,af,ae):("word"==ad?N="tag":"hash"==ad&&(N="builtin"),"at")},F.interpolation=function(ad,af,ae){return"}"==ad?U(ae):"{"==ad||";"==ad?X(ad,af,ae):("word"==ad?N="variable":"variable"!=ad&&"("!=ad&&")"!=ad&&(N="error"),"interpolation")},{startState:function(ad){return{tokenize:null,state:D?"block":"top",stateArg:null,context:new S(D?"block":"top",ad||0,null)}},token:function(af,ae){if(!ae.tokenize&&af.eatSpace()){return null}var ad=(ae.tokenize||ac)(af,ae);return ad&&"object"==typeof ad&&(C=ad[1],ad=ad[0]),N=ad,"comment"!=C&&(ae.state=F[ae.state](C,af,ae)),N},indent:function(ah,af){var ae=ah.context,ag=af&&af.charAt(0),ad=ae.indent;return"prop"!=ae.type||"}"!=ag&&")"!=ag||(ae=ae.prev),ae.prev&&("}"!=ag||"block"!=ae.type&&"top"!=ae.type&&"interpolation"!=ae.type&&"restricted_atBlock"!=ae.type?(")"==ag&&("parens"==ae.type||"atBlock_parens"==ae.type)||"{"==ag&&("at"==ae.type||"atBlock"==ae.type))&&(ad=Math.max(0,ae.indent-Q)):(ae=ae.prev,ad=ae.indent)),ad},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:R,fold:"brace"}});var k=["domain","regexp","url","url-prefix"],a=g(k),b=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],v=g(b),x=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],i=g(x),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],p=g(l),d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=g(d),n=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],e=g(n),t=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],f=g(t),q=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],u=g(q),c=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=g(c),j=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],s=g(j),o=k.concat(b).concat(x).concat(l).concat(d).concat(n).concat(c).concat(j);r.registerHelper("hintWords","css",o),r.defineMIME("text/css",{documentTypes:a,mediaTypes:v,mediaFeatures:i,mediaValueKeywords:p,propertyKeywords:h,nonStandardPropertyKeywords:e,fontProperties:f,counterDescriptors:u,colorKeywords:m,valueKeywords:s,tokenHooks:{"/":function(z,y){return z.eat("*")?(y.tokenize=w,w(z,y)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:v,mediaFeatures:i,mediaValueKeywords:p,propertyKeywords:h,nonStandardPropertyKeywords:e,colorKeywords:m,valueKeywords:s,fontProperties:f,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(z,y){return z.eat("/")?(z.skipToEnd(),["comment","comment"]):z.eat("*")?(y.tokenize=w,w(z,y)):["operator","operator"]},":":function(y){return y.match(/\s*\{/,!1)?[null,null]:!1},$:function(y){return y.match(/^[\w-]+/),y.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(y){return y.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:v,mediaFeatures:i,mediaValueKeywords:p,propertyKeywords:h,nonStandardPropertyKeywords:e,colorKeywords:m,valueKeywords:s,fontProperties:f,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(z,y){return z.eat("/")?(z.skipToEnd(),["comment","comment"]):z.eat("*")?(y.tokenize=w,w(z,y)):["operator","operator"]},"@":function(y){return y.eat("{")?[null,"interpolation"]:y.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(y.eatWhile(/[\w\\\-]/),y.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:v,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:e,fontProperties:f,counterDescriptors:u,colorKeywords:m,valueKeywords:s,supportsAtComponent:!0,tokenHooks:{"/":function(z,y){return z.eat("*")?(y.tokenize=w,w(z,y)):!1}},name:"css",helperType:"gss"})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],a):a(CodeMirror)}(function(b){function a(r){if(r.getOption("disableInput")){return b.Pass}for(var l=r.listSelections(),q=[],j=r.getOption("autoCloseTags"),y=0;y<l.length;y++){if(!l[y].empty()){return b.Pass}var o=l[y].head,w=r.getTokenAt(o),A=b.innerMode(r.getMode(),w.state),n=A.state;if("xml"!=A.mode.name||!n.tagName){return b.Pass}var s="html"==A.mode.configuration,u="object"==typeof j&&j.dontCloseTags||s&&d,v="object"==typeof j&&j.indentTags||s&&c,k=n.tagName;w.end>o.ch&&(k=k.slice(0,k.length-w.end+o.ch));var m=k.toLowerCase();if(!k||"string"==w.type&&(w.end!=o.ch||!/[\"\']/.test(w.string.charAt(w.string.length-1))||1==w.string.length)||"tag"==w.type&&"closeTag"==n.type||w.string.indexOf("/")==w.string.length-1||u&&g(u,m)>-1||f(r,k,o,n,!0)){return b.Pass}var t=v&&g(v,m)>-1;q[y]={indent:t,text:">"+(t?"\n\n":"")+"</"+k+">",newPos:t?b.Pos(o.line+1,0):b.Pos(o.line,o.ch+1)}}for(var p="object"==typeof j&&j.dontIndentOnAutoClose,y=l.length-1;y>=0;y--){var z=q[y];r.replaceRange(z.text,l[y].head,l[y].anchor,"+insert");var x=r.listSelections().slice(0);x[y]={head:z.newPos,anchor:z.newPos},r.setSelections(x),!p&&z.indent&&(r.indentLine(z.newPos.line,null,!0),r.indentLine(z.newPos.line+1,null,!0))}}function h(t,o){for(var k=t.listSelections(),n=[],s=o?"/":"</",l=t.getOption("autoCloseTags"),q="object"==typeof l&&l.dontIndentOnSlash,p=0;p<k.length;p++){if(!k[p].empty()){return b.Pass}var r=k[p].head,u=t.getTokenAt(r),v=b.innerMode(t.getMode(),u.state),j=v.state;if(o&&("string"==u.type||"<"!=u.string.charAt(0)||u.start!=r.ch-1)){return b.Pass}var m;if("xml"!=v.mode.name){if("htmlmixed"==t.getMode().name&&"javascript"==v.mode.name){m=s+"script"}else{if("htmlmixed"!=t.getMode().name||"css"!=v.mode.name){return b.Pass}m=s+"style"}}else{if(!j.context||!j.context.tagName||f(t,j.context.tagName,r,j)){return b.Pass}m=s+j.context.tagName}">"!=t.getLine(r.line).charAt(u.end)&&(m+=">"),n[p]=m}if(t.replaceSelections(n),k=t.listSelections(),!q){for(var p=0;p<k.length;p++){(p==k.length-1||k[p].head.line<k[p+1].head.line)&&t.indentLine(k[p].head.line)}}}function e(i){return i.getOption("disableInput")?b.Pass:h(i,!0)}function g(m,j){if(m.indexOf){return m.indexOf(j)}for(var k=0,l=m.length;l>k;++k){if(m[k]==j){return k}}return -1}function f(r,k,q,j,t){if(!b.scanForClosingTag){return !1}var l=Math.min(r.lastLine()+1,q.line+500),s=b.scanForClosingTag(r,q,null,l);if(!s||s.tag!=k){return !1}for(var m=j.context,o=t?1:0;m&&m.tagName==k;m=m.prev){++o}q=s.to;for(var n=1;o>n;n++){var p=b.scanForClosingTag(r,q,null,l);if(!p||p.tag!=k){return !1}q=p.to}return !0}b.defineOption("autoCloseTags",!1,function(i,l,j){if(j!=b.Init&&j&&i.removeKeyMap("autoCloseTags"),l){var k={name:"autoCloseTags"};("object"!=typeof l||l.whenClosing)&&(k["'/'"]=function(m){return e(m)}),("object"!=typeof l||l.whenOpening)&&(k["'>'"]=function(m){return a(m)}),i.addKeyMap(k)}});var d=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],c=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];b.commands.closeTag=function(i){return h(i)}}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],a):a(CodeMirror)}(function(c){function a(e){e.state.tagHit&&e.state.tagHit.clear(),e.state.tagOther&&e.state.tagOther.clear(),e.state.tagHit=e.state.tagOther=null}function b(e){e.state.failedTagMatch=!1,e.operation(function(){if(a(e),!e.somethingSelected()){var j=e.getCursor(),g=e.getViewport();g.from=Math.min(g.from,j.line),g.to=Math.max(j.line+1,g.to);var h=c.findMatchingTag(e,j,g);if(h){if($(".cursor-place .line")[0].innerHTML=htmlEditor.getCursor().line+1,$(".cursor-place .ch")[0].innerHTML=htmlEditor.getCursor().ch+1,e.state.matchBothTags){var i="open"==h.at?h.open:h.close;i&&(e.state.tagHit=e.markText(i.from,i.to,{className:"CodeMirror-matchingtag"}))}var f="close"==h.at?h.open:h.close;f?e.state.tagOther=e.markText(f.from,f.to,{className:"CodeMirror-matchingtag"}):e.state.failedTagMatch=!0}}})}function d(e){e.state.failedTagMatch&&b(e)}c.defineOption("matchTags",!1,function(e,g,f){f&&f!=c.Init&&(e.off("cursorActivity",b),e.off("viewportChange",d),a(e)),g&&(e.state.matchBothTags="object"==typeof g&&g.bothTags,e.on("cursorActivity",b),e.on("viewportChange",d),b(e))}),c.commands.toMatchingTag=function(f){var g=c.findMatchingTag(f,f.getCursor());if(g){var e="close"==g.at?g.open:g.close;e&&f.extendSelection(e.to,e.from)}}}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(b){function c(d,h,e){var f,g=d.getWrapperElement();return f=g.appendChild(document.createElement("div")),f.className=e?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof h?f.innerHTML=h:f.appendChild(h),f}function a(d,e){d.state.currentNotificationClose&&d.state.currentNotificationClose(),d.state.currentNotificationClose=e}b.defineExtension("openDialog",function(i,j,l){function k(m){if("string"==typeof m){g.value=m}else{if(e){return}e=!0,f.parentNode.removeChild(f),h.focus(),l.onClose&&l.onClose(f)}}l||(l={}),a(this,null);var d,f=c(this,i,l.bottom),e=!1,h=this,g=f.getElementsByTagName("input")[0];return g?(g.focus(),l.value&&(g.value=l.value,l.selectValueOnOpen!==!1&&g.select()),l.onInput&&b.on(g,"input",function(m){l.onInput(m,g.value,k)}),l.onKeyUp&&b.on(g,"keyup",function(m){l.onKeyUp(m,g.value,k)}),b.on(g,"keydown",function(m){l&&l.onKeyDown&&l.onKeyDown(m,g.value,k)||((27==m.keyCode||l.closeOnEnter!==!1&&13==m.keyCode)&&(g.blur(),b.e_stop(m),k()),13==m.keyCode&&j(g.value,m))}),l.closeOnBlur!==!1&&b.on(g,"blur",k)):(d=f.getElementsByTagName("button")[0])&&(b.on(d,"click",function(){k(),h.focus()}),l.closeOnBlur!==!1&&b.on(d,"blur",k),d.focus()),k}),b.defineExtension("openConfirm",function(m,g,o){function n(){f||(f=!0,h.parentNode.removeChild(h),k.focus())}a(this,null);var h=c(this,m,o&&o.bottom),j=h.getElementsByTagName("button"),f=!1,k=this,d=1;j[0].focus();for(var e=0;e<j.length;++e){var l=j[e];!function(i){b.on(l,"click",function(p){b.e_preventDefault(p),n(),i&&i(k)})}(g[e]),b.on(l,"blur",function(){--d,setTimeout(function(){0>=d&&n()},200)}),b.on(l,"focus",function(){++d})}}),b.defineExtension("openNotification",function(g,e){function j(){d||(d=!0,clearTimeout(h),f.parentNode.removeChild(f))}a(this,j);var h,f=c(this,g,e&&e.bottom),d=!1,i=e&&"undefined"!=typeof e.duration?e.duration:5000;return b.on(f,"click",function(k){b.e_preventDefault(k),j()}),i&&(h=setTimeout(j,i)),j})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(d){function f(r){var q=r.flags;return null!=q?q:(r.ignoreCase?"i":"")+(r.global?"g":"")+(r.multiline?"m":"")}function e(s,q){for(var u=f(s),t=u,r=0;r<q.length;r++){-1==t.indexOf(q.charAt(r))&&(t+=q.charAt(r))}return u==t?s:new RegExp(s.source,t)}function o(q){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(q.source)}function n(w,v,x){v=e(v,"g");for(var q=x.line,t=x.ch,u=w.lastLine();u>=q;q++,t=0){v.lastIndex=t;var s=w.getLine(q),r=v.exec(s);if(r){return{from:j(q,r.index),to:j(q,r.index+r[0].length),match:r}}}}function g(A,x,r){if(!o(x)){return n(A,x,r)}x=e(x,"gm");for(var w,z=1,D=r.line,B=A.lastLine();B>=D;){for(var u=0;z>u&&!(D>B);u++){var q=A.getLine(D++);w=null==w?q:w+"\n"+q}z=2*z,x.lastIndex=r.ch;var v=x.exec(w);if(v){var y=w.slice(0,v.index).split("\n"),t=v[0].split("\n"),C=r.line+y.length-1,s=y[y.length-1].length;return{from:j(C,s),to:j(C+t.length-1,1==t.length?s+t[0].length:t[t.length-1].length),match:v}}}}function h(r,t){for(var q,u=0;;){t.lastIndex=u;var s=t.exec(r);if(!s){return q}if(q=s,u=q.index+(q[0].length||1),u==r.length){return q}}}function c(v,u,x){u=e(u,"g");for(var q=x.line,t=x.ch,w=v.firstLine();q>=w;q--,t=-1){var s=v.getLine(q);t>-1&&(s=s.slice(0,t));var r=h(s,u);if(r){return{from:j(q,r.index),to:j(q,r.index+r[0].length),match:r}}}}function i(B,y,r){y=e(y,"gm");for(var x,A=1,D=r.line,w=B.firstLine();D>=w;){for(var u=0;A>u;u++){var q=B.getLine(D--);x=null==x?q.slice(0,r.ch):q+"\n"+x}A*=2;var v=h(x,y);if(v){var z=x.slice(0,v.index).split("\n"),t=v[0].split("\n"),C=D+z.length,s=z[z.length-1].length;return{from:j(C,s),to:j(C+t.length-1,1==t.length?s+t[0].length:t[t.length-1].length),match:v}}}}function m(x,v,w,t){if(x.length==v.length){return w}for(var u=0,r=w+Math.max(0,x.length-v.length);;){if(u==r){return u}var s=u+r>>1,q=t(x.slice(0,s)).length;if(q==w){return s}q>w?r=s:u=s+1}}function l(C,y,r,u){if(!y.length){return null}var w=u?p:a,F=w(y).split(/\r|\n\r?/);search:for(var G=r.line,q=r.ch,D=C.lastLine()+1-F.length;D>=G;G++,q=0){var B=C.getLine(G).slice(q),v=w(B);if(1==F.length){var E=v.indexOf(F[0]);if(-1==E){continue search}var r=m(B,v,E,w)+q;return{from:j(G,m(B,v,E,w)+q),to:j(G,m(B,v,E+F[0].length,w)+q)}}var x=v.length-F[0].length;if(v.slice(x)==F[0]){for(var t=1;t<F.length-1;t++){if(w(C.getLine(G+t))!=F[t]){continue search}}var s=C.getLine(G+F.length-1),A=w(s),z=F[F.length-1];if(A.slice(0,z.length)==z){return{from:j(G,m(B,v,x,w)+q),to:j(G+F.length-1,m(s,A,z.length,w))}}}}}function b(C,y,r,t){if(!y.length){return null}var x=t?p:a,E=x(y).split(/\r|\n\r?/);search:for(var F=r.line,q=r.ch,u=C.firstLine()-1+E.length;F>=u;F--,q=-1){var B=C.getLine(F);q>-1&&(B=B.slice(0,q));var v=x(B);if(1==E.length){var D=v.lastIndexOf(E[0]);if(-1==D){continue search}return{from:j(F,m(B,v,D,x)),to:j(F,m(B,v,D+E[0].length,x))}}var A=E[E.length-1];if(v.slice(0,A.length)==A){for(var s=1,r=F-E.length+1;s<E.length-1;s++){if(x(C.getLine(r+s))!=E[s]){continue search}}var z=C.getLine(F+1-E.length),w=x(z);if(w.slice(w.length-E[0].length)==E[0]){return{from:j(F+1-E.length,m(z,w,z.length-E[0].length,x)),to:j(F,m(B,v,A.length,x))}}}}}function k(t,s,u,q){this.atOccurrence=!1,this.doc=t,u=u?t.clipPos(u):j(0,0),this.pos={from:u,to:u};var r;"object"==typeof q?r=q.caseFold:(r=q,q=null),"string"==typeof s?(null==r&&(r=!1),this.matches=function(v,w){return(v?b:l)(t,s,w,r)}):(s=e(s,"gm"),this.matches=q&&q.multiline===!1?function(v,w){return(v?c:n)(t,s,w)}:function(v,w){return(v?i:g)(t,s,w)})}var p,a,j=d.Pos;String.prototype.normalize?(p=function(q){return q.normalize("NFD").toLowerCase()},a=function(q){return q.normalize("NFD")}):(p=function(q){return q.toLowerCase()},a=function(q){return q}),k.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(s){for(var q=this.matches(s,this.doc.clipPos(s?this.pos.from:this.pos.to));q&&0==d.cmpPos(q.from,q.to);){s?q.from.ch?q.from=j(q.from.line,q.from.ch-1):q=q.from.line==this.doc.firstLine()?null:this.matches(s,this.doc.clipPos(j(q.from.line-1))):q.to.ch<this.doc.getLine(q.to.line).length?q.to=j(q.to.line,q.to.ch+1):q=q.to.line==this.doc.lastLine()?null:this.matches(s,j(q.to.line+1,0))}if(q){return this.pos=q,this.atOccurrence=!0,this.pos.match||!0}var r=j(s?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(s,r){if(this.atOccurrence){var q=d.splitLines(s);this.doc.replaceRange(q,this.pos.from,this.pos.to,r),this.pos.to=j(this.pos.from.line+q.length-1,q[q.length-1].length+(1==q.length?this.pos.from.ch:0))}}},d.defineExtension("getSearchCursor",function(r,s,q){return new k(this.doc,r,s,q)}),d.defineDocExtension("getSearchCursor",function(r,s,q){return new k(this,r,s,q)}),d.defineExtension("selectMatches",function(s,r){for(var q=[],t=this.getSearchCursor(s,this.getCursor("from"),r);t.findNext()&&!(d.cmpPos(t.to(),this.getCursor("to"))>0);){q.push({anchor:t.from(),head:t.to()})}q.length&&this.setSelections(q,0)})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(c){function f(p,m,j){var r=p.getLineHandle(m.line),o=m.ch-1,l=j&&j.afterCursor;null==l&&(l=/(^| )cm-fat-cursor($| )/.test(p.getWrapperElement().className)),$(".cursor-place .line")[0].innerHTML=cssEditor.getCursor().line+1,$(".cursor-place .ch")[0].innerHTML=cssEditor.getCursor().ch+1;var n=!l&&o>=0&&g[r.text.charAt(o)]||g[r.text.charAt(++o)];if(!n){return null}var k=">"==n.charAt(1)?1:-1;if(j&&j.strict&&k>0!=(o==m.ch)){return null}var i=p.getTokenTypeAt(e(m.line,o+1)),q=b(p,e(m.line,o+(k>0?1:0)),k,i||null,j);return null==q?null:{from:e(m.line,o),to:q&&q.pos,match:q&&q.ch==n.charAt(0),forward:k>0}}function b(v,q,m,j,l){for(var k=l&&l.maxScanLineLength||10000,s=l&&l.maxScanLines||1000,u=[],w=l&&l.bracketRegex?l.bracketRegex:/[(){}[\]]/,p=m>0?Math.min(q.line+s,v.lastLine()+1):Math.max(v.firstLine()-1,q.line-s),n=q.line;n!=p;n+=m){var x=v.getLine(n);if(x){var t=m>0?0:x.length-1,o=m>0?x.length:-1;if(!(x.length>k)){for(n==q.line&&(t=q.ch-(0>m?1:0));t!=o;t+=m){var i=x.charAt(t);if(w.test(i)&&(void 0===j||v.getTokenTypeAt(e(n,t+1))==j)){var r=g[i];if(">"==r.charAt(1)==m>0){u.push(i)}else{if(!u.length){return{pos:e(n,t),ch:i}}u.pop()}}}}}}return n-m==(m>0?v.lastLine():v.firstLine())?!1:null}function a(s,n,m){for(var k=s.state.matchBrackets.maxHighlightLineLength||1000,r=[],l=s.listSelections(),o=0;o<l.length;o++){var q=l[o].empty()&&f(s,l[o].head,m);if(q&&s.getLine(q.from.line).length<=k){var j=q.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";r.push(s.markText(q.from,e(q.from.line,q.from.ch+1),{className:j})),q.to&&s.getLine(q.to.line).length<=k&&r.push(s.markText(q.to,e(q.to.line,q.to.ch+1),{className:j}))}}if(r.length){d&&s.state.focused&&s.focus();var p=function(){s.operation(function(){for(var t=0;t<r.length;t++){r[t].clear()}})};if(!n){return p}setTimeout(p,800)}}function h(i){i.operation(function(){i.state.matchBrackets.currentlyHighlighted&&(i.state.matchBrackets.currentlyHighlighted(),i.state.matchBrackets.currentlyHighlighted=null),i.state.matchBrackets.currentlyHighlighted=a(i,!1,i.state.matchBrackets)})}var d=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),e=c.Pos,g={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};c.defineOption("matchBrackets",!1,function(i,k,j){j&&j!=c.Init&&(i.off("cursorActivity",h),i.state.matchBrackets&&i.state.matchBrackets.currentlyHighlighted&&(i.state.matchBrackets.currentlyHighlighted(),i.state.matchBrackets.currentlyHighlighted=null)),k&&(i.state.matchBrackets="object"==typeof k?k:{},i.on("cursorActivity",h))}),c.defineExtension("matchBrackets",function(){a(this,!0)}),c.defineExtension("findMatchingBracket",function(k,j,i){return(i||"boolean"==typeof j)&&(i?(i.strict=j,j=i):j=j?{strict:!0}:null),f(this,k,j)}),c.defineExtension("scanForBracket",function(l,j,k,i){return b(this,l,j,k,i)})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(c){function d(j){for(var k=0;k<j.state.activeLines.length;k++){j.removeLineClass(j.state.activeLines[k],"wrap",h),j.removeLineClass(j.state.activeLines[k],"background",g),j.removeLineClass(j.state.activeLines[k],"gutter",f)}}function a(k,j){if(k.length!=j.length){return !1}for(var l=0;l<k.length;l++){if(k[l]!=j[l]){return !1}}return !0}function e(j,l){for(var p=[],n=0;n<l.length;n++){var m=l[n],o=j.getOption("styleActiveLine");if("object"==typeof o&&o.nonEmpty?m.anchor.line==m.head.line:m.empty()){var k=j.getLineHandleVisualStart(m.head.line);p[p.length-1]!=k&&p.push(k)}}a(j.state.activeLines,p)||j.operation(function(){d(j);for(var q=0;q<p.length;q++){j.addLineClass(p[q],"wrap",h),j.addLineClass(p[q],"background",g),j.addLineClass(p[q],"gutter",f)}j.state.activeLines=p})}function b(i,j){e(i,j.ranges)}var h="CodeMirror-activeline",g="CodeMirror-activeline-background",f="CodeMirror-activeline-gutter";c.defineOption("styleActiveLine",!1,function(i,l,j){var k=j==c.Init?!1:j;l!=k&&(k&&(i.off("beforeSelectionChange",b),d(i),delete i.state.activeLines),l&&(i.state.activeLines=[],e(i,i.listSelections()),i.on("beforeSelectionChange",b)))})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],a):a(CodeMirror)}(function(n){function k(w,v){return"string"==typeof w?w=new RegExp(w.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),v?"gi":"g"):w.global||(w=new RegExp(w.source,w.ignoreCase?"gi":"g")),{token:function(y){w.lastIndex=y.pos;var x=w.exec(y.string);return x&&x.index==y.pos?(y.pos+=x[0].length||1,"searching"):void (x?y.pos=x.index:y.skipToEnd())}}}function j(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(v){return v.state.search||(v.state.search=new j)}function e(v){return"string"==typeof v&&v==v.toLowerCase()}function b(v,w,x){return v.getSearchCursor(w,x,{caseFold:e(w),multiline:!0})}function d(v,y,z,w,x){v.openDialog(y,w,{value:z,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){q(v)},onKeyDown:x})}function p(v,y,w,z,x){v.openDialog?v.openDialog(y,x,{value:z,selectValueOnOpen:!0}):x(prompt(w,z))}function l(w,y,x,v){w.openConfirm?w.openConfirm(y,v):confirm(x)&&v[0]()}function i(v){return v.replace(/\\(.)/g,function(w,x){return"n"==x?"\n":"r"==x?"\r":x})}function h(w){var v=w.match(/^\/(.*)\/([a-z]*)$/);if(v){try{w=new RegExp(v[1],-1==v[2].indexOf("i")?"":"i")}catch(x){}}else{w=i(w)}return("string"==typeof w?""==w:w.test(""))&&(w=/x^/),w}function u(v,x,w){x.queryText=w,x.query=h(w),v.removeOverlay(x.overlay,e(x.query)),x.overlay=k(x.query,e(x.query)),v.addOverlay(x.overlay),v.showMatchesOnScrollbar&&(x.annotate&&(x.annotate.clear(),x.annotate=null),x.annotate=v.showMatchesOnScrollbar(x.query,e(x.query)))}function m(v,y,x,z){var C=r(v);if(C.query){return f(v,y)}var B=v.getSelection()||C.lastQuery;if(B instanceof RegExp&&"x^"==B.source&&(B=null),x&&v.openDialog){var w=null,A=function(E,D){n.e_stop(D),E&&(E!=C.queryText&&(u(v,C,E),C.posFrom=C.posTo=v.getCursor()),w&&(w.style.opacity=1),f(v,D.shiftKey,function(F,H){var G;H.line<3&&document.querySelector&&(G=v.display.wrapper.querySelector(".CodeMirror-dialog"))&&G.getBoundingClientRect().bottom-4>v.cursorCoords(H,"window").top&&((w=G).style.opacity=0.4)}))};d(v,t,B,A,function(F,H){var E=n.keyName(F),D=v.getOption("extraKeys"),G=D&&D[E]||n.keyMap[v.getOption("keyMap")][E];"findNext"==G||"findPrev"==G||"findPersistentNext"==G||"findPersistentPrev"==G?(n.e_stop(F),u(v,r(v),H),v.execCommand(G)):("find"==G||"findPersistent"==G)&&(n.e_stop(F),A(H,F))}),z&&B&&(u(v,C,B),f(v,y))}else{p(v,t,"Search for:",B,function(D){D&&!C.query&&v.operation(function(){u(v,C,D),C.posFrom=C.posTo=v.getCursor(),f(v,y)})})}}function f(v,w,x){v.operation(function(){var y=r(v),z=b(v,y.query,w?y.posFrom:y.posTo);(z.find(w)||(z=b(v,y.query,w?n.Pos(v.lastLine()):n.Pos(v.firstLine(),0)),z.find(w)))&&(v.setSelection(z.from(),z.to()),v.scrollIntoView({from:z.from(),to:z.to()},20),y.posFrom=z.from(),y.posTo=z.to(),x&&x(z.from(),z.to()))})}function q(v){v.operation(function(){var w=r(v);w.lastQuery=w.query,w.query&&(w.query=w.queryText=null,v.removeOverlay(w.overlay),w.annotate&&(w.annotate.clear(),w.annotate=null))})}function c(v,w,x){v.operation(function(){for(var z=b(v,w);z.findNext();){if("string"!=typeof w){var y=v.getRange(z.from(),z.to()).match(w);z.replace(x.replace(/\$(\d)/g,function(A,B){return y[B]}))}else{z.replace(x)}}})}function s(v,x){if(!v.getOption("readOnly")){var y=v.getSelection()||r(v).lastQuery,w='<span class="CodeMirror-search-label">'+(x?"Replace all:":"Replace:")+"</span>";p(v,w+a,w,y,function(z){z&&(z=h(z),p(v,g,"Replace with:","",function(D){if(D=i(D),x){c(v,z,D)}else{q(v);var C=b(v,z,v.getCursor("from")),B=function(){var E,F=C.from();!(E=C.findNext())&&(C=b(v,z),!(E=C.findNext())||F&&C.from().line==F.line&&C.from().ch==F.ch)||(v.setSelection(C.from(),C.to()),v.scrollIntoView({from:C.from(),to:C.to()}),l(v,o,"Replace?",[function(){A(E)},B,function(){c(v,z,D)}]))},A=function(E){C.replace("string"==typeof z?D:D.replace(/\$(\d)/g,function(F,G){return E[G]})),B()};B()}}))})}}var t='<input type="text" placeholder="Search... (Use /re/ syntax for regexp search)" class="CodeMirror-search-field"/>',a=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint"></span>',g='<span class="CodeMirror-search-label">With:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',o='<span class="CodeMirror-search-label">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';n.commands.find=function(v){q(v),m(v)},n.commands.findPersistent=function(v){q(v),m(v,!1,!0)},n.commands.findPersistentNext=function(v){m(v,!1,!0,!0)},n.commands.findPersistentPrev=function(v){m(v,!0,!0,!0)},n.commands.findNext=m,n.commands.findPrev=function(v){m(v,!0)},n.commands.clearSearch=q,n.commands.replace=s,n.commands.replaceAll=function(v){s(v,!0)}}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],a):a(CodeMirror)}(function(a){function b(e,i,g,j,h){e.openDialog?e.openDialog(i,h,{value:j,selectValueOnOpen:!0}):h(prompt(g,j))}function c(e,g){var f=Number(g);return/^[-+]/.test(g)?e.getCursor().line+f:f-1}var d='Jump to line: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use line:column or scroll% syntax)</span>';a.commands.jumpToLine=function(e){var f=e.getCursor();b(e,d,"Jump to line:",f.line+1+":"+f.ch,function(i){if(i){var h;if(h=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(i)){e.setCursor(c(e,h[1]),Number(h[2]))}else{if(h=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(i)){var g=Math.round(e.lineCount()*Number(h[1])/100);/^[-+]/.test(h[1])&&(g=f.line+g+1),e.setCursor(g-1,f.ch)}else{(h=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(i))&&e.setCursor(c(e,h[1]),f.ch)}}}})},a.keyMap["default"]["Alt-G"]="jumpToLine"}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],a):a(CodeMirror)}(function(b){function c(e,j,i,h){this.cm=e,this.options=h;var f={listenForChanges:!1};for(var k in h){f[k]=h[k]}f.className||(f.className="CodeMirror-search-match"),this.annotation=e.annotateScrollbar(f),this.query=j,this.caseFold=i,this.gap={from:e.firstLine(),to:e.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var g=this;e.on("change",this.changeHandler=function(l,m){g.onChange(m)})}function a(e,g,f){return g>=e?e:Math.max(g,e+f)}b.defineExtension("showMatchesOnScrollbar",function(g,f,e){return"string"==typeof e&&(e={className:e}),e||(e={}),new c(this,g,f,e)});var d=1000;c.prototype.findMatches=function(){if(this.gap){for(var g=0;g<this.matches.length;g++){var f=this.matches[g];if(f.from.line>=this.gap.to){break}f.to.line>=this.gap.from&&this.matches.splice(g--,1)}for(var h=this.cm.getSearchCursor(this.query,b.Pos(this.gap.from,0),this.caseFold),e=this.options&&this.options.maxMatches||d;h.findNext();){var f={from:h.from(),to:h.to()};if(f.from.line>=this.gap.to){break}if(this.matches.splice(g++,0,f),this.matches.length>e){break}}this.gap=null}},c.prototype.onChange=function(k){var l=k.from.line,e=b.changeEnd(k).line,f=e-k.to.line;if(this.gap?(this.gap.from=Math.min(a(this.gap.from,l,f),k.from.line),this.gap.to=Math.max(a(this.gap.to,l,f),k.from.line)):this.gap={from:k.from.line,to:e+1},f){for(var h=0;h<this.matches.length;h++){var j=this.matches[h],g=a(j.from.line,l,f);g!=j.from.line&&(j.from=b.Pos(g,j.from.ch));var m=a(j.to.line,l,f);m!=j.to.line&&(j.to=b.Pos(m,j.to.ch))}}clearTimeout(this.update);var n=this;this.update=setTimeout(function(){n.updateAfterChange()},250)},c.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},c.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(b){function d(n,m,o,i){function f(p){var q=g(n,m);if(!q||q.to.line-q.from.line<h){return null}for(var s=n.findMarksAt(q.from),r=0;r<s.length;++r){if(s[r].__isFold&&"fold"!==i){if(!p){return null}q.cleared=!0,s[r].clear()}}return q}if(o&&o.call){var g=o;o=null}else{var g=c(n,o,"rangeFinder")}"number"==typeof m&&(m=b.Pos(m,0));var h=c(n,o,"minFoldSize"),k=f(!0);if(c(n,o,"scanUp")){for(;!k&&m.line>n.firstLine();){m=b.Pos(m.line-1,0),k=f(!1)}}if(k&&!k.cleared&&"unfold"!==i){var l=e(n,o);b.on(l,"mousedown",function(p){j.clear(),b.e_preventDefault(p)});var j=n.markText(k.from,k.to,{replacedWith:l,clearOnEnter:c(n,o,"clearOnEnter"),__isFold:!0});j.on("clear",function(q,p){b.signal(n,"unfold",n,q,p)}),b.signal(n,"fold",n,k.from,k.to)}}function e(f,g){var h=c(f,g,"widget");if("string"==typeof h){var i=document.createTextNode(h);h=document.createElement("span"),h.appendChild(i),h.className="CodeMirror-foldmarker"}else{h&&(h=h.cloneNode(!0))}return h}function c(f,h,g){if(h&&void 0!==h[g]){return h[g]}var i=f.options.foldOptions;return i&&void 0!==i[g]?i[g]:a[g]}b.newFoldFunction=function(g,f){return function(h,i){d(h,i,{rangeFinder:g,widget:f})}},b.defineExtension("foldCode",function(h,f,g){d(this,h,f,g)}),b.defineExtension("isFolded",function(h){for(var g=this.findMarksAt(h),f=0;f<g.length;++f){if(g[f].__isFold){return !0}}}),b.commands.toggleFold=function(f){f.foldCode(f.getCursor())},b.commands.fold=function(f){f.foldCode(f.getCursor(),null,"fold")},b.commands.unfold=function(f){f.foldCode(f.getCursor(),null,"unfold")},b.commands.foldAll=function(f){f.operation(function(){for(var g=f.firstLine(),h=f.lastLine();h>=g;g++){f.foldCode(b.Pos(g,0),null,"fold")}})},b.commands.unfoldAll=function(f){f.operation(function(){for(var g=f.firstLine(),h=f.lastLine();h>=g;g++){f.foldCode(b.Pos(g,0),null,"unfold")}})},b.registerHelper("fold","combine",function(){var f=Array.prototype.slice.call(arguments,0);return function(g,k){for(var h=0;h<f.length;++h){var j=f[h](g,k);if(j){return j}}}}),b.registerHelper("fold","auto",function(f,k){for(var h=f.getHelpers(k,"fold"),g=0;g<h.length;g++){var j=h[g](f,k);if(j){return j}}});var a={rangeFinder:b.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};b.defineOption("foldOptions",null),b.defineExtension("foldOption",function(g,f){return c(this,g,f)})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],a):a(CodeMirror)}(function(d){function j(m){this.options=m,this.from=this.to=0}function i(m){return m===!0&&(m={}),null==m.gutter&&(m.gutter="CodeMirror-foldgutter"),null==m.indicatorOpen&&(m.indicatorOpen="CodeMirror-foldgutter-open"),null==m.indicatorFolded&&(m.indicatorFolded="CodeMirror-foldgutter-folded"),m}function c(m,n){for(var p=m.findMarks(h(n,0),h(n+1,0)),o=0;o<p.length;++o){if(p[o].__isFold&&p[o].find().from.line==n){return p[o]}}}function f(m){if("string"==typeof m){var n=document.createElement("div");return n.className=m+" CodeMirror-guttermarker-subtle",n}return m.cloneNode(!0)}function a(m,s,r){var o=m.state.foldGutter.options,q=s,p=m.foldOption(o,"minFoldSize"),n=m.foldOption(o,"rangeFinder");m.eachLine(s,r,function(t){var w=null;if(c(m,q)){w=f(o.indicatorFolded)}else{var v=h(q,0),u=n&&n(m,v);u&&u.to.line-u.from.line>=p&&(w=f(o.indicatorOpen))}m.setGutterMarker(t,o.gutter,w),++q})}function b(m){var n=m.getViewport(),o=m.state.foldGutter;o&&(m.operation(function(){a(m,n.from,n.to)}),o.from=n.from,o.to=n.to)}function k(m,n,q){var p=m.state.foldGutter;if(p){var o=p.options;if(q==o.gutter){var r=c(m,n);r?r.clear():m.foldCode(h(n,0),o.rangeFinder)}}}function g(m){var o=m.state.foldGutter;if(o){var n=o.options;o.from=o.to=0,clearTimeout(o.changeUpdate),o.changeUpdate=setTimeout(function(){b(m)},n.foldOnChangeTimeSpan||600)}}function l(m){var o=m.state.foldGutter;if(o){var n=o.options;clearTimeout(o.changeUpdate),o.changeUpdate=setTimeout(function(){var p=m.getViewport();o.from==o.to||p.from-o.to>20||o.from-p.to>20?b(m):m.operation(function(){p.from<o.from&&(a(m,p.from,o.from),o.from=p.from),p.to>o.to&&(a(m,o.to,p.to),o.to=p.to)})},n.updateViewportTimeSpan||400)}}function e(m,p){var o=m.state.foldGutter;if(o){var n=p.line;n>=o.from&&n<o.to&&a(m,n,n+1)}}d.defineOption("foldGutter",!1,function(m,o,n){n&&n!=d.Init&&(m.clearGutter(m.state.foldGutter.options.gutter),m.state.foldGutter=null,m.off("gutterClick",k),m.off("change",g),m.off("viewportChange",l),m.off("fold",e),m.off("unfold",e),m.off("swapDoc",g)),o&&(m.state.foldGutter=new j(i(o)),b(m),m.on("gutterClick",k),m.on("change",g),m.on("viewportChange",l),m.on("fold",e),m.on("unfold",e),m.on("swapDoc",g))});var h=d.Pos}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.registerHelper("fold","brace",function(m,h){function d(u){for(var i=h.ch,v=0;;){var w=0>=i?-1:g.lastIndexOf(u,i-1);if(-1!=w){if(1==v&&w<h.ch){break}if(t=m.getTokenTypeAt(a.Pos(o,w+1)),!/^(comment|string)/.test(t)){return w+1}i=w-1}else{if(1==v){break}v=1,i=g.length}}}var t,o=h.line,g=m.getLine(o),j="{",e="}",n=d("{");if(null==n&&(j="[",e="]",n=d("[")),null!=n){var f,q,l=1,c=m.lastLine();outer:for(var s=o;c>=s;++s){for(var p=m.getLine(s),k=s==o?n:0;;){var b=p.indexOf(j,k),r=p.indexOf(e,k);if(0>b&&(b=p.length),0>r&&(r=p.length),k=Math.min(b,r),k==p.length){break}if(m.getTokenTypeAt(a.Pos(s,k+1))==t){if(k==b){++l}else{if(!--l){f=s,q=k;break outer}}}++k}}if(null!=f&&(o!=f||q!=n)){return{from:a.Pos(o,n),to:a.Pos(f,q)}}}}),a.registerHelper("fold","import",function(b,i){function h(k){if(k<b.firstLine()||k>b.lastLine()){return null}var o=b.getTokenAt(a.Pos(k,1));if(/\S/.test(o.string)||(o=b.getTokenAt(a.Pos(k,o.end+1))),"keyword"!=o.type||"import"!=o.string){return null}for(var l=k,m=Math.min(b.lastLine(),k+10);m>=l;++l){var n=b.getLine(l),j=n.indexOf(";");if(-1!=j){return{startCh:o.end,end:a.Pos(l,j)}}}}var f,g=i.line,d=h(g);if(!d||h(g-1)||(f=h(g-2))&&f.end.line==g-1){return null}for(var c=d.end;;){var e=h(c.line+1);if(null==e){break}c=e.end}return{from:b.clipPos(a.Pos(g,d.startCh+1)),to:c}}),a.registerHelper("fold","include",function(b,h){function f(i){if(i<b.firstLine()||i>b.lastLine()){return null}var j=b.getTokenAt(a.Pos(i,1));return/\S/.test(j.string)||(j=b.getTokenAt(a.Pos(i,j.end+1))),"meta"==j.type&&"#include"==j.string.slice(0,8)?j.start+8:void 0}var g=h.line,d=f(g);if(null==d||null!=f(g-1)){return null}for(var c=g;;){var e=f(c+1);if(null==e){break}++c}return{from:a.Pos(g,d+1),to:b.clipPos(a.Pos(c))}})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(i){function l(r,q){return r.line-q.line||r.ch-q.ch}function a(q,r,t,s){this.line=r,this.ch=t,this.cm=q,this.text=q.getLine(r),this.min=s?Math.max(s.from,q.firstLine()):q.firstLine(),this.max=s?Math.min(s.to-1,q.lastLine()):q.lastLine()}function h(q,s){var r=q.cm.getTokenTypeAt(m(q.line,s));return r&&/\btag\b/.test(r)}function b(q){return q.line>=q.max?void 0:(q.ch=0,q.text=q.cm.getLine(++q.line),!0)}function n(q){return q.line<=q.min?void 0:(q.text=q.cm.getLine(--q.line),q.ch=q.text.length,!0)}function g(s){for(;;){var r=s.text.indexOf(">",s.ch);if(-1==r){if(b(s)){continue}return}if(h(s,r+1)){var q=s.text.lastIndexOf("/",r),t=q>-1&&!/\S/.test(s.text.slice(q+1,r));return s.ch=r+1,t?"selfClose":"regular"}s.ch=r+1}}function k(r){for(;;){var q=r.ch?r.text.lastIndexOf("<",r.ch-1):-1;if(-1==q){if(n(r)){continue}return}if(h(r,q+1)){c.lastIndex=q,r.ch=q;var s=c.exec(r.text);if(s&&s.index==q){return s}}else{r.ch=q}}}function p(q){for(;;){c.lastIndex=q.ch;var r=c.exec(q.text);if(!r){if(b(q)){continue}return}if(h(q,r.index+1)){return q.ch=r.index+r[0].length,r}q.ch=r.index+1}}function e(s){for(;;){var r=s.ch?s.text.lastIndexOf(">",s.ch-1):-1;if(-1==r){if(n(s)){continue}return}if(h(s,r+1)){var q=s.text.lastIndexOf("/",r),t=q>-1&&!/\S/.test(s.text.slice(q+1,r));return s.ch=r+1,t?"selfClose":"regular"}s.ch=r}}function f(t,r){for(var q=[];;){var s,v=p(t),x=t.line,w=t.ch-(v?v[0].length:0);if(!v||!(s=g(t))){return}if("selfClose"!=s){if(v[1]){for(var u=q.length-1;u>=0;--u){if(q[u]==v[2]){q.length=u;break}}if(0>u&&(!r||r==v[2])){return{tag:v[2],from:m(x,w),to:m(t.line,t.ch)}}}else{q.push(v[2])}}}}function d(s,r){for(var q=[];;){var w=e(s);if(!w){return}if("selfClose"!=w){var v=s.line,u=s.ch,x=k(s);if(!x){return}if(x[1]){q.push(x[2])}else{for(var t=q.length-1;t>=0;--t){if(q[t]==x[2]){q.length=t;break}}if(0>t&&(!r||r==x[2])){return{tag:x[2],from:m(s.line,s.ch),to:m(v,u)}}}}else{k(s)}}}var m=i.Pos,j="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o=j+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",c=new RegExp("<(/?)(["+j+"]["+o+"]*)","g");i.registerHelper("fold","xml",function(q,w){for(var s=new a(q,w.line,0);;){var r,v=p(s);if(!v||!(r=g(s))||s.line!=w.line){return}if(!v[1]&&"selfClose"!=r){var u=m(s.line,s.ch),t=f(s,v[2]);return t&&{from:u,to:t.from}}}}),i.findMatchingTag=function(q,x,t){var s=new a(q,x.line,x.ch,t);if(-1!=s.text.indexOf(">")||-1!=s.text.indexOf("<")){var r=g(s),w=r&&m(s.line,s.ch),v=r&&k(s);if(r&&v&&!(l(s,x)>0)){var u={from:m(s.line,s.ch),to:w,tag:v[2]};return"selfClose"==r?{open:u,close:null,at:"open"}:v[1]?{open:d(s,v[2]),close:u,at:"close"}:(s=new a(q,w.line,w.ch,t),{open:u,close:f(s,v[2]),at:"open"})}}},i.findEnclosingTag=function(r,x,t,q){for(var s=new a(r,x.line,x.ch,t);;){var v=d(s,q);if(!v){break}var u=new a(r,x.line,x.ch,t),w=f(u,v.tag);if(w){return{open:v,close:w}}}},i.scanForClosingTag=function(q,u,t,s){var r=new a(q,u.line,u.ch,s?{from:0,to:s}:null);return f(r,t)}}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){function b(c,f){var d=c.getLine(f),e=d.search(/\S/);return -1==e||/\bcomment\b/.test(c.getTokenTypeAt(a.Pos(f,e+1)))?-1:a.countColumn(d,null,c.getOption("tabSize"))}a.registerHelper("fold","indent",function(d,j){var f=b(d,j.line);if(!(0>f)){for(var h=null,g=j.line+1,e=d.lastLine();e>=g;++g){var c=b(d,g);if(-1==c){}else{if(!(c>f)){break}h=g}}return h?{from:a.Pos(j.line,d.getLine(j.line).length),to:a.Pos(h,d.getLine(h).length)}:void 0}})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.registerGlobalHelper("fold","comment",function(b){return b.blockCommentStart&&b.blockCommentEnd},function(l,h){var q=l.getModeAt(h),j=q.blockCommentStart,e=q.blockCommentEnd;if(j&&e){for(var m,n=h.line,g=l.getLine(n),r=h.ch,c=0;;){var o=0>=r?-1:g.lastIndexOf(j,r-1);if(-1!=o){if(1==c&&o<h.ch){return}if(/comment/.test(l.getTokenTypeAt(a.Pos(n,o+1)))&&(0==o||g.slice(o-e.length,o)==e||!/comment/.test(l.getTokenTypeAt(a.Pos(n,o))))){m=o+j.length;break}r=o-1}else{if(1==c){return}c=1,r=g.length}}var f,s,v=1,d=l.lastLine();outer:for(var u=n;d>=u;++u){for(var p=l.getLine(u),k=u==n?m:0;;){var b=p.indexOf(j,k),t=p.indexOf(e,k);if(0>b&&(b=p.length),0>t&&(t=p.length),k=Math.min(b,t),k==p.length){break}if(k==b){++v}else{if(!--v){f=u,s=k;break outer}}++k}}if(null!=f&&(n!=f||s!=m)){return{from:a.Pos(n,m),to:a.Pos(f,s)}}}})}),function(){function h(m,k){for(var l=0;l<k.length;l+=1){if(k[l]===m){return !0}}return !1}function d(k){return k.replace(/^\s+|\s+$/g,"")}function b(l,k){var m=new f(l,k);return m.beautify()}function f(m,E){function p(an,ao){var al=0;an&&(al=an.indentation_level,!G.just_added_newline()&&an.line_indent_level>al&&(al=an.line_indent_level));var am={mode:ao,parent:an,last_text:an?an.last_text:"",last_word:an?an.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:al,line_indent_level:an?an.line_indent_level:al,start_line_index:G.get_line_number(),ternary_depth:0};return am}function af(al){var ao=al.newlines,am=w.keep_array_indentation&&Q(v.mode);if(am){for(an=0;ao>an;an+=1){H(an>0)}}else{if(w.max_preserve_newlines&&ao>w.max_preserve_newlines&&(ao=w.max_preserve_newlines),w.preserve_newlines&&al.newlines>1){H();for(var an=1;ao>an;an+=1){H(!0)}}}q=al,l[q.type]()}function ah(an){an=an.replace(/\x0d/g,"");for(var am=[],al=an.indexOf("\n");-1!==al;){am.push(an.substring(0,al)),an=an.substring(al+1),al=an.indexOf("\n")}return an.length&&am.push(an),am}function r(am){if(am=void 0===am?!1:am,!G.just_added_newline()){if(w.preserve_newlines&&q.wanted_newline||am){H(!1,!0)}else{if(w.wrap_line_length){var al=G.current_line.get_character_count()+q.text.length+(G.space_before_token?1:0);al>=w.wrap_line_length&&H(!1,!0)}}}}function H(al,am){if(!am&&";"!==v.last_text&&","!==v.last_text&&"="!==v.last_text&&"TK_OPERATOR"!==W){for(;v.mode===e.Statement&&!v.if_block&&!v.do_block;){o()}}G.add_new_line(al)&&(v.multiline_frame=!0)}function D(){G.just_added_newline()&&(w.keep_array_indentation&&Q(v.mode)&&q.wanted_newline?(G.current_line.push(q.whitespace_before),G.space_before_token=!1):G.set_indent(v.indentation_level)&&(v.line_indent_level=v.indentation_level))}function N(al){al=al||q.text,D(),G.add_token(al)}function u(){v.indentation_level+=1}function A(){v.indentation_level>0&&(!v.parent||v.indentation_level>v.parent.indentation_level)&&(v.indentation_level-=1)}function t(al){v?(n.push(v),F=v):F=p(null,al),v=p(F,al)}function Q(al){return al===e.ArrayLiteral}function J(al){return h(al,[e.Expression,e.ForInitializer,e.Conditional])}function o(){n.length>0&&(F=v,v=n.pop(),F.mode===e.Statement&&G.remove_redundant_indentation(F))}function P(){return v.parent.mode===e.ObjectLiteral&&v.mode===e.Statement&&(":"===v.last_text&&0===v.ternary_depth||"TK_RESERVED"===W&&h(v.last_text,["get","set"]))}function I(){return"TK_RESERVED"===W&&h(v.last_text,["var","let","const"])&&"TK_WORD"===q.type||"TK_RESERVED"===W&&"do"===v.last_text||"TK_RESERVED"===W&&"return"===v.last_text&&!q.wanted_newline||"TK_RESERVED"===W&&"else"===v.last_text&&("TK_RESERVED"!==q.type||"if"!==q.text)||"TK_END_EXPR"===W&&(F.mode===e.ForInitializer||F.mode===e.Conditional)||"TK_WORD"===W&&v.mode===e.BlockStatement&&!v.in_case&&"--"!==q.text&&"++"!==q.text&&"TK_WORD"!==q.type&&"TK_RESERVED"!==q.type||v.mode===e.ObjectLiteral&&(":"===v.last_text&&0===v.ternary_depth||"TK_RESERVED"===W&&h(v.last_text,["get","set"]))?(t(e.Statement),u(),"TK_RESERVED"===W&&h(v.last_text,["var","let","const"])&&"TK_WORD"===q.type&&(v.declaration_statement=!0),P()||r("TK_RESERVED"===q.type&&h(q.text,["do","for","if","while"])),!0):!1}function aj(am,ao){for(var an=0;an<am.length;an++){var al=d(am[an]);if(al.charAt(0)!==ao){return !1}}return !0}function Z(ao,am){for(var an,ap=0,al=ao.length;al>ap;ap++){if(an=ao[ap],an&&0!==an.indexOf(am)){return !1}}return !0}function R(al){return h(al,["case","return","do","if","throw","else"])}function C(am){var al=k+(am||0);return 0>al||al>=O.length?null:O[al]}function ag(){I();var al=e.Expression;if("["===q.text){if("TK_WORD"===W||")"===v.last_text){return"TK_RESERVED"===W&&h(v.last_text,L.line_starters)&&(G.space_before_token=!0),t(al),N(),u(),void (w.space_in_paren&&(G.space_before_token=!0))}al=e.ArrayLiteral,Q(v.mode)&&("["===v.last_text||","===v.last_text&&("]"===B||"}"===B))&&(w.keep_array_indentation||H())}else{"TK_RESERVED"===W&&"for"===v.last_text?al=e.ForInitializer:"TK_RESERVED"===W&&h(v.last_text,["if","while"])&&(al=e.Conditional)}";"===v.last_text||"TK_START_BLOCK"===W?H():"TK_END_EXPR"===W||"TK_START_EXPR"===W||"TK_END_BLOCK"===W||"."===v.last_text?r(q.wanted_newline):"TK_RESERVED"===W&&"("===q.text||"TK_WORD"===W||"TK_OPERATOR"===W?"TK_RESERVED"===W&&("function"===v.last_word||"typeof"===v.last_word)||"*"===v.last_text&&"function"===B?w.space_after_anon_function&&(G.space_before_token=!0):"TK_RESERVED"!==W||!h(v.last_text,L.line_starters)&&"catch"!==v.last_text||w.space_before_conditional&&(G.space_before_token=!0):G.space_before_token=!0,"("===q.text&&("TK_EQUALS"===W||"TK_OPERATOR"===W)&&(P()||r()),t(al),N(),w.space_in_paren&&(G.space_before_token=!0),u()}function M(){for(;v.mode===e.Statement;){o()}v.multiline_frame&&r("]"===q.text&&Q(v.mode)&&!w.keep_array_indentation),w.space_in_paren&&("TK_START_EXPR"!==W||w.space_in_empty_paren?G.space_before_token=!0:(G.trim(),G.space_before_token=!1)),"]"===q.text&&w.keep_array_indentation?(N(),o()):(o(),N()),G.remove_redundant_indentation(F),v.do_while&&F.mode===e.Conditional&&(F.mode=e.Expression,v.do_block=!1,v.do_while=!1)}function V(){var al=C(1),an=C(2);t(an&&(":"===an.text&&h(al.type,["TK_STRING","TK_WORD","TK_RESERVED"])||h(al.text,["get","set"])&&h(an.type,["TK_WORD","TK_RESERVED"]))?h(B,["class","interface"])?e.BlockStatement:e.ObjectLiteral:e.BlockStatement);var ao=!al.comments_before.length&&"}"===al.text,am=ao&&"function"===v.last_word&&"TK_END_EXPR"===W;"expand"===w.brace_style||"none"===w.brace_style&&q.wanted_newline?"TK_OPERATOR"!==W&&(am||"TK_EQUALS"===W||"TK_RESERVED"===W&&R(v.last_text)&&"else"!==v.last_text)?G.space_before_token=!0:H(!1,!0):"TK_OPERATOR"!==W&&"TK_START_EXPR"!==W?"TK_START_BLOCK"===W?H():G.space_before_token=!0:Q(F.mode)&&","===v.last_text&&("}"===B?G.space_before_token=!0:H()),N(),u()}function X(){for(;v.mode===e.Statement;){o()}var al="TK_START_BLOCK"===W;"expand"===w.brace_style?al||H():al||(Q(v.mode)&&w.keep_array_indentation?(w.keep_array_indentation=!1,H(),w.keep_array_indentation=!0):H()),o(),N()}function y(){if("TK_RESERVED"===q.type&&v.mode!==e.ObjectLiteral&&h(q.text,["set","get"])&&(q.type="TK_WORD"),"TK_RESERVED"===q.type&&v.mode===e.ObjectLiteral){var am=C(1);":"==am.text&&(q.type="TK_WORD")}if(I()||!q.wanted_newline||J(v.mode)||"TK_OPERATOR"===W&&"--"!==v.last_text&&"++"!==v.last_text||"TK_EQUALS"===W||!w.preserve_newlines&&"TK_RESERVED"===W&&h(v.last_text,["var","let","const","set","get"])||H(),v.do_block&&!v.do_while){if("TK_RESERVED"===q.type&&"while"===q.text){return G.space_before_token=!0,N(),G.space_before_token=!0,void (v.do_while=!0)}H(),v.do_block=!1}if(v.if_block){if(v.else_block||"TK_RESERVED"!==q.type||"else"!==q.text){for(;v.mode===e.Statement;){o()}v.if_block=!1,v.else_block=!1}else{v.else_block=!0}}if("TK_RESERVED"===q.type&&("case"===q.text||"default"===q.text&&v.in_case_statement)){return H(),(v.case_body||w.jslint_happy)&&(A(),v.case_body=!1),N(),v.in_case=!0,void (v.in_case_statement=!0)}if("TK_RESERVED"===q.type&&"function"===q.text&&((h(v.last_text,["}",";"])||G.just_added_newline()&&!h(v.last_text,["[","{",":","=",","]))&&(G.just_added_blankline()||q.comments_before.length||(H(),H(!0))),"TK_RESERVED"===W||"TK_WORD"===W?"TK_RESERVED"===W&&h(v.last_text,["get","set","new","return","export"])?G.space_before_token=!0:"TK_RESERVED"===W&&"default"===v.last_text&&"export"===B?G.space_before_token=!0:H():"TK_OPERATOR"===W||"="===v.last_text?G.space_before_token=!0:(v.multiline_frame||!J(v.mode)&&!Q(v.mode))&&H()),("TK_COMMA"===W||"TK_START_EXPR"===W||"TK_EQUALS"===W||"TK_OPERATOR"===W)&&(P()||r()),"TK_RESERVED"===q.type&&h(q.text,["function","get","set"])){return N(),void (v.last_word=q.text)}if(U="NONE","TK_END_BLOCK"===W?"TK_RESERVED"===q.type&&h(q.text,["else","catch","finally"])?"expand"===w.brace_style||"end-expand"===w.brace_style||"none"===w.brace_style&&q.wanted_newline?U="NEWLINE":(U="SPACE",G.space_before_token=!0):U="NEWLINE":"TK_SEMICOLON"===W&&v.mode===e.BlockStatement?U="NEWLINE":"TK_SEMICOLON"===W&&J(v.mode)?U="SPACE":"TK_STRING"===W?U="NEWLINE":"TK_RESERVED"===W||"TK_WORD"===W||"*"===v.last_text&&"function"===B?U="SPACE":"TK_START_BLOCK"===W?U="NEWLINE":"TK_END_EXPR"===W&&(G.space_before_token=!0,U="NEWLINE"),"TK_RESERVED"===q.type&&h(q.text,L.line_starters)&&")"!==v.last_text&&(U="else"===v.last_text||"export"===v.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===q.type&&h(q.text,["else","catch","finally"])){if("TK_END_BLOCK"!==W||"expand"===w.brace_style||"end-expand"===w.brace_style||"none"===w.brace_style&&q.wanted_newline){H()}else{G.trim(!0);var al=G.current_line;"}"!==al.last()&&H(),G.space_before_token=!0}}else{"NEWLINE"===U?"TK_RESERVED"===W&&R(v.last_text)?G.space_before_token=!0:"TK_END_EXPR"!==W?"TK_START_EXPR"===W&&"TK_RESERVED"===q.type&&h(q.text,["var","let","const"])||":"===v.last_text||("TK_RESERVED"===q.type&&"if"===q.text&&"else"===v.last_text?G.space_before_token=!0:H()):"TK_RESERVED"===q.type&&h(q.text,L.line_starters)&&")"!==v.last_text&&H():v.multiline_frame&&Q(v.mode)&&","===v.last_text&&"}"===B?H():"SPACE"===U&&(G.space_before_token=!0)}N(),v.last_word=q.text,"TK_RESERVED"===q.type&&"do"===q.text&&(v.do_block=!0),"TK_RESERVED"===q.type&&"if"===q.text&&(v.if_block=!0)}function K(){for(I()&&(G.space_before_token=!1);v.mode===e.Statement&&!v.if_block&&!v.do_block;){o()}N()}function x(){I()?G.space_before_token=!0:"TK_RESERVED"===W||"TK_WORD"===W?G.space_before_token=!0:"TK_COMMA"===W||"TK_START_EXPR"===W||"TK_EQUALS"===W||"TK_OPERATOR"===W?P()||r():H(),N()}function S(){I(),v.declaration_statement&&(v.declaration_assignment=!0),G.space_before_token=!0,N(),G.space_before_token=!0}function ac(){return v.declaration_statement?(J(v.parent.mode)&&(v.declaration_assignment=!1),N(),void (v.declaration_assignment?(v.declaration_assignment=!1,H(!1,!0)):G.space_before_token=!0)):(N(),void (v.mode===e.ObjectLiteral||v.mode===e.Statement&&v.parent.mode===e.ObjectLiteral?(v.mode===e.Statement&&o(),H()):G.space_before_token=!0))}function aa(){if(I(),"TK_RESERVED"===W&&R(v.last_text)){return G.space_before_token=!0,void N()}if("*"===q.text&&"TK_DOT"===W){return void N()}if(":"===q.text&&v.in_case){return v.case_body=!0,u(),N(),H(),void (v.in_case=!1)}if("::"===q.text){return void N()}!q.wanted_newline||"--"!==q.text&&"++"!==q.text||H(!1,!0),"TK_OPERATOR"===W&&r();var am=!0,al=!0;h(q.text,["--","++","!","~"])||h(q.text,["-","+"])&&(h(W,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||h(v.last_text,L.line_starters)||","===v.last_text)?(am=!1,al=!1,";"===v.last_text&&J(v.mode)&&(am=!0),"TK_RESERVED"===W||"TK_END_EXPR"===W?am=!0:"TK_OPERATOR"===W&&(am=h(q.text,["--","-"])&&h(v.last_text,["--","-"])||h(q.text,["++","+"])&&h(v.last_text,["++","+"])),v.mode!==e.BlockStatement&&v.mode!==e.Statement||"{"!==v.last_text&&";"!==v.last_text||H()):":"===q.text?0===v.ternary_depth?am=!1:v.ternary_depth-=1:"?"===q.text?v.ternary_depth+=1:"*"===q.text&&"TK_RESERVED"===W&&"function"===v.last_text&&(am=!1,al=!1),G.space_before_token=G.space_before_token||am,N(),G.space_before_token=al}function ab(){var an,al=ah(q.text),am=!1,ao=!1,ap=q.whitespace_before,aq=ap.length;for(H(!1,!0),al.length>1&&(aj(al.slice(1),"*")?am=!0:Z(al.slice(1),ap)&&(ao=!0)),N(al[0]),an=1;an<al.length;an++){H(!1,!0),am?N(" "+d(al[an])):ao&&al[an].length>aq?N(al[an].substring(aq)):G.add_token(al[an])}H(!1,!0)}function T(){G.space_before_token=!0,N(),G.space_before_token=!0}function s(){q.wanted_newline?H(!1,!0):G.trim(!0),G.space_before_token=!0,N(),H(!1,!0)}function ad(){I(),"TK_RESERVED"===W&&R(v.last_text)?G.space_before_token=!0:r(")"===v.last_text&&w.break_chained_methods),N()}function Y(){N(),"\n"===q.text[q.text.length-1]&&H()}function ae(){for(;v.mode===e.Statement;){o()}}var G,k,L,q,W,B,ai,v,F,n,U,l,w,O=[],ak="";for(l={TK_START_EXPR:ag,TK_END_EXPR:M,TK_START_BLOCK:V,TK_END_BLOCK:X,TK_WORD:y,TK_RESERVED:y,TK_SEMICOLON:K,TK_STRING:x,TK_EQUALS:S,TK_OPERATOR:aa,TK_COMMA:ac,TK_BLOCK_COMMENT:ab,TK_INLINE_COMMENT:T,TK_COMMENT:s,TK_DOT:ad,TK_UNKNOWN:Y,TK_EOF:ae},E=E?E:{},w={},void 0!==E.braces_on_own_line&&(w.brace_style=E.braces_on_own_line?"expand":"collapse"),w.brace_style=E.brace_style?E.brace_style:w.brace_style?w.brace_style:"collapse","expand-strict"===w.brace_style&&(w.brace_style="expand"),w.indent_size=E.indent_size?parseInt(E.indent_size,10):4,w.indent_char=E.indent_char?E.indent_char:" ",w.preserve_newlines=void 0===E.preserve_newlines?!0:E.preserve_newlines,w.break_chained_methods=void 0===E.break_chained_methods?!1:E.break_chained_methods,w.max_preserve_newlines=void 0===E.max_preserve_newlines?0:parseInt(E.max_preserve_newlines,10),w.space_in_paren=void 0===E.space_in_paren?!1:E.space_in_paren,w.space_in_empty_paren=void 0===E.space_in_empty_paren?!1:E.space_in_empty_paren,w.jslint_happy=void 0===E.jslint_happy?!1:E.jslint_happy,w.space_after_anon_function=void 0===E.space_after_anon_function?!1:E.space_after_anon_function,w.keep_array_indentation=void 0===E.keep_array_indentation?!1:E.keep_array_indentation,w.space_before_conditional=void 0===E.space_before_conditional?!0:E.space_before_conditional,w.unescape_strings=void 0===E.unescape_strings?!1:E.unescape_strings,w.wrap_line_length=void 0===E.wrap_line_length?0:parseInt(E.wrap_line_length,10),w.e4x=void 0===E.e4x?!1:E.e4x,w.end_with_newline=void 0===E.end_with_newline?!1:E.end_with_newline,w.jslint_happy&&(w.space_after_anon_function=!0),E.indent_with_tabs&&(w.indent_char="	",w.indent_size=1),ai="";w.indent_size>0;){ai+=w.indent_char,w.indent_size-=1}var z=0;if(m&&m.length){for(;" "===m.charAt(z)||"	"===m.charAt(z);){ak+=m.charAt(z),z+=1}m=m.substring(z)}W="TK_START_BLOCK",B="",G=new i(ai,ak),n=[],t(e.BlockStatement),this.beautify=function(){var al,an;for(L=new j(m,w,ai),O=L.tokenize(),k=0;al=C();){for(var am=0;am<al.comments_before.length;am++){af(al.comments_before[am])}af(al),B=v.last_text,W=al.type,v.last_text=al.text,k+=1}return an=G.get_code(),w.end_with_newline&&(an+="\n"),an}}function c(l){var n=0,o=-1,m=[],k=!0;this.set_indent=function(p){n=l.baseIndentLength+p*l.indent_length,o=p},this.get_character_count=function(){return n},this.is_empty=function(){return k},this.last=function(){return this._empty?null:m[m.length-1]},this.push=function(p){m.push(p),n+=p.length,k=!1},this.remove_indent=function(){o>0&&(o-=1,n-=l.indent_length)},this.trim=function(){for(;" "===this.last();){m.pop();n-=1}k=0===m.length},this.toString=function(){var p="";return this._empty||(o>=0&&(p=l.indent_cache[o]),p+=m.join("")),p}}function i(k,m){m=m||"",this.indent_cache=[m],this.baseIndentLength=m.length,this.indent_length=k.length;var l=[];this.baseIndentString=m,this.indent_string=k,this.current_line=null,this.space_before_token=!1,this.get_line_number=function(){return l.length},this.add_new_line=function(n){return 1===this.get_line_number()&&this.just_added_newline()?!1:n||!this.just_added_newline()?(this.current_line=new c(this),l.push(this.current_line),!0):!1},this.add_new_line(!0),this.get_code=function(){var n=l.join("\n").replace(/[\r\n\t ]+$/,"");return n},this.set_indent=function(n){if(l.length>1){for(;n>=this.indent_cache.length;){this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string)}return this.current_line.set_indent(n),!0}return this.current_line.set_indent(0),!1},this.add_token=function(n){this.add_space_before_token(),this.current_line.push(n)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(p){if(!p.multiline_frame&&p.mode!==e.ForInitializer&&p.mode!==e.Conditional){for(var n=p.start_line_index,o=l.length;o>n;){l[n].remove_indent(),n++}}},this.trim=function(n){for(n=void 0===n?!1:n,this.current_line.trim(k,m);n&&l.length>1&&this.current_line.is_empty();){l.pop(),this.current_line=l[l.length-1],this.current_line.trim()}},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===l.length){return !0}var n=l[l.length-2];return n.is_empty()}return !1}}function j(v,k,y){function p(){var M,V=[];if(w=0,q="",x>=s){return["","TK_EOF"]}var L;L=t.length?t[t.length-1]:new a("TK_START_BLOCK","{");var R=v.charAt(x);for(x+=1;h(R,n);){if("\n"===R?(w+=1,V=[]):w&&(R===y?V.push(y):"\r"!==R&&V.push(" ")),x>=s){return["","TK_EOF"]}R=v.charAt(x),x+=1}if(V.length&&(q=V.join("")),u.test(R)){var G=!0,F=!0,T=u;for("0"===R&&s>x&&/[Xx]/.test(v.charAt(x))?(G=!1,F=!1,R+=v.charAt(x),x+=1,T=/[0123456789abcdefABCDEF]/):(R="",x-=1);s>x&&T.test(v.charAt(x));){R+=v.charAt(x),x+=1,G&&s>x&&"."===v.charAt(x)&&(R+=v.charAt(x),x+=1,G=!1),F&&s>x&&/[Ee]/.test(v.charAt(x))&&(R+=v.charAt(x),x+=1,s>x&&/[+-]/.test(v.charAt(x))&&(R+=v.charAt(x),x+=1),F=!1,G=!1)}return[R,"TK_WORD"]}if(g.isIdentifierStart(v.charCodeAt(x-1))){if(s>x){for(;g.isIdentifierChar(v.charCodeAt(x))&&(R+=v.charAt(x),x+=1,x!==s);){}}return"TK_DOT"===L.type||"TK_RESERVED"===L.type&&h(L.text,["set","get"])||!h(R,m)?[R,"TK_WORD"]:"in"===R?[R,"TK_OPERATOR"]:[R,"TK_RESERVED"]}if("("===R||"["===R){return[R,"TK_START_EXPR"]}if(")"===R||"]"===R){return[R,"TK_END_EXPR"]}if("{"===R){return[R,"TK_START_BLOCK"]}if("}"===R){return[R,"TK_END_BLOCK"]}if(";"===R){return[R,"TK_SEMICOLON"]}if("/"===R){var A="",J=!0;if("*"===v.charAt(x)){if(x+=1,s>x){for(;s>x&&("*"!==v.charAt(x)||!v.charAt(x+1)||"/"!==v.charAt(x+1))&&(R=v.charAt(x),A+=R,("\n"===R||"\r"===R)&&(J=!1),x+=1,!(x>=s));){}}return x+=2,J&&0===w?["/*"+A+"*/","TK_INLINE_COMMENT"]:["/*"+A+"*/","TK_BLOCK_COMMENT"]}if("/"===v.charAt(x)){for(A=R;"\r"!==v.charAt(x)&&"\n"!==v.charAt(x)&&(A+=v.charAt(x),x+=1,!(x>=s));){}return[A,"TK_COMMENT"]}}if("`"===R||"'"===R||'"'===R||("/"===R||k.e4x&&"<"===R&&v.slice(x-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_RESERVED"===L.type&&h(L.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===L.type&&")"===L.text&&L.parent&&"TK_RESERVED"===L.parent.type&&h(L.parent.text,["if","while","for"])||h(L.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var K=R,S=!1,C=!1;if(M=R,"/"===K){for(var D=!1;s>x&&(S||D||v.charAt(x)!==K)&&!g.newline.test(v.charAt(x));){M+=v.charAt(x),S?S=!1:(S="\\"===v.charAt(x),"["===v.charAt(x)?D=!0:"]"===v.charAt(x)&&(D=!1)),x+=1}}else{if(k.e4x&&"<"===K){var Q=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,B=v.slice(x-1),H=Q.exec(B);if(H&&0===H.index){for(var O=H[2],U=0;H;){var P=!!H[1],E=H[2],z=!!H[H.length-1]||"![CDATA["===E.slice(0,8);if(E!==O||z||(P?--U:++U),0>=U){break}H=Q.exec(B)}var N=H?H.index+H[0].length:B.length;return x+=N-1,[B.slice(0,N),"TK_STRING"]}}else{for(;s>x&&(S||v.charAt(x)!==K&&("`"===K||!g.newline.test(v.charAt(x))));){M+=v.charAt(x),S?(("x"===v.charAt(x)||"u"===v.charAt(x))&&(C=!0),S=!1):S="\\"===v.charAt(x),x+=1}}}if(C&&k.unescape_strings&&(M=l(M)),s>x&&v.charAt(x)===K&&(M+=K,x+=1,"/"===K)){for(;s>x&&g.isIdentifierStart(v.charCodeAt(x));){M+=v.charAt(x),x+=1}}return[M,"TK_STRING"]}if("#"===R){if(0===t.length&&"!"===v.charAt(x)){for(M=R;s>x&&"\n"!==R;){R=v.charAt(x),M+=R,x+=1}return[d(M)+"\n","TK_UNKNOWN"]}var I="#";if(s>x&&u.test(v.charAt(x))){do{R=v.charAt(x),I+=R,x+=1}while(s>x&&"#"!==R&&"="!==R);return"#"===R||("["===v.charAt(x)&&"]"===v.charAt(x+1)?(I+="[]",x+=2):"{"===v.charAt(x)&&"}"===v.charAt(x+1)&&(I+="{}",x+=2)),[I,"TK_WORD"]}}if("<"===R&&"<!--"===v.substring(x-1,x+3)){for(x+=3,R="<!--";"\n"!==v.charAt(x)&&s>x;){R+=v.charAt(x),x++}return r=!0,[R,"TK_COMMENT"]}if("-"===R&&r&&"-->"===v.substring(x-1,x+2)){return r=!1,x+=2,["-->","TK_COMMENT"]}if("."===R){return[R,"TK_DOT"]}if(h(R,o)){for(;s>x&&h(R+v.charAt(x),o)&&(R+=v.charAt(x),x+=1,!(x>=s));){}return","===R?[R,"TK_COMMA"]:"="===R?[R,"TK_EQUALS"]:[R,"TK_OPERATOR"]}return[R,"TK_UNKNOWN"]}function l(C){for(var F,z=!1,A="",E=0,B="",D=0;z||E<C.length;){if(F=C.charAt(E),E++,z){if(z=!1,"x"===F){B=C.substr(E,2),E+=2}else{if("u"!==F){A+="\\"+F;continue}B=C.substr(E,4),E+=4}if(!B.match(/^[0123456789abcdefABCDEF]+$/)){return C}if(D=parseInt(B,16),D>=0&&32>D){A+="x"===F?"\\x"+B:"\\u"+B;continue}if(34===D||39===D||92===D){A+="\\"+String.fromCharCode(D)}else{if("x"===F&&D>126&&255>=D){return C}A+=String.fromCharCode(D)}}else{"\\"===F?z=!0:A+=F}}return A}var n="\n\r	 ".split(""),u=/[0-9]/,o="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: => <%= <% %> <?= <? ?>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,yield,import,export".split(",");var w,q,r,t,x,s,m=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof"]);this.tokenize=function(){s=v.length,x=0,r=!1,t=[];for(var A,C,B,z=null,D=[],E=[];!C||"TK_EOF"!==C.type;){for(B=p(),A=new a(B[1],B[0],w,q);"TK_INLINE_COMMENT"===A.type||"TK_COMMENT"===A.type||"TK_BLOCK_COMMENT"===A.type||"TK_UNKNOWN"===A.type;){E.push(A),B=p(),A=new a(B[1],B[0],w,q)}E.length&&(A.comments_before=E,E=[]),"TK_START_BLOCK"===A.type||"TK_START_EXPR"===A.type?(A.parent=C,z=A,D.push(A)):("TK_END_BLOCK"===A.type||"TK_END_EXPR"===A.type)&&z&&("]"===A.text&&"["===z.text||")"===A.text&&"("===z.text||"}"===A.text&&"}"===z.text)&&(A.parent=z.parent,z=D.pop()),t.push(A),C=A}return t}}var g={};!function(k){var n="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",o="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",m=new RegExp("["+n+"]"),l=new RegExp("["+n+o+"]");k.newline=/[\n\r\u2028\u2029]/,k.isIdentifierStart=function(p){return 65>p?36===p:91>p?!0:97>p?95===p:123>p?!0:p>=170&&m.test(String.fromCharCode(p))},k.isIdentifierChar=function(p){return 48>p?36===p:58>p?!0:65>p?!1:91>p?!0:97>p?95===p:123>p?!0:p>=170&&l.test(String.fromCharCode(p))}}(g);var e={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},a=function(l,n,m,k){this.type=l,this.text=n,this.comments_before=[],this.newlines=m||0,this.wanted_newline=m>0,this.whitespace_before=k||"",this.parent=null};"function"==typeof define&&define.amd?define([],function(){return{js_beautify:b}}):"undefined"!=typeof exports?exports.js_beautify=b:"undefined"!=typeof window?window.js_beautify=b:"undefined"!=typeof global&&(global.js_beautify=b)}(),function(){function a(L,r){function e(){return v=L.charAt(++w),v||""}function i(M){var N=w;return M&&x(),result=L.charAt(w+1)||"",w=N-1,e(),result}function y(N){for(var M=w;e();){if("\\"===v){e()}else{if(-1!==N.indexOf(v)){break}if("\n"===v){break}}}return L.substring(M,w+1)}function j(O){var N=w,M=y(O);return w=N-1,e(),M}function x(){for(var M="";p.test(i());){e(),M+=v}return M}function l(){var M="";for(v&&p.test(v)&&(M=v);p.test(e());){M+=v}return M}function K(M){var N=w,M="/"===i();for(e();e();){if(!M&&"*"===v&&"/"===i()){e();break}if(M&&"\n"===v){return L.substring(N,w)}}return L.substring(N,w)+v}function h(M){return L.substring(w-M.length,w).toLowerCase()===M}function D(){for(var M=w+1;M<L.length;M++){var N=L.charAt(M);if("{"===N){return !0}if(";"===N||"}"===N||")"===N){return !1}}return !1}function o(){k++,b+=c}function g(){k--,b=b.slice(0,-G)}r=r||{};var G=r.indent_size||4,q=r.indent_char||" ",F=void 0===r.selector_separator_newline?!0:r.selector_separator_newline,C=void 0===r.end_with_newline?!1:r.end_with_newline,A=void 0===r.newline_between_rules?!0:r.newline_between_rules;"string"==typeof G&&(G=parseInt(G,10));var v,p=/^\s+$/,w=-1,b=L.match(/^[\t ]*/)[0],c=new Array(G+1).join(q),k=0,H=0,I={};I["{"]=function(M){I.singleSpace(),s.push(M),I.newLine()},I["}"]=function(M){I.newLine(),s.push(M),I.newLine()},I._lastCharWhitespace=function(){return p.test(s[s.length-1])},I.newLine=function(M){M||I.trim(),s.length&&s.push("\n"),b&&s.push(b)},I.singleSpace=function(){s.length&&!I._lastCharWhitespace()&&s.push(" ")},I.trim=function(){for(;I._lastCharWhitespace();){s.pop()}};var s=[];b&&s.push(b);for(var B=!1,m=!1,d="",z="";;){var t=l(),u=""!==t,E=-1!==t.indexOf("\n"),z=d,d=v;if(!v){break}if("/"===v&&"*"===i()){var f=h("");I.newLine(),s.push(K()),I.newLine(),f&&I.newLine(!0)}else{if("/"===v&&"/"===i()){E||"{"===z||I.trim(),I.singleSpace(),s.push(K()),I.newLine()}else{if("@"===v){u&&I.singleSpace(),s.push(v);var n=j(": ,;{}()[]/='\"").replace(/\s$/,"");n in a.NESTED_AT_RULE?(H+=1,n in a.CONDITIONAL_GROUP_RULE&&(m=!0)):": ".indexOf(n[n.length-1])>=0&&(e(),n=y(": ").replace(/\s$/,""),s.push(n),I.singleSpace())}else{"{"===v?"}"===i(!0)?(x(),e(),I.singleSpace(),s.push("{}"),I.newLine(),A&&0===k&&I.newLine(!0)):(o(),I["{"](v),m?(m=!1,B=k>H):B=k>=H):"}"===v?(g(),I["}"](v),B=!1,H&&H--,A&&0===k&&I.newLine(!0)):":"===v?(x(),!B&&!m||h("&")||D()?":"===i()?(e(),s.push("::")):s.push(":"):(s.push(":"),I.singleSpace())):'"'===v||"'"===v?(u&&I.singleSpace(),s.push(y(v))):";"===v?(s.push(v),I.newLine()):"("===v?h("url")?(s.push(v),x(),e()&&(")"!==v&&'"'!==v&&"'"!==v?s.push(y(")")):w--)):(u&&I.singleSpace(),s.push(v),x()):")"===v?s.push(v):","===v?(s.push(v),x(),!B&&F?I.newLine():I.singleSpace()):"]"===v?s.push(v):"["===v?(u&&I.singleSpace(),s.push(v)):"="===v?(x(),s.push(v)):(u&&I.singleSpace(),s.push(v))}}}}var J=s.join("").replace(/[\r\n\t ]+$/,"");return C&&(J+="\n"),J}a.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},a.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},"function"==typeof define&&define.amd?define([],function(){return{css_beautify:a}}):"undefined"!=typeof exports?exports.css_beautify=a:"undefined"!=typeof window?window.css_beautify=a:"undefined"!=typeof global&&(global.css_beautify=a)}(),function(){function e(f){return f.replace(/^\s+/g,"")}function c(f){return f.replace(/\s+$/g,"")}function b(C,i,u,k){function h(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=r,this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(J,t){for(var I=0;I<t.length;I++){if(J===t[I]){return !0}}return !1}},this.is_whitespace=function(t){for(var I=0;I<t.length;t++){if(!this.Utils.in_array(t.charAt(I),this.Utils.whitespace)){return !1}}return !0},this.traverse_whitespace=function(){var t="";if(t=this.input.charAt(this.pos),this.Utils.in_array(t,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(t,this.Utils.whitespace);){B&&"\n"===t&&this.newlines<=j&&(this.newlines+=1),this.pos++,t=this.input.charAt(this.pos)}return !0}return !1},this.space_or_wrap=function(t){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,t),this.print_indentation(t)):(this.line_char_count++,t.push(" "))},this.get_content=function(){for(var t="",J=[];"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length){return J.length?J.join(""):["","TK_EOF"]}if(this.traverse_whitespace()){this.space_or_wrap(J)}else{if(s){var I=this.input.substr(this.pos,3);if("{{#"===I||"{{/"===I){break}if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0)){break}}t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,J.push(t)}}return J.length?J.join(""):""},this.get_contents_to=function(I){if(this.pos===this.input.length){return["","TK_EOF"]}var J="",K=new RegExp("</"+I+"\\s*>","igm");K.lastIndex=this.pos;var t=K.exec(this.input),L=t?t.index:this.input.length;return this.pos<L&&(J=this.input.substring(this.pos,L),this.pos=L),J},this.record_tag=function(t){this.tags[t+"count"]?(this.tags[t+"count"]++,this.tags[t+this.tags[t+"count"]]=this.indent_level):(this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level),this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var I=this.tags.parent;I&&t+this.tags[t+"count"]!==I;){I=this.tags[I+"parent"]}I&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[I+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1===this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.indent_to_tag=function(t){if(this.tags[t+"count"]){for(var I=this.tags.parent;I&&t+this.tags[t+"count"]!==I;){I=this.tags[I+"parent"]}I&&(this.indent_level=this.tags[t+this.tags[t+"count"]])}},this.get_tag=function(T){var S,N,M,O="",Q=[],P="",I=!1,J=this.pos,t=this.line_char_count;T=void 0!==T?T:!1;do{if(this.pos>=this.input.length){return T&&(this.pos=J,this.line_char_count=t),Q.length?Q.join(""):["","TK_EOF"]}if(O=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(O,this.Utils.whitespace)){I=!0}else{if(("'"===O||'"'===O)&&(O+=this.get_unformatted(O),I=!0),"="===O&&(I=!1),Q.length&&"="!==Q[Q.length-1]&&">"!==O&&I&&(this.space_or_wrap(Q),I=!1),s&&"<"===M&&O+this.input.charAt(this.pos)==="{{"&&(O+=this.get_unformatted("}}"),Q.length&&" "!==Q[Q.length-1]&&"<"!==Q[Q.length-1]&&(O=" "+O),I=!0),"<"!==O||M||(S=this.pos-1,M="<"),s&&!M&&Q.length>=2&&"{"===Q[Q.length-1]&&"{"==Q[Q.length-2]&&(S="#"===O||"/"===O?this.pos-3:this.pos-2,M="{"),this.line_char_count++,Q.push(O),Q[1]&&"!"===Q[1]){Q=[this.get_comment(S)];break}if(s&&"{"===M&&Q.length>2&&"}"===Q[Q.length-2]&&"}"===Q[Q.length-1]){break}}}while(">"!==O);var L,K,U=Q.join("");L=U.indexOf(-1!==U.indexOf(" ")?" ":"{"===U[0]?"}":">"),K="<"!==U[0]&&s?"#"===U[2]?3:2:1;var R=U.substring(K,L).toLowerCase();return"/"===U.charAt(U.length-2)||this.Utils.in_array(R,this.Utils.single_token)?T||(this.tag_type="SINGLE"):s&&"{"===U[0]&&"else"===R?T||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(R,F)?(P=this.get_unformatted("</"+R+">",U),Q.push(P),N=this.pos-1,this.tag_type="SINGLE"):"script"===R&&(-1===U.search("type")||U.search("type")>-1&&U.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?T||(this.record_tag(R),this.tag_type="SCRIPT"):"style"===R&&(-1===U.search("type")||U.search("type")>-1&&U.search("text/css")>-1)?T||(this.record_tag(R),this.tag_type="STYLE"):"!"===R.charAt(0)?T||(this.tag_type="SINGLE",this.traverse_whitespace()):T||("/"===R.charAt(0)?(this.retrieve_tag(R.substring(1)),this.tag_type="END"):(this.record_tag(R),"html"!==R.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(Q),this.Utils.in_array(R,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),T&&(this.pos=J,this.line_char_count=t),Q.join("")},this.get_comment=function(I){var K="",J=">",t=!1;for(this.pos=I,input_char=this.input.charAt(this.pos),this.pos++;this.pos<=this.input.length&&(K+=input_char,K[K.length-1]!==J[J.length-1]||-1===K.indexOf(J));){!t&&K.length<10&&(0===K.indexOf("<![if")?(J="<![endif]>",t=!0):0===K.indexOf("<![cdata[")?(J="]]>",t=!0):0===K.indexOf("<![")?(J="]>",t=!0):0===K.indexOf("<!--")&&(J="-->",t=!0)),input_char=this.input.charAt(this.pos),this.pos++}return K},this.get_unformatted=function(I,J){if(J&&-1!==J.toLowerCase().indexOf(I)){return""}var t="",K="",M=0,L=!0;do{if(this.pos>=this.input.length){return K}if(t=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(t,this.Utils.whitespace)){if(!L){this.line_char_count--;continue}if("\n"===t||"\r"===t){K+="\n",this.line_char_count=0;continue}}K+=t,this.line_char_count++,L=!0,s&&"{"===t&&K.length&&"{"===K[K.length-2]&&(K+=this.get_unformatted("}}"),M=K.length)}while(-1===K.toLowerCase().indexOf(I,M));return K},this.get_token=function(){var t;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var I=this.last_token.substr(7);return t=this.get_contents_to(I),"string"!=typeof t?t:[t,"TK_"+I]}if("CONTENT"===this.current_mode){return t=this.get_content(),"string"!=typeof t?t:[t,"TK_CONTENT"]}if("TAG"===this.current_mode){if(t=this.get_tag(),"string"!=typeof t){return t}var J="TK_TAG_"+this.tag_type;return[t,J]}},this.get_full_indent=function(t){return t=this.indent_level+t||0,1>t?"":Array(t+1).join(this.indent_string)},this.is_unformatted=function(J,I){if(!this.Utils.in_array(J,I)){return !1}if("a"!==J.toLowerCase()||!this.Utils.in_array("a",I)){return !0}var K=this.get_tag(!0),t=(K||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return !t||this.Utils.in_array(t,I)?!0:!1},this.printer=function(K,J,t,M,L){this.input=K||"",this.output=[],this.indent_character=J,this.indent_string="",this.indent_size=t,this.brace_style=L,this.indent_level=0,this.wrap_line_length=M,this.line_char_count=0;for(var I=0;I<this.indent_size;I++){this.indent_string+=this.indent_character}this.print_newline=function(O,N){this.line_char_count=0,N&&N.length&&(O||"\n"!==N[N.length-1])&&("\n"!==N[N.length-1]&&(N[N.length-1]=c(N[N.length-1])),N.push("\n"))},this.print_indentation=function(N){for(var O=0;O<this.indent_level;O++){N.push(this.indent_string),this.line_char_count+=this.indent_string.length}},this.print_token=function(N){(!this.is_whitespace(N)||this.output.length)&&((N||""!==N)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),N=e(N)),this.print_token_raw(N))},this.print_token_raw=function(N){this.newlines>0&&(N=c(N)),N&&""!==N&&(N.length>1&&"\n"===N[N.length-1]?(this.output.push(N.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(N));for(var O=0;O<this.newlines;O++){this.print_newline(O>0,this.output)}this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var H,r,y,v,z,m,F,B,j,s,G;for(i=i||{},void 0!==i.wrap_line_length&&0!==parseInt(i.wrap_line_length,10)||void 0===i.max_char||0===parseInt(i.max_char,10)||(i.wrap_line_length=i.max_char),r=void 0===i.indent_inner_html?!1:i.indent_inner_html,y=void 0===i.indent_size?4:parseInt(i.indent_size,10),v=void 0===i.indent_char?" ":i.indent_char,m=void 0===i.brace_style?"collapse":i.brace_style,z=0===parseInt(i.wrap_line_length,10)?32786:parseInt(i.wrap_line_length||250,10),F=i.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],B=void 0===i.preserve_newlines?!0:i.preserve_newlines,j=B?isNaN(parseInt(i.max_preserve_newlines,10))?32786:parseInt(i.max_preserve_newlines,10):0,s=void 0===i.indent_handlebars?!1:i.indent_handlebars,G=void 0===i.end_with_newline?!1:i.end_with_newline,H=new h,H.printer(C,v,y,z,m);;){var q=H.get_token();if(H.token_text=q[0],H.token_type=q[1],"TK_EOF"===H.token_type){break}switch(H.token_type){case"TK_TAG_START":H.print_newline(!1,H.output),H.print_token(H.token_text),H.indent_content&&(H.indent(),H.indent_content=!1),H.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":H.print_newline(!1,H.output),H.print_token(H.token_text),H.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===H.last_token&&""===H.last_text){var E=H.token_text.match(/\w+/)[0],p=null;H.output.length&&(p=H.output[H.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===p||p[1]!==E)&&H.print_newline(!1,H.output)}H.print_token(H.token_text),H.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var g=H.token_text.match(/^\s*<([a-z-]+)/i);g&&H.Utils.in_array(g[1],F)||H.print_newline(!1,H.output),H.print_token(H.token_text),H.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":H.print_token(H.token_text),H.indent_content&&(H.indent(),H.indent_content=!1),H.current_mode="CONTENT";break;case"TK_CONTENT":H.print_token(H.token_text),H.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==H.token_text){H.print_newline(!1,H.output);var A,o=H.token_text,n=1;"TK_SCRIPT"===H.token_type?A="function"==typeof u&&u:"TK_STYLE"===H.token_type&&(A="function"==typeof k&&k),"keep"===i.indent_scripts?n=0:"separate"===i.indent_scripts&&(n=-H.indent_level);var f=H.get_full_indent(n);if(A){o=A(o.replace(/^\s*/,f),i)}else{var l=o.match(/^\s*/)[0],x=l.match(/[^\n\r]*$/)[0].split(H.indent_string).length-1,D=H.get_full_indent(n-x);o=o.replace(/^\s*/,f).replace(/\r\n|\r|\n/g,"\n"+D).replace(/\s+$/,"")}o&&(H.print_token_raw(o),H.print_newline(!0,H.output))}H.current_mode="TAG";break;default:""!==H.token_text&&H.print_token(H.token_text)}H.last_token=H.token_type,H.last_text=H.token_text}var w=H.output.join("").replace(/[\r\n\t ]+$/,"");return G&&(w+="\n"),w}if("function"==typeof define&&define.amd){define(["require","./beautify","./beautify-css"],function(g){var f=g("./beautify"),h=g("./beautify-css");return{html_beautify:function(j,i){return b(j,i,f.js_beautify,h.css_beautify)}}})}else{if("undefined"!=typeof exports){var a=require("./beautify.js"),d=require("./beautify-css.js");exports.html_beautify=function(g,f){return b(g,f,a.js_beautify,d.css_beautify)}}else{"undefined"!=typeof window?window.html_beautify=function(g,f){return b(g,f,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(g,f){return b(g,f,global.js_beautify,global.css_beautify)})}}}();var JavascriptObfuscator={detect:function(a){return/^var _0x[a-f0-9]+ ?\= ?\[/.test(a)},unpack:function(e){if(JavascriptObfuscator.detect(e)){var c=/var (_0x[a-f\d]+) ?\= ?\[(.*?)\];/.exec(e);if(c){var d=c[1],a=JavascriptObfuscator._smart_split(c[2]);e=e.substring(c[0].length);for(var b in a){e=e.replace(new RegExp(d+"\\["+b+"\\]","g"),JavascriptObfuscator._fix_quotes(JavascriptObfuscator._unescape(a[b])))}}}return e},_fix_quotes:function(b){var a=/^"(.*)"$/.exec(b);return a&&(b=a[1],b="'"+b.replace(/'/g,"\\'")+"'"),b},_smart_split:function(c){for(var a=[],d=0;d<c.length;){if('"'==c.charAt(d)){var b="";for(d+=1;d<c.length&&'"'!=c.charAt(d);){"\\"==c.charAt(d)&&(b+="\\",d++),b+=c.charAt(d),d++}a.push('"'+b+'"')}d+=1}return a},_unescape:function(b){for(var a=32;128>a;a++){b=b.replace(new RegExp("\\\\x"+a.toString(16),"ig"),String.fromCharCode(a))}return b=b.replace(/\\x09/g,"	")},run_tests:function(b){var a=b||new SanityTest;return a.test_function(JavascriptObfuscator._smart_split,"JavascriptObfuscator._smart_split"),a.expect("",[]),a.expect('"a", "b"',['"a"','"b"']),a.expect('"aaa","bbbb"',['"aaa"','"bbbb"']),a.expect('"a", "b\\""',['"a"','"b\\""']),a.test_function(JavascriptObfuscator._unescape,"JavascriptObfuscator._unescape"),a.expect("\\x40","@"),a.expect("\\x10","\\x10"),a.expect("\\x1","\\x1"),a.expect("\\x61\\x62\\x22\\x63\\x64",'ab"cd'),a.test_function(JavascriptObfuscator.detect,"JavascriptObfuscator.detect"),a.expect("",!1),a.expect("abcd",!1),a.expect("var _0xaaaa",!1),a.expect('var _0xaaaa = ["a", "b"]',!0),a.expect('var _0xaaaa=["a", "b"]',!0),a.expect('var _0x1234=["a","b"]',!0),a}},isNode="undefined"!=typeof module&&module.exports;if(isNode){var SanityTest=require(__dirname+"/../../test/sanitytest")}var Urlencoded={detect:function(a){if(-1==a.indexOf(" ")){if(-1!=a.indexOf("%2")){return !0}if(a.replace(/[^%]+/g,"").length>3){return !0}}return !1},unpack:function(a){return Urlencoded.detect(a)?unescape(-1!=a.indexOf("%2B")||-1!=a.indexOf("%2b")?a.replace(/\+/g,"%20"):a):a},run_tests:function(b){var a=b||new SanityTest;return a.test_function(Urlencoded.detect,"Urlencoded.detect"),a.expect("",!1),a.expect("var a = b",!1),a.expect("var%20a+=+b",!0),a.expect("var%20a=b",!0),a.expect("var%20%21%22",!0),a.expect("javascript:(function(){var%20whatever={init:function(){alert(%22a%22+%22b%22)}};whatever.init()})();",!0),a.test_function(Urlencoded.unpack,"Urlencoded.unpack"),a.expect("javascript:(function(){var%20whatever={init:function(){alert(%22a%22+%22b%22)}};whatever.init()})();",'javascript:(function(){var whatever={init:function(){alert("a"+"b")}};whatever.init()})();'),a.expect("",""),a.expect("abcd","abcd"),a.expect("var a = b","var a = b"),a.expect("var%20a=b","var a=b"),a.expect("var%20a=b+1","var a=b+1"),a.expect("var%20a=b%2b1","var a=b+1"),a}};isNode&&(module.exports=Urlencoded);var P_A_C_K_E_R={detect:function(a){return P_A_C_K_E_R.get_chunks(a).length>0},get_chunks:function(a){var b=a.match(/eval\(\(?function\(.*?(,0,\{\}\)\)|split\('\|'\)\)\))($|\n)/g);return b?b:[]},unpack:function(c){for(var a,d=P_A_C_K_E_R.get_chunks(c),b=0;b<d.length;b++){a=d[b].replace(/\n$/,""),c=c.split(a).join(P_A_C_K_E_R.unpack_chunk(a))}return c},unpack_chunk:function(str){var unpacked_source="",__eval=eval;if(P_A_C_K_E_R.detect(str)){try{eval=function(s){return unpacked_source+=s},__eval(str),"string"==typeof unpacked_source&&unpacked_source&&(str=unpacked_source)}catch(e){}}return eval=__eval,str},run_tests:function(g){var f=g||new SanityTest,c="eval(function(p,a,c,k,e,r){e=String;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('0 2=1',3,3,'var||a'.split('|'),0,{}))",a="var a=1",b="eval(function(p,a,c,k,e,r){e=String;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('0 2=1',3,3,'foo||b'.split('|'),0,{}))",h="foo b=1",e="eval(function(p,a,c,k,e,r){BORKBORK;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('0 2=1',3,3,'var||a'.split('|'),0,{}))";pk3="eval(function(p,a,c,k,e,r){e=String;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('0 2=1{}))',3,3,'var||a'.split('|'),0,{}))",unpk3="var a=1{}))",f.test_function(P_A_C_K_E_R.detect,"P_A_C_K_E_R.detect"),f.expect("",!1),f.expect("var a = b",!1),f.test_function(P_A_C_K_E_R.unpack,"P_A_C_K_E_R.unpack"),f.expect(e,e),f.expect(c,a),f.expect(b,h),f.expect(pk3,unpk3);var d="\nfiller\n";return f.expect(d+c+"\n"+e+d+b+d,d+a+"\n"+e+d+h+d),f}},MyObfuscate={detect:function(a){return/^var _?[0O1lI]{3}\=('|\[).*\)\)\);/.test(a)?!0:/^function _?[0O1lI]{3}\(_/.test(a)&&/eval\(/.test(a)?!0:!1},unpack:function(str){if(MyObfuscate.detect(str)){var __eval=eval;try{eval=function(unpacked){if(MyObfuscate.starts_with(unpacked,"var _escape")){var matches=/'([^']*)'/.exec(unpacked),unescaped=unescape(matches[1]);MyObfuscate.starts_with(unescaped,"<script>")&&(unescaped=unescaped.substr(8,unescaped.length-8)),MyObfuscate.ends_with(unescaped,"<\/script>")&&(unescaped=unescaped.substr(0,unescaped.length-9)),unpacked=unescaped}throw unpacked="// Unpacker warning: be careful when using myobfuscate.com for your projects:\n// scripts obfuscated by the free online version may call back home.\n\n//\n"+unpacked},__eval(str)}catch(e){"string"==typeof e&&(str=e)}eval=__eval}return str},starts_with:function(b,a){return b.substr(0,a.length)===a},ends_with:function(b,a){return b.substr(b.length-a.length,a.length)===a},run_tests:function(b){var a=b||new SanityTest;return a}};!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(b){function a(o,h){var t=h&&h.schemaInfo,E=h&&h.quoteChar||'"';if(t){var g=o.getCursor(),m=o.getTokenAt(g);m.end>g.ch&&(m.end=g.ch,m.string=m.string.slice(0,g.ch-m.start));var F=b.innerMode(o.getMode(),m.state);if("xml"==F.mode.name){var A,C,p=[],z=!1,H=/\btag\b/.test(m.type)&&!/>$/.test(m.string),e=H&&/^\w/.test(m.string);if(e){var s=o.getLine(g.line).slice(Math.max(0,m.start-2),m.start),l=/<\/$/.test(s)?"close":/<$/.test(s)?"open":null;l&&(C=m.start-("close"==l?2:1))}else{H&&"<"==m.string?l="open":H&&"</"==m.string&&(l="close")}if(!H&&!F.state.tagName||l){e&&(A=m.string),z=l;var f=F.state.context,u=f&&t[f.tagName],k=f?u&&u.children:t["!top"];if(k&&"close"!=l){for(var B=0;B<k.length;++B){A&&0!=k[B].lastIndexOf(A,0)||p.push("<"+k[B])}}else{if("close"!=l){for(var G in t){!t.hasOwnProperty(G)||"!top"==G||"!attrs"==G||A&&0!=G.lastIndexOf(A,0)||p.push("<"+G)}}}f&&(!A||"close"==l&&0==f.tagName.lastIndexOf(A,0))&&p.push("</"+f.tagName+">")}else{var u=t[F.state.tagName],x=u&&u.attrs,j=t["!attrs"];if(!x&&!j){return}if(x){if(j){var r={};for(var d in j){j.hasOwnProperty(d)&&(r[d]=j[d])}for(var d in x){x.hasOwnProperty(d)&&(r[d]=x[d])}x=r}}else{x=j}if("string"==m.type||"="==m.string){var q,s=o.getRange(c(g.line,Math.max(0,g.ch-60)),c(g.line,"string"==m.type?m.start:m.end)),v=s.match(/([^\s\u00a0=<>\"\']+)=$/);if(!v||!x.hasOwnProperty(v[1])||!(q=x[v[1]])){return}if("function"==typeof q&&(q=q.call(this,o)),"string"==m.type){A=m.string;var w=0;/['"]/.test(m.string.charAt(0))&&(E=m.string.charAt(0),A=m.string.slice(1),w++);var D=m.string.length;/['"]/.test(m.string.charAt(D-1))&&(E=m.string.charAt(D-1),A=m.string.substr(w,D-2)),z=!0}for(var B=0;B<q.length;++B){A&&0!=q[B].lastIndexOf(A,0)||p.push(E+q[B]+E)}}else{"attribute"==m.type&&(A=m.string,z=!0);for(var y in x){!x.hasOwnProperty(y)||A&&0!=y.lastIndexOf(A,0)||p.push(y)}}}return{list:p,from:z?c(g.line,null==C?m.start:C):g,to:z?c(g.line,m.end):g}}}}var c=b.Pos;b.registerHelper("hint","xml",a)}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(e){function b(p,r){this.cm=p,this.options=r,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var q=this;p.on("cursorActivity",this.activityFunc=function(){q.cursorActivity()})}function n(p,u,r){var s=p.options.hintOptions,q={};for(var t in c){q[t]=c[t]}if(s){for(var t in s){void 0!==s[t]&&(q[t]=s[t])}}if(r){for(var t in r){void 0!==r[t]&&(q[t]=r[t])}}return q.hint.resolve&&(q.hint=q.hint.resolve(p,u)),q}function o(p){return"string"==typeof p?p:p.text}function d(t,w){function s(x,z){var y;y="string"!=typeof z?function(A){return z(A,w)}:q.hasOwnProperty(z)?q[z]:z,r[x]=y}var q={Up:function(){w.moveFocus(-1)},Down:function(){w.moveFocus(1)},PageUp:function(){w.moveFocus(-w.menuSize()+1,!0)},PageDown:function(){w.moveFocus(w.menuSize()-1,!0)},Home:function(){w.setFocus(0)},End:function(){w.setFocus(w.length-1)},Enter:w.pick,Tab:w.pick,Esc:w.close},v=t.options.customKeys,r=v?{}:q;if(v){for(var u in v){v.hasOwnProperty(u)&&s(u,v[u])}}var p=t.options.extraKeys;if(p){for(var u in p){p.hasOwnProperty(u)&&s(u,p[u])}}return r}function l(q,p){for(;p&&p!=q;){if("LI"===p.nodeName.toUpperCase()&&p.parentNode==q){return p}p=p.parentNode}}function m(D,O){this.completion=D,this.data=O,this.picked=!1;var u=this,z=D.cm,L=this.hints=document.createElement("ul");L.className="CodeMirror-hints",this.selectedHint=O.selectedHint||0;for(var y=O.list,N=0;N<y.length;++N){var t=L.appendChild(document.createElement("li")),s=y[N],r=i+(N!=this.selectedHint?"":" "+h);null!=s.className&&(r=s.className+" "+r),t.className=r,s.render?s.render(t,O,s):t.appendChild(document.createTextNode(s.displayText||o(s))),t.hintId=N}var x=z.cursorCoords(D.options.alignWithWord?O.from:null),v=x.left,H=x.bottom,F=!0;L.style.left=v+"px",L.style.top=H+"px";var A=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),M=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(D.options.container||document.body).appendChild(L);var B=L.getBoundingClientRect(),C=B.bottom-M,q=L.scrollHeight>L.clientHeight+1,G=z.getScrollInfo();if(C>0){var I=B.bottom-B.top,p=x.top-(x.bottom-B.top);if(p-I>0){L.style.top=(H=x.top-I)+"px",F=!1}else{if(I>M){L.style.height=M-5+"px",L.style.top=(H=x.bottom-B.top)+"px";var w=z.getCursor();O.from.ch!=w.ch&&(x=z.cursorCoords(w),L.style.left=(v=x.left)+"px",B=L.getBoundingClientRect())}}}var E=B.right-A;if(E>0&&(B.right-B.left>A&&(L.style.width=A-5+"px",E-=B.right-B.left-A),L.style.left=(v=x.left-E)+"px"),q){for(var K=L.firstChild;K;K=K.nextSibling){K.style.paddingRight=z.display.nativeBarWidth+"px"}}if(z.addKeyMap(this.keyMap=d(D,{moveFocus:function(Q,P){u.changeActive(u.selectedHint+Q,P)},setFocus:function(P){u.changeActive(P)},menuSize:function(){return u.screenAmount()},length:y.length,close:function(){D.close()},pick:function(){u.pick()},data:O})),D.options.closeOnUnfocus){var J;z.on("blur",this.onBlur=function(){J=setTimeout(function(){D.close()},100)}),z.on("focus",this.onFocus=function(){clearTimeout(J)})}return z.on("scroll",this.onScroll=function(){var S=z.getScrollInfo(),R=z.getWrapperElement().getBoundingClientRect(),Q=H+G.top-S.top,P=Q-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return F||(P+=L.offsetHeight),P<=R.top||P>=R.bottom?D.close():(L.style.top=Q+"px",void (L.style.left=v+G.left-S.left+"px"))}),e.on(L,"dblclick",function(Q){var P=l(L,Q.target||Q.srcElement);P&&null!=P.hintId&&(u.changeActive(P.hintId),u.pick())}),e.on(L,"click",function(Q){var P=l(L,Q.target||Q.srcElement);P&&null!=P.hintId&&(u.changeActive(P.hintId),D.options.completeOnSingleClick&&u.pick())}),e.on(L,"mousedown",function(){setTimeout(function(){z.focus()},20)}),e.signal(O,"select",y[this.selectedHint],L.childNodes[this.selectedHint]),!0}function j(q,s){if(!q.somethingSelected()){return s}for(var p=[],r=0;r<s.length;r++){s[r].supportsSelection&&p.push(s[r])}return p}function f(s,q,r,t){if(s.async){s(q,t,r)}else{var p=s(q,r);p&&p.then?p.then(t):t(p)}}function a(p,t){var s,r=p.getHelpers(t,"hint");if(r.length){var q=function(u,y,v){function w(z){return z==x.length?y(null):void f(x[z],u,v,function(A){A&&A.list.length>0?y(A):w(z+1)})}var x=j(u,r);w(0)};return q.async=!0,q.supportsSelection=!0,q}return(s=p.getHelper(p.getCursor(),"hintWords"))?function(u){return e.hint.fromList(u,{words:s})}:e.hint.anyword?function(u,v){return e.hint.anyword(u,v)}:function(){}}var i="CodeMirror-hint",h="CodeMirror-hint-active";e.showHint=function(p,q,r){if(!q){return p.showHint(r)}r&&r.async&&(q.async=!0);var s={hint:q};if(r){for(var t in r){s[t]=r[t]}}return p.showHint(s)},e.defineExtension("showHint",function(q){q=n(this,this.getCursor("start"),q);var s=this.listSelections();if(!(s.length>1)){if(this.somethingSelected()){if(!q.hint.supportsSelection){return}for(var r=0;r<s.length;r++){if(s[r].head.line!=s[r].anchor.line){return}}}this.state.completionActive&&this.state.completionActive.close();var p=this.state.completionActive=new b(this,q);p.options.hint&&(e.signal(this,"startCompletion",this),p.update(!0))}});var k=window.requestAnimationFrame||function(p){return setTimeout(p,1000/60)},g=window.cancelAnimationFrame||clearTimeout;b.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(r,q){var p=r.list[q];p.hint?p.hint(this.cm,r,p):this.cm.replaceRange(o(p),p.from||r.from,p.to||r.to,"complete"),e.signal(r,"pick",p),this.close()},cursorActivity:function(){this.debounce&&(g(this.debounce),this.debounce=0);var r=this.cm.getCursor(),p=this.cm.getLine(r.line);if(r.line!=this.startPos.line||p.length-r.ch!=this.startLen-this.startPos.ch||r.ch<this.startPos.ch||this.cm.somethingSelected()||r.ch&&this.options.closeCharacters.test(p.charAt(r.ch-1))){this.close()}else{var q=this;this.debounce=k(function(){q.update()}),this.widget&&this.widget.disable()}},update:function(r){if(null!=this.tick){var p=this,q=++this.tick;f(this.options.hint,this.cm,this.options,function(s){p.tick==q&&p.finishUpdate(s,r)})}},finishUpdate:function(q,r){this.data&&e.signal(this.data,"update");var p=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=q,q&&q.list.length&&(p&&1==q.list.length?this.pick(q,0):(this.widget=new m(this,q),e.signal(q,"shown")))}},m.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var p=this.completion.cm;this.completion.options.closeOnUnfocus&&(p.off("blur",this.onBlur),p.off("focus",this.onFocus)),p.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var p=this;this.keyMap={Enter:function(){p.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(p,r){if(p>=this.data.list.length?p=r?this.data.list.length-1:0:0>p&&(p=r?0:this.data.list.length-1),this.selectedHint!=p){var q=this.hints.childNodes[this.selectedHint];q.className=q.className.replace(" "+h,""),q=this.hints.childNodes[this.selectedHint=p],q.className+=" "+h,q.offsetTop<this.hints.scrollTop?this.hints.scrollTop=q.offsetTop-3:q.offsetTop+q.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=q.offsetTop+q.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],q)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:a}),e.registerHelper("hint","fromList",function(v,y){var w=v.getCursor(),q=v.getTokenAt(w),t=e.Pos(w.line,q.end);if(q.string&&/\w/.test(q.string[q.string.length-1])){var r=q.string,u=e.Pos(w.line,q.start)}else{var r="",u=t}for(var x=[],s=0;s<y.words.length;s++){var p=y.words[s];p.slice(0,r.length)==r&&x.push(p)}return x.length?{list:x,from:u,to:t}:void 0}),e.commands.autocomplete=e.showHint;var c={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(c){var b=/[\w$]+/,a=500;c.registerHelper("hint","anyword",function(o,u){for(var f=u&&u.word||b,n=u&&u.range||a,q=o.getCursor(),e=o.getLine(q.line),l=q.ch,h=l;h&&f.test(e.charAt(h-1));){--h}for(var g=h!=l&&e.slice(h,l),p=u&&u.list||[],d={},s=new RegExp(f.source,"g"),k=-1;1>=k;k+=2){for(var t=q.line,j=Math.min(Math.max(t+k*n,o.firstLine()),o.lastLine())+k;t!=j;t+=k){for(var i,r=o.getLine(t);i=s.exec(r);){(t!=q.line||i[0]!==g)&&(g&&0!=i[0].lastIndexOf(g,0)||Object.prototype.hasOwnProperty.call(d,i[0])||(d[i[0]]=!0,p.push(i[0])))}}}return{list:p,from:c.Pos(q.line,h),to:c.Pos(q.line,l)}})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(d){function g(p,r){for(var q=0,s=p.length;s>q;++q){r(p[q])}}function e(p,r){if(!Array.prototype.indexOf){for(var q=p.length;q--;){if(p[q]===r){return !0}}return !1}return -1!=p.indexOf(r)}function h(u,t,w,q){var v=u.getCursor(),s=w(u,v);if(!/\b(?:string|comment)\b/.test(s.type)){s.state=d.innerMode(u.getMode(),s.state).state,/^[\w$_]*$/.test(s.string)?s.end>v.ch&&(s.end=v.ch,s.string=s.string.slice(0,v.ch-s.start)):s={start:v.ch,end:v.ch,string:"",state:s.state,type:"."==s.string?"property":null};for(var p=s;"property"==p.type;){if(p=w(u,k(v.line,p.start)),"."!=p.string){return}if(p=w(u,k(v.line,p.start)),!r){var r=[]}r.push(p)}return{list:i(s,r,t,q),from:k(v.line,s.start),to:k(v.line,s.end)}}}function a(q,p){return h(q,c,function(r,s){return r.getTokenAt(s)},p)}function b(q,r){var p=q.getTokenAt(r);return r.ch==p.start+1&&"."==p.string.charAt(0)?(p.end=p.start,p.string=".",p.type="property"):/^\.[\w$_]*$/.test(p.string)&&(p.type="property",p.start++,p.string=p.string.replace(/\./,"")),p}function j(q,p){return h(q,n,b,p)}function l(q,s){if(Object.getOwnPropertyNames&&Object.getPrototypeOf){for(var r=q;r;r=Object.getPrototypeOf(r)){Object.getOwnPropertyNames(r).forEach(s)}}else{for(var p in q){s(p)}}}function i(u,s,y,B){function w(v){0!=v.lastIndexOf(r,0)||e(A,v)||A.push(v)}function t(v){"string"==typeof v?g(m,w):v instanceof Array?g(o,w):v instanceof Function&&g(f,w),l(v,w)}var A=[],r=u.string,q=B&&B.globalScope||window;if(s&&s.length){var p,x=s.pop();for(x.type&&0===x.type.indexOf("variable")?(B&&B.additionalContext&&(p=B.additionalContext[x.string]),B&&B.useGlobalScope===!1||(p=p||q[x.string])):"string"==x.type?p="":"atom"==x.type?p=1:"function"==x.type&&(null==q.jQuery||"$"!=x.string&&"jQuery"!=x.string||"function"!=typeof q.jQuery?null!=q._&&"_"==x.string&&"function"==typeof q._&&(p=q._()):p=q.jQuery());null!=p&&s.length;){p=p[s.pop().string]}null!=p&&t(p)}else{for(var z=u.state.localVars;z;z=z.next){w(z.name)}for(var z=u.state.globalVars;z;z=z.next){w(z.name)}B&&B.useGlobalScope===!1||t(q),g(y,w)}return A}var k=d.Pos;d.registerHelper("hint","javascript",a),d.registerHelper("hint","coffeescript",j);var m="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),o="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),f="prototype apply call bind".split(" "),c="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),n="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./xml-hint")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./xml-hint"],a):a(CodeMirror)}(function(f){function i(o){for(var n in d){d.hasOwnProperty(n)&&(o.attrs[n]=d[n])}}function k(n,o){var q={schemaInfo:h};if(o){for(var p in o){q[p]=o[p]}}return f.hint.xml(n,q)}var g="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),j=["_blank","_self","_top","_parent"],a=["ascii","utf-8","utf-16","latin1","latin1"],e=["get","post","put","delete"],b=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],c=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"],m={attrs:{}},h={a:{attrs:{href:null,ping:null,type:null,media:c,target:j,hreflang:g}},abbr:m,acronym:m,address:m,applet:m,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:c,hreflang:g,type:null,shape:["default","rect","circle","poly"]}},article:m,aside:m,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:m,base:{attrs:{href:null,target:j}},basefont:m,bdi:m,bdo:m,big:m,blockquote:{attrs:{cite:null}},body:m,br:m,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:b,formmethod:e,formnovalidate:["","novalidate"],formtarget:j,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:m,center:m,cite:m,code:m,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:m,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:m,dir:m,div:m,dl:m,dt:m,em:m,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:m,figure:m,font:m,footer:m,form:{attrs:{action:null,name:null,"accept-charset":a,autocomplete:["on","off"],enctype:b,method:e,novalidate:["","novalidate"],target:j}},frame:m,frameset:m,h1:m,h2:m,h3:m,h4:m,h5:m,h6:m,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:m,hgroup:m,hr:m,html:{attrs:{manifest:null},children:["head","body"]},i:m,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:b,formmethod:e,formnovalidate:["","novalidate"],formtarget:j,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:m,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:m,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:g,media:c,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:m,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:a,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:m,noframes:m,noscript:m,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:m,param:{attrs:{name:null,value:null}},pre:m,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:m,rt:m,ruby:m,s:m,samp:m,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:a}},section:m,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:m,source:{attrs:{src:null,type:null,media:null}},span:m,strike:m,strong:m,style:{attrs:{type:["text/css"],media:c,scoped:null}},sub:m,summary:m,sup:m,table:m,tbody:m,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:m,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:m,time:{attrs:{datetime:null}},title:m,tr:m,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:g}},tt:m,u:m,ul:m,"var":m,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:m},d={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","icon","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};i(m);for(var l in h){h.hasOwnProperty(l)&&h[l]!=m&&i(h[l])}f.htmlSchema=h,f.registerHelper("hint","html",k)}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../../mode/css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../mode/css/css"],a):a(CodeMirror)}(function(a){var b={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1};a.registerHelper("hint","css",function(g){function k(o){for(var n in o){c&&0!=n.lastIndexOf(c,0)||l.push(n)}}var h=g.getCursor(),e=g.getTokenAt(h),m=a.innerMode(g.getMode(),e.state);if("css"==m.mode.name){if("keyword"==e.type&&0=="!important".indexOf(e.string)){return{list:["!important"],from:a.Pos(h.line,e.start),to:a.Pos(h.line,e.end)}}var d=e.start,f=h.ch,c=e.string.slice(0,f-d);/[^\w$_-]/.test(c)&&(c="",d=f=h.ch);var i=a.resolveMode("text/css"),l=[],j=m.state.state;return"pseudo"==j||"variable-3"==e.type?k(b):"block"==j||"maybeprop"==j?k(i.propertyKeywords):"prop"==j||"parens"==j||"at"==j||"params"==j?(k(i.valueKeywords),k(i.colorKeywords)):("media"==j||"media_parens"==j)&&(k(i.mediaTypes),k(i.mediaFeatures)),l.length?{list:l,from:a.Pos(h.line,d),to:a.Pos(h.line,f)}:void 0}})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(b){function a(f,h,e){function i(l){var k=b.wheelEventPixels(l)["horizontal"==g.orientation?"x":"y"],j=g.pos;g.moveTo(g.pos+k),g.pos!=j&&b.e_preventDefault(l)}this.orientation=h,this.scroll=e,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=f+"-"+h,this.inner=this.node.appendChild(document.createElement("div"));var g=this;b.on(this.inner,"mousedown",function(n){function k(){b.off(document,"mousemove",j),b.off(document,"mouseup",k)}function j(p){return 1!=p.which?k():void g.moveTo(m+(p[l]-o)*(g.total/g.size))}if(1==n.which){b.e_preventDefault(n);var l="horizontal"==g.orientation?"pageX":"pageY",o=n[l],m=g.pos;b.on(document,"mousemove",j),b.on(document,"mouseup",k)}}),b.on(this.node,"click",function(l){b.e_preventDefault(l);var k,j=g.inner.getBoundingClientRect();k="horizontal"==g.orientation?l.clientX<j.left?-1:l.clientX>j.right?1:0:l.clientY<j.top?-1:l.clientY>j.bottom?1:0,g.moveTo(g.pos+k*g.screen)}),b.on(this.node,"mousewheel",i),b.on(this.node,"DOMMouseScroll",i)}function c(g,f,e){this.addClass=g,this.horiz=new a(g,"horizontal",e),f(this.horiz.node),this.vert=new a(g,"vertical",e),f(this.vert.node),this.width=null}a.prototype.setPos=function(f,e){return 0>f&&(f=0),f>this.total-this.screen&&(f=this.total-this.screen),e||f!=this.pos?(this.pos=f,this.inner.style["horizontal"==this.orientation?"left":"top"]=f*(this.size/this.total)+"px",!0):!1},a.prototype.moveTo=function(e){this.setPos(e)&&this.scroll(e,this.orientation)};var d=10;a.prototype.update=function(g,h,i){var f=this.screen!=h||this.total!=g||this.size!=i;f&&(this.screen=h,this.total=g,this.size=i);var e=this.screen*(this.size/this.total);d>e&&(this.size-=d-e,e=d),this.inner.style["horizontal"==this.orientation?"width":"height"]=e+"px",this.setPos(this.pos,f)},c.prototype.update=function(h){if(null==this.width){var g=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;g&&(this.width=parseInt(g.height))}var f=this.width||0,i=h.scrollWidth>h.clientWidth+1,e=h.scrollHeight>h.clientHeight+1;return this.vert.node.style.display=e?"block":"none",this.horiz.node.style.display=i?"block":"none",e&&(this.vert.update(h.scrollHeight,h.clientHeight,h.viewHeight-(i?f:0)),this.vert.node.style.bottom=i?f+"px":"0"),i&&(this.horiz.update(h.scrollWidth,h.clientWidth,h.viewWidth-(e?f:0)-h.barLeft),this.horiz.node.style.right=e?f+"px":"0",this.horiz.node.style.left=h.barLeft+"px"),{right:e?f:0,bottom:i?f:0}},c.prototype.setScrollTop=function(e){this.vert.setPos(e)},c.prototype.setScrollLeft=function(e){this.horiz.setPos(e)},c.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},b.scrollbarModel.simple=function(f,e){return new c("CodeMirror-simplescroll",f,e)},b.scrollbarModel.overlay=function(f,e){return new c("CodeMirror-overlayscroll",f,e)}}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){function b(c,e){function f(g){clearTimeout(d.doRedraw),d.doRedraw=setTimeout(function(){d.redraw()},g)}this.cm=c,this.options=e,this.buttonHeight=e.scrollButtonHeight||c.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=c.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var d=this;c.on("refresh",this.resizeHandler=function(){clearTimeout(d.doUpdate),d.doUpdate=setTimeout(function(){d.computeScale()&&f(20)},100)}),c.on("markerAdded",this.resizeHandler),c.on("markerCleared",this.resizeHandler),e.listenForChanges!==!1&&c.on("change",this.changeHandler=function(){f(250)})}a.defineExtension("annotateScrollbar",function(c){return"string"==typeof c&&(c={className:c}),new b(this,c)}),a.defineOption("scrollButtonHeight",0),b.prototype.computeScale=function(){var c=this.cm,d=(c.getWrapperElement().clientHeight-c.display.barHeight-2*this.buttonHeight)/c.getScrollerElement().scrollHeight;return d!=this.hScale?(this.hScale=d,!0):void 0},b.prototype.update=function(c){this.annotations=c,this.redraw()},b.prototype.redraw=function(n){function q(w,v){if(k!=w.line&&(k=w.line,r=h.getLineHandle(k)),r.widgets&&r.widgets.length||j&&r.height>s){return h.charCoords(w,"local")[v?"top":"bottom"]}var i=h.heightAtLine(r,"local");return i+(v?0:r.height)}n!==!1&&this.computeScale();var h=this.cm,t=this.hScale,d=document.createDocumentFragment(),f=this.annotations,j=h.getOption("lineWrapping"),s=j&&1.5*h.defaultTextHeight(),k=null,r=null,c=h.lastLine();if(h.display.barWidth){for(var u,o=0;o<f.length;o++){var p=f[o];if(!(p.to.line>c)){for(var l=u||q(p.from,!0)*t,g=q(p.to,!1)*t;o<f.length-1&&!(f[o+1].to.line>c)&&(u=q(f[o+1].from,!0)*t,!(u>g+0.9));){p=f[++o],g=q(p.to,!1)*t}if(g!=l){var m=Math.max(g-l,3),e=d.appendChild(document.createElement("div"));e.style.cssText="position: absolute; right: 0px; width: "+Math.max(h.display.barWidth-1,2)+"px; top: "+(l+this.buttonHeight)+"px; height: "+m+"px",e.className=this.options.className,p.id&&e.setAttribute("annotation-id",p.id)}}}}this.div.textContent="",this.div.appendChild(d)},b.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("change",this.changeHandler),this.div.parentNode.removeChild(this.div)}});
$('.close-screen .loader').animate({width: '70%'}, 300);